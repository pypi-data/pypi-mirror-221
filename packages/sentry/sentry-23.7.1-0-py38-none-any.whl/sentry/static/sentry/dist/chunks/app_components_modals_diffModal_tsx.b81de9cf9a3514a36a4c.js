"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_diffModal_tsx"],{"./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx":(e,t,n)=>{n.d(t,{ZP:()=>a}),n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/core-js/modules/es.array.unshift.js");var o=n("./app/components/events/interfaces/frame/utils.tsx"),s=n("./app/utils.tsx");function i(e,t){return e+Array(Math.max(0,t-e.length)+1).join(" ")}function r(e,t,n){switch(e.platform&&(n=e.platform),n){case"javascript":return function(e){let t="";return(0,s.ri)(e.function)?t+="  at "+e.function+"(":t+="  at ? (",(0,s.ri)(e.filename)?t+=e.filename:(0,s.ri)(e.module)&&(t+=e.module),(0,s.ri)(e.lineNo)&&e.lineNo>=0&&(t+=":"+e.lineNo),(0,s.ri)(e.colNo)&&e.colNo>=0&&(t+=":"+e.colNo),t+=")",t}(e);case"ruby":return function(e){let t="  from ";return(0,s.ri)(e.filename)?t+=e.filename:(0,s.ri)(e.module)?t+="("+e.module+")":t+="?",(0,s.ri)(e.lineNo)&&e.lineNo>=0&&(t+=":"+e.lineNo),(0,s.ri)(e.colNo)&&e.colNo>=0&&(t+=":"+e.colNo),(0,s.ri)(e.function)&&(t+=":in `"+e.function+"'"),t}(e);case"php":return function(e,t){const n="null"===e.function?"{main}":e.function;return`#${t} ${e.filename||e.module}(${e.lineNo}): ${n}`}(e,t);case"python":default:return function(e){let t="";return(0,s.ri)(e.filename)?t+='  File "'+e.filename+'"':(0,s.ri)(e.module)?t+='  Module "'+e.module+'"':t+="  ?",(0,s.ri)(e.lineNo)&&e.lineNo>=0&&(t+=", line "+e.lineNo),(0,s.ri)(e.colNo)&&e.colNo>=0&&(t+=", col "+e.colNo),(0,s.ri)(e.function)&&(t+=", in "+e.function),(0,s.ri)(e.context)&&e.context.forEach((n=>{n[0]===e.lineNo&&(t+="\n    "+(0,s.fy)(n[1]))})),t}(e);case"java":return function(e){let t="    at";return(0,s.ri)(e.module)&&(t+=" "+e.module+"."),(0,s.ri)(e.function)&&(t+=e.function),(0,s.ri)(e.filename)&&(t+="("+e.filename,(0,s.ri)(e.lineNo)&&e.lineNo>=0&&(t+=":"+e.lineNo),t+=")"),t}(e);case"objc":case"cocoa":case"native":return function(e){let t="  ";return(0,s.ri)(e.package)&&(t+=i((0,o.Q6)(e.package),20)),(0,s.ri)(e.instructionAddr)&&(t+=i(e.instructionAddr,12)),t+=" "+(e.function||e.symbolAddr),(0,s.ri)(e.filename)&&(t+=" ("+e.filename,(0,s.ri)(e.lineNo)&&e.lineNo>=0&&(t+=":"+e.lineNo),t+=")"),t}(e)}}function a(e,t,n){const o=[];return(e?.frames??[]).forEach(((e,n)=>{o.push(r(e,n,t))})),"python"!==t&&o.reverse(),n&&o.unshift(function(e,t){return"java"===t?function(e){let t=`${e.type}: ${e.value}`;return e.module&&(t=`${e.module}.${t}`),t}(e):e.type+": "+e.value}(n,t)),o.join("\n")}},"./app/components/events/interfaces/frame/utils.tsx":(e,t,n)=>{n.d(t,{C4:()=>x,H5:()=>m,IR:()=>g,IY:()=>f,Q6:()=>c,XQ:()=>d,Xf:()=>u,c$:()=>p,jU:()=>v,uI:()=>h});var o=n("./app/icons/index.tsx"),s=n("./app/locale.tsx"),i=n("./app/types/index.tsx"),r=n("./app/utils.tsx"),a=n("./app/components/events/interfaces/types.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const t=e.split(/^([a-z]:\\|\\\\)/i.test(e)?"\\":"/");return(t[t.length-1]||t[t.length-2]||e).replace(/\.(dylib|so|a|dll|exe)$/,"")}function u(e,t){return e||t}function d(e){const{symbolicatorStatus:t}=e,n=e.function||"<unknown>",i=(0,l.tZ)(o.BS,{size:"xs",color:"#2c45a8"}),r=(0,l.tZ)(o.FC,{size:"xs",color:"red300"});if(n.match(/^@objc\s/))return[(0,s.t)("Objective-C -> Swift shim frame"),i];if(n.match(/^__?hidden#\d+/))return[(0,s.t)("Hidden function from bitcode build"),r];if(!t&&"<unknown>"===n)return[(0,s.t)("No function name was supplied by the client SDK."),i];if("<unknown>"===n||"<redacted>"===n&&t===a.i.MISSING_SYMBOL)switch(t){case a.i.MISSING_SYMBOL:return[(0,s.t)("The symbol was not found within the debug file."),i];case a.i.UNKNOWN_IMAGE:return[(0,s.t)("No image is specified for the address of the frame."),i];case a.i.MISSING:return[(0,s.t)("The debug file could not be retrieved from any of the sources."),r];case a.i.MALFORMED:return[(0,s.t)("The retrieved debug file could not be processed."),r]}return"<redacted>"===n?[(0,s.t)("Unknown system frame. Usually from beta SDKs"),i]:[null,null]}function p(e){return"csharp"===e}function f(e){return(0,r.ri)(e.context)&&!!e.context.length}function m(e){return!(0,r.z)(e.vars||{})}function h(e){return!(0,r.z)(e)}function x(e,t){return p(u(e.platform,t??"other"))&&(0,r.ri)(e.package)}function g(e){let{frame:t,registers:n,emptySourceNotation:o,platform:s,isOnlyFrame:i}=e;return!i&&o||f(t)||m(t)||h(n)||x(t,s)}function v(e){let{event:t,hasNextFrame:n}=e;return n?(0,s.t)("Called from"):t.type===i.eP.ERROR?function(e){const t=e.tags?.find((e=>{let{key:t}=e;return"mechanism"===t}))?.value;return"ANR"===t||"AppExitInfo"===t||"AppHang"===t||"mx_hang_diagnostic"===t}(t)?(0,s.t)("Occurred in non-app"):(0,s.t)("Crashed in non-app"):(0,s.t)("Occurred in non-app")}},"./app/components/events/interfaces/types.tsx":(e,t,n)=>{let o;n.d(t,{i:()=>o}),function(e){e.SYMBOLICATED="symbolicated",e.MISSING_SYMBOL="missing_symbol",e.UNKNOWN_IMAGE="unknown_image",e.MISSING="missing",e.MALFORMED="malformed"}(o||(o={}))},"./app/components/modals/diffModal.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>y,modalCss:()=>v});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),r=n("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),a=n("./app/actionCreators/indicator.tsx"),l=n("./app/components/loadingIndicator.tsx"),c=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),d=n("./app/utils/getStacktraceBody.tsx"),p=n("./app/utils/withApi.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{loading:!0,baseEvent:[],targetEvent:[],SplitDiffAsync:void 0}),(0,o.Z)(this,"fetchEventData",(async(e,t)=>{const{orgId:n,project:o,api:s}=this.props;let i=t;"latest"===t&&(i=(await s.requestPromise(`/issues/${e}/events/latest/`)).eventID);const r=await s.requestPromise(`/projects/${n}/${o.slug}/events/${i}/`);return(0,d.Z)(r)}))}componentDidMount(){this.fetchData()}fetchData(){const{baseIssueId:e,targetIssueId:t,baseEventId:o,targetEventId:s}=this.props;Promise.all([Promise.all([n.e("vendors-node_modules_diff_lib_index_mjs"),n.e("app_components_splitDiff_tsx")]).then(n.bind(n,"./app/components/splitDiff.tsx")),this.fetchEventData(e,o??"latest"),this.fetchEventData(t,s??"latest")]).then((e=>{let[{default:t},n,o]=e;this.setState({SplitDiffAsync:t,baseEvent:n,targetEvent:o,loading:!1})})).catch((()=>{(0,a.Iw)((0,c.t)("Error loading events"))}))}render(){const{className:e}=this.props,{SplitDiffAsync:t,loading:n,baseEvent:o,targetEvent:s}=this.state;return(0,f.BX)(x,{className:e,loading:n,children:[n&&(0,f.tZ)(l.Z,{}),!n&&t&&o.map(((e,n)=>(0,f.tZ)(t,{base:e,target:s[n]??"",type:"words"},n)))]})}}m.displayName="IssueDiff",(0,o.Z)(m,"defaultProps",{baseEventId:"latest",targetEventId:"latest"});const h=(0,p.Z)(m),x=(0,s.Z)("div",{shouldForwardProp:e=>"string"==typeof e&&(0,r.Z)(e)&&"loading"!==e,target:"e35ohk90"})("background-color:",(e=>e.theme.backgroundSecondary),";overflow:auto;padding:",(0,u.D)(1),";flex:1;display:flex;flex-direction:column;",(e=>e.loading&&`\n        background-color: ${e.theme.background};\n        justify-content: center;\n        align-items: center;\n      `),";");function g(e){let{className:t,Body:n,CloseButton:o,...s}=e;return(0,f.BX)(n,{children:[(0,f.tZ)(o,{}),(0,f.tZ)(h,{className:t,...s})]})}g.displayName="DiffModal";const v={name:"1rr6fjx",styles:"position:absolute;left:20px;right:20px;top:20px;bottom:20px;display:flex;padding:0;width:auto;[role='document']{height:100%;display:flex;flex:1;}section{display:flex;width:100%;}"},y=g},"./app/utils/getStacktraceBody.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});var o=n("./app/components/events/interfaces/crashContent/stackTrace/rawContent.tsx");function s(e){if(!e||!e.entries)return[];const t=e.entries.find((e=>{let{type:t}=e;return"exception"===t}));if(!t){const t=e.entries.find((e=>{let{type:t}=e;return"message"===t}));return t?t?.data?.formatted&&[t.data.formatted]:[]}return t.data?t.data.values.filter((e=>!!e.stacktrace)).map((t=>(0,o.ZP)(t.stacktrace,e.platform,t))).reduce(((e,t)=>e.concat(t)),[]):[]}},"./app/utils/useApi.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var o=n("../node_modules/react/index.js"),s=n("./app/api.tsx");const i=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,o.useRef)();void 0===n.current&&void 0===t&&(n.current=new s.KU);const i=t??n.current,r=(0,o.useCallback)((()=>{e||i.clear()}),[i,e]);return(0,o.useEffect)((()=>r),[r]),i}},"./app/utils/withApi.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var o=n("./app/utils/getDisplayName.tsx"),s=n("./app/utils/useApi.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(n){let{api:o,...r}=n;const a=(0,s.Z)({api:o,...t});return(0,i.tZ)(e,{...r,api:a})}return n.displayName=`withApi(${(0,o.Z)(e)})`,n}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_diffModal_tsx.a4a5fe04620eb5b9ac9f1f40ca3a0a83.js.map