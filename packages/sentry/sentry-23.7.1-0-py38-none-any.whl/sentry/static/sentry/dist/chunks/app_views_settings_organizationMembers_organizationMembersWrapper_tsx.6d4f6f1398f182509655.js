"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationMembers_organizationMembersWrapper_tsx"],{"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});const i=function(e,t){let s=arguments.length>3?arguments[3]:void 0;const i=`${e} - ${t}`,n=s?`${i} - ${s}`:i;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n:`${n} - Sentry`}},"./app/views/deprecatedAsyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./app/components/deprecatedAsyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends i.Z{getTitle(){return""}render(){return(0,r.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="DeprecatedAsyncView"},"./app/views/settings/organizationMembers/organizationMembersWrapper.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/react/index.js"),r=s("./app/actionCreators/modal.tsx"),o=s("./app/components/acl/featureDisabled.tsx"),a=s("./app/components/button.tsx"),u=s("./app/components/hookOrDefault.tsx"),c=s("./app/components/hovercard.tsx"),p=s("./app/icons/index.tsx"),l=s("./app/locale.tsx"),d=s("./app/utils/routeTitle.tsx"),m=s("./app/utils/withOrganization.tsx"),h=s("./app/views/deprecatedAsyncView.tsx"),g=s("./app/views/settings/components/settingsPageHeader.tsx"),v=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const q=(0,u.Z)({hookName:"member-invite-button:customization",defaultComponent:e=>{let{children:t,organization:s,onTriggerModal:i}=e;return t({disabled:!s.features.includes("invite-members"),onTriggerModal:i})}});class b extends h.Z{constructor(){super(...arguments),(0,i.Z)(this,"removeAccessRequest",(e=>this.setState((t=>({requestList:t.requestList.filter((t=>t.id!==e))}))))),(0,i.Z)(this,"removeInviteRequest",(e=>this.setState((t=>({inviteRequests:t.inviteRequests.filter((t=>t.id!==e))}))))),(0,i.Z)(this,"updateInviteRequest",((e,t)=>this.setState((s=>{const i=[...s.inviteRequests],n=i.findIndex((t=>t.id===e));return i[n]={...i[n],...t},{inviteRequests:i}}))))}getEndpoints(){const{organization:e}=this.props;return[["inviteRequests",`/organizations/${e.slug}/invite-requests/`],["requestList",`/organizations/${e.slug}/access-requests/`]]}getTitle(){const{organization:e}=this.props;return(0,d.Z)((0,l.t)("Members"),e.slug,!1)}get onRequestsTab(){return location.pathname.includes("/requests/")}get hasWriteAccess(){const{organization:e}=this.props;return!(!e||!e.access)&&e.access.includes("member:write")}get showInviteRequests(){return this.hasWriteAccess}get showNavTabs(){const{requestList:e}=this.state;return e&&e.length>0||this.showInviteRequests}get requestCount(){const{requestList:e,inviteRequests:t}=this.state;let s=e.length;return this.showInviteRequests&&(s+=t.length),s?s.toString():null}renderBody(){const{children:e,organization:t}=this.props,{requestList:s,inviteRequests:i}=this.state,o=(0,v.tZ)(q,{organization:t,onTriggerModal:()=>(0,r.openInviteMembersModal)({onClose:()=>{this.fetchData()},source:"members_settings"}),children:x});return(0,v.BX)(n.Fragment,{children:[(0,v.tZ)(g.Z,{title:"Members",action:o}),e&&(0,n.cloneElement)(e,{requestList:s,inviteRequests:i,onRemoveInviteRequest:this.removeInviteRequest,onUpdateInviteRequest:this.updateInviteRequest,onRemoveAccessRequest:this.removeAccessRequest,showInviteRequests:this.showInviteRequests})]})}}function x(e){let{disabled:t,onTriggerModal:s}=e;const i=(0,v.tZ)(a.zx,{priority:"primary",size:"sm",onClick:s,"data-test-id":"email-invite",icon:(0,v.tZ)(p.h,{}),disabled:t,children:(0,l.t)("Invite Members")});return t?(0,v.tZ)(c.uI,{body:(0,v.tZ)(o.Z,{featureName:(0,l.t)("Invite Members"),features:["organizations:invite-members"],hideHelpToggle:!0}),children:i}):i}const R=(0,m.Z)(b)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationMembers_organizationMembersWrapper_tsx.e877ad484cc33a7c0082460d6c8a1fb3.js.map