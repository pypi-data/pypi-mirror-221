"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_gettingStartedDocs_node_serverlesscloud_tsx"],{"./app/components/onboarding/gettingStartedDoc/utils.tsx":(e,n,t)=>{t.d(n,{a:()=>i});var r=t("./app/components/links/externalLink.tsx"),o=t("./app/locale.tsx"),a=t("./app/utils/analytics.tsx"),s=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{guideLink:n,organization:t,platformKey:i,projectId:d,newOrg:c}=e;return{title:(0,o.t)("Upload Source Maps"),description:(0,s.tZ)("p",{children:(0,o._N)("Automatically upload your source maps to enable readable stack traces for Errors. If you prefer to manually set up source maps, please follow [guideLink:this guide].",{guideLink:(0,s.tZ)(r.Z,{href:n})})}),configurations:[{language:"bash",code:"npx @sentry/wizard@latest -i sourcemaps",onCopy:()=>{t&&d&&i&&(0,a.Gi)(c?"onboarding.source_maps_wizard_button_copy_clicked":"project_creation.source_maps_wizard_button_copy_clicked",{project_id:d,platform:i,organization:t})},onSelectAndCopy:()=>{t&&d&&i&&(0,a.Gi)(c?"onboarding.source_maps_wizard_selected_and_copied":"project_creation.source_maps_wizard_selected_and_copied",{project_id:d,platform:i,organization:t})}}]}}},"./app/gettingStartedDocs/node/serverlesscloud.tsx":(e,n,t)=>{t.r(n),t.d(n,{GettingStartedWithServerlesscloud:()=>p,default:()=>u,steps:()=>l});var r=t("./app/components/onboarding/gettingStartedDoc/layout.tsx"),o=t("./app/components/onboarding/gettingStartedDoc/step.tsx"),a=t("./app/components/onboarding/gettingStartedDoc/utils.tsx"),s=t("./app/locale.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=["// enable HTTP calls tracing\n  new Sentry.Integrations.Http({ tracing: true }),","// enable Express.js middleware tracing\n  new Sentry.Integrations.Express({ app }),","// Automatically instrument Node.js libraries and frameworks\n  ...Sentry.autoDiscoverNodePerformanceMonitoringIntegrations(),"],c="environment: params.INSTANCE_NAME,\n// Performance Monitoring\n// Capture 100% of the transactions, reduce in production!\ntracesSampleRate: 1.0, ",l=function(){let{sentryInitContent:e,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{type:o.WU.INSTALL,description:(0,i.tZ)("p",{children:(0,s._N)("Add [code:@sentry/node] as a dependency:",{code:(0,i.tZ)("code",{})})}),configurations:[{language:"bash",code:"cloud install @sentry/node:"}]},{type:o.WU.CONFIGURE,description:(0,s.t)("Sentry should be initialized as early in your app as possible."),configurations:[{language:"javascript",code:`\n        import api from "@serverless/cloud";\nimport * as Sentry from "@sentry/node";\n\n// or using CommonJS\n// const api = require("@serverless/cloud");\n// const Sentry = require('@sentry/node');\n\nSentry.init({\n  ${e},\n});\n\n// RequestHandler creates a separate execution context, so that all\n// transactions/spans/breadcrumbs are isolated across requests\napi.use(Sentry.Handlers.requestHandler());\n// TracingHandler creates a trace for every incoming request\napi.use(Sentry.Handlers.tracingHandler());\n\n// All controllers should live here\napi.get("/", function rootHandler(req, res) {\n  res.end("Hello world!");\n});\n\n// The error handler must be before any other error middleware and after all controllers\napi.use(Sentry.Handlers.errorHandler());\n\n// Optional fallthrough error handler\napi.use(function onError(err, req, res, next) {\n  // The error id is attached to \`res.sentry\` to be returned\n  // and optionally displayed to the user for support.\n  res.statusCode = 500;\n  res.end(res.sentry + "\\n");\n});\n        `}]},(0,a.a)({guideLink:"https://docs.sentry.io/platforms/node/guides/serverless-cloud/sourcemaps/",...n}),{type:o.WU.VERIFY,description:(0,s.t)("This snippet contains an intentional error and can be used as a test to make sure that everything's working as expected."),configurations:[{language:"javascript",code:'\n        api.get("/debug-sentry", function mainHandler(req, res) {\n          throw new Error("My first Sentry error!");\n        });\n        '}]}]};function p(e){let{dsn:n,organization:t,newOrg:o,platformKey:a,projectId:s}=e,p=[`dsn: "${n}",`];const u=[...d],g=[c];return u.length>0&&(p=p.concat("integrations: [",u,"],")),g.length>0&&(p=p.concat(g)),(0,i.tZ)(r.A,{steps:l({sentryInitContent:p.join("\n"),organization:t,newOrg:o,platformKey:a,projectId:s}),newOrg:o,platformKey:a})}p.displayName="GettingStartedWithServerlesscloud";const u=p}}]);
//# sourceMappingURL=../sourcemaps/app_gettingStartedDocs_node_serverlesscloud_tsx.2be2d92b948c46b580497a2936035a01.js.map