"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_breadcrumb_tsx"],{"./app/utils/performance/histogram/utils.tsx":(t,e,n)=>{n.d(e,{GT:()=>s,_W:()=>a,te:()=>i}),n("../node_modules/core-js/modules/es.error.cause.js");var r=n("./app/utils/formatters.tsx");function i(t){return t.length>=2?t[1].bin-t[0].bin:0}function a(t){const e=i(t);return t.map((t=>{const n=t.bin;return{start:n,end:n+e}}))}function s(t){let{precision:e,type:n,additionalFieldsFn:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t=>{switch(n){case"duration":const i=e??(t<1e3?0:3);return(0,r.g9)(t/1e3,i,!0);case"number":const a=10**(e??0);return(Math.round((t+Number.EPSILON)*a)/a).toLocaleString();default:throw new Error(`Unable to format type: ${n}`)}};return t.map((t=>({value:t.count,name:a(t.bin),...i?.(t.bin)??{}})))}},"./app/views/performance/breadcrumb.tsx":(t,e,n)=>{n.d(e,{Z:()=>v}),n("../node_modules/core-js/modules/es.array.push.js");var r=n("./app/components/breadcrumbs.tsx"),i=n("./app/locale.tsx"),a=n("./app/utils/queryString.tsx"),s=n("./app/views/performance/transactionSummary/tabs.tsx"),o=n("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),u=n("./app/views/performance/transactionSummary/transactionSpans/utils.tsx"),c=n("./app/views/performance/transactionSummary/transactionTags/utils.tsx"),p=n("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),l=n("./app/views/performance/transactionSummary/utils.tsx"),m=n("./app/views/performance/vitalDetail/utils.tsx"),d=n("./app/views/performance/utils.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(t){return(0,f.tZ)(r.Z,{crumbs:function(){const e=[],{organization:n,location:r,transaction:f,vitalName:y,spanSlug:v,eventSlug:x,traceSlug:S,tab:g}=t,_={pathname:(0,d.de)(n),query:{...r.query,transaction:void 0}};if(e.push({to:_,label:(0,i.t)("Performance"),preservePageFilters:!0}),y){const t=(0,m.i4)({orgSlug:n.slug,vitalName:"fcp",projectID:(0,a.ro)(r.query.project),query:r.query});e.push({to:t,label:(0,i.t)("Vital Detail"),preservePageFilters:!0})}else if(f){const t={orgSlug:n.slug,transaction:f.name,projectID:f.project,query:r.query};switch(g){case s.Z.TAGS:{const n=(0,c.vG)(t);e.push({to:n,label:(0,i.t)("Tags"),preservePageFilters:!0});break}case s.Z.EVENTS:{const n=(0,o.xr)(t);e.push({to:n,label:(0,i.t)("All Events"),preservePageFilters:!0});break}case s.Z.WEB_VITALS:{const n=(0,p.Pl)(t);e.push({to:n,label:(0,i.t)("Web Vitals"),preservePageFilters:!0});break}case s.Z.SPANS:{const n=(0,u.hN)(t);e.push({to:n,label:(0,i.t)("Spans"),preservePageFilters:!0});break}case s.Z.TRANSACTION_SUMMARY:default:{const n=(0,l.e1)(t);e.push({to:n,label:(0,i.t)("Transaction Summary"),preservePageFilters:!0})}}}return f&&v?e.push({to:"",label:(0,i.t)("Span Summary")}):f&&x?e.push({to:"",label:(0,i.t)("Event Details")}):S&&e.push({to:"",label:(0,i.t)("Trace View")}),e}()})}y.displayName="Breadcrumb";const v=y},"./app/views/performance/transactionSummary/tabs.tsx":(t,e,n)=>{var r;n.d(e,{Z:()=>i}),function(t){t.TRANSACTION_SUMMARY="summary",t.WEB_VITALS="vitals",t.TAGS="tags",t.EVENTS="events",t.SPANS="spans",t.ANOMALIES="anomalies",t.REPLAYS="replays",t.PROFILING="profiling"}(r||(r={}));const i=r},"./app/views/performance/transactionSummary/transactionEvents/utils.tsx":(t,e,n)=>{n.d(e,{Kc:()=>d,Lc:()=>f,Zq:()=>m,_S:()=>u,q3:()=>o,qg:()=>l,tb:()=>p,xr:()=>c});var r=n("./app/locale.tsx"),i=n("./app/utils/queryString.tsx"),a=n("./app/views/performance/transactionSummary/filter.tsx"),s=n("./app/views/performance/transactionSummary/utils.tsx");let o;function u(t,e){const{p99:n,p95:i,p75:s,p50:u}=e||{p99:0,p95:0,p75:0,p50:0};return{[o.P50]:{name:o.P50,query:u?[["transaction.duration",`<=${u.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(t)||"transaction.duration"},label:(0,r.t)("p50")},[o.P75]:{name:o.P75,query:s?[["transaction.duration",`<=${s.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(t)||"transaction.duration"},label:(0,r.t)("p75")},[o.P95]:{name:o.P95,query:i?[["transaction.duration",`<=${i.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(t)||"transaction.duration"},label:(0,r.t)("p95")},[o.P99]:{name:o.P99,query:n?[["transaction.duration",`<=${n.toFixed(0)}`]]:void 0,sort:{kind:"desc",field:(0,a.T$)(t)||"transaction.duration"},label:(0,r.t)("p99")},[o.P100]:{name:o.P100,label:(0,r.t)("p100")}}}function c(t){let{orgSlug:e,transaction:n,projectID:r,query:i}=t;return{pathname:`/organizations/${e}/performance/summary/events/`,query:{transaction:n,project:r,environment:i.environment,statsPeriod:i.statsPeriod,start:i.start,end:i.end,query:i.query}}}function p(t){return e=(0,i.ro)(t.query.showTransactions,o.P100),Object.values(o).includes(e)?e:o.P100;var e}function l(t,e){const n=u(e),r=n[t].sort?.kind,i=n[t].sort?.field,a={showTransactions:t};return r&&i&&(a.sort=`${"desc"===r?"-":""}${i}`),a}function m(t){switch(t){case s.K0.OUTLIER:return o.P100;case s.K0.SLOW:return o.P95;default:return}}function d(t){return{p100:t?.["p100()"],p99:t?.["p99()"],p95:t?.["p95()"],p75:t?.["p75()"],p50:t?.["p50()"]}}function f(t){return t.withColumns([{kind:"function",function:["p100","",void 0,void 0]},{kind:"function",function:["p99","",void 0,void 0]},{kind:"function",function:["p95","",void 0,void 0]},{kind:"function",function:["p75","",void 0,void 0]},{kind:"function",function:["p50","",void 0,void 0]}])}!function(t){t.P50="p50",t.P75="p75",t.P95="p95",t.P99="p99",t.P100="p100"}(o||(o={}))},"./app/views/performance/transactionSummary/transactionSpans/types.tsx":(t,e,n)=>{let r,i;n.d(e,{g:()=>i,p:()=>r}),function(t){t.P50_EXCLUSIVE_TIME="p50ExclusiveTime",t.P75_EXCLUSIVE_TIME="p75ExclusiveTime",t.P95_EXCLUSIVE_TIME="p95ExclusiveTime",t.P99_EXCLUSIVE_TIME="p99ExclusiveTime"}(r||(r={})),function(t){t.AVG_OCCURRENCE="avgOccurrence",t.SUM_EXCLUSIVE_TIME="sumExclusiveTime"}(i||(i={}))},"./app/views/performance/transactionSummary/transactionSpans/utils.tsx":(t,e,n)=>{n.d(e,{CS:()=>y,E5:()=>v,KK:()=>_,TK:()=>g,W6:()=>E,bc:()=>f,hN:()=>d,mV:()=>T,uQ:()=>P,xz:()=>b,zW:()=>h});var r=n("../node_modules/lodash/pick.js"),i=n.n(r),a=n("./app/constants/index.tsx"),s=n("./app/locale.tsx"),o=n("./app/utils.tsx"),u=n("./app/utils/discover/eventView.tsx"),c=n("./app/utils/discover/fields.tsx"),p=n("./app/utils/queryString.tsx"),l=n("./app/utils/tokenizeSearch.tsx"),m=n("./app/views/performance/transactionSummary/transactionSpans/types.tsx");function d(t){let{orgSlug:e,transaction:n,projectID:r,query:i}=t;const a=function(t){let{orgSlug:e}=t;return`/organizations/${e}/performance/summary/spans/`}({orgSlug:e});return{pathname:a,query:{transaction:n,project:r,environment:i.environment,statsPeriod:i.statsPeriod,start:i.start,end:i.end,query:i.query}}}const f=30,y=i()(a.wh,["1h","24h","7d","14d","30d"]),v=[{prefix:(0,s.t)("Sort By"),label:(0,s.t)("Total Self Time"),field:m.g.SUM_EXCLUSIVE_TIME},{prefix:(0,s.t)("Sort By"),label:(0,s.t)("Average Count"),field:m.g.AVG_OCCURRENCE},{prefix:(0,s.t)("Sort By"),label:(0,s.t)("p50 Self Time"),field:m.p.P50_EXCLUSIVE_TIME},{prefix:(0,s.t)("Sort By"),label:(0,s.t)("p75 Self Time"),field:m.p.P75_EXCLUSIVE_TIME},{prefix:(0,s.t)("Sort By"),label:(0,s.t)("p95 Self Time"),field:m.p.P95_EXCLUSIVE_TIME},{prefix:(0,s.t)("Sort By"),label:(0,s.t)("p99 Self Time"),field:m.p.P99_EXCLUSIVE_TIME}],x=m.g.SUM_EXCLUSIVE_TIME;function S(t){return v.find((e=>e.field===t))||v.find((t=>t.field===x))}function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sort";return S((0,p.ro)(t?.query?.[e])??x)}function _(t){return S(t.sorts.length?t.sorts[0].field:x)}function E(t){if(!(0,o.ri)(t))return;const e=t.lastIndexOf(":");return e<0?void 0:{op:t.slice(0,e),group:t.slice(e+1)}}function b(t){let{location:e,transactionName:n}=t;const r=(0,p.ro)(e.query.query,""),i=new l.MY(r);i.setFilterValues("event.type",["transaction"]),i.setFilterValues("transaction",[n]),Object.keys(i.filters).forEach((t=>{(0,c.h1)(t)&&i.removeFilter(t)}));const a=u.ZP.fromNewQueryWithLocation({id:void 0,version:2,name:n,fields:[...Object.values(m.g),...Object.values(m.p)],query:i.formatString(),projects:[]},e),s=g(e);return a.withSorts([{field:s.field,kind:"desc"}])}function h(t){const e=t.withColumns([{kind:"function",function:["count","",void 0,void 0]},{kind:"function",function:["sum","transaction.duration",void 0,void 0]}]),n=new l.MY(t.query);return Object.keys(n.filters).forEach((t=>{(0,c.h1)(t)&&n.removeFilter(t)})),e.query=n.formatString(),e}const P={[m.g.SUM_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[m.g.AVG_OCCURRENCE]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","equation|count() / count_unique(id)","sumArray(spans_exclusive_time)"],[m.p.P50_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.5)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[m.p.P75_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.75)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[m.p.P95_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.95)","count()","count_unique(id)","sumArray(spans_exclusive_time)"],[m.p.P99_EXCLUSIVE_TIME]:["percentileArray(spans_exclusive_time, 0.99)","count()","count_unique(id)","sumArray(spans_exclusive_time)"]};function T(t){return t.replace("exclusive","self")}},"./app/views/performance/transactionSummary/transactionTags/utils.tsx":(t,e,n)=>{n.d(e,{Zn:()=>a,bZ:()=>s,oT:()=>c,oc:()=>u,vG:()=>o});var r=n("./app/utils/analytics.tsx"),i=n("./app/utils/queryString.tsx");function a(t){return(0,i.ro)(t.query.tagKey)}function s(t){(0,r.Gi)("performance_views.tags.interaction",{organization:t})}function o(t){let{orgSlug:e,transaction:n,projectID:r,query:i}=t;const a=function(t){let{orgSlug:e}=t;return`/organizations/${e}/performance/summary/tags/`}({orgSlug:e});return{pathname:a,query:{transaction:n,project:r,environment:i.environment,statsPeriod:i.statsPeriod,start:i.start,end:i.end,query:i.query,tagKey:i.tagKey}}}function u(t){let e=(0,i.ro)(t.query?.tagSort)??"-frequency";return["sumdelta"].find((t=>e?.includes(t)))&&(e="-frequency"),e}function c(t){const e=Object.keys(t).find((t=>t.includes("histogram")));if(!e)return;const n=e.split("_");return{histogramField:e,bucketSize:parseInt(n[n.length-3],10),offset:parseInt(n[n.length-2],10),multiplier:parseInt(n[n.length-1],10)}}},"./app/views/performance/transactionSummary/transactionVitals/utils.tsx":(t,e,n)=>{n.d(e,{A1:()=>c,L0:()=>o,Pl:()=>i,eH:()=>s,jb:()=>u,oZ:()=>a});var r=n("./app/utils/performance/histogram/utils.tsx");function i(t){let{orgSlug:e,transaction:n,projectID:r,query:i}=t;const a=function(t){let{orgSlug:e}=t;return`/organizations/${e}/performance/summary/vitals/`}({orgSlug:e});return{pathname:a,query:{transaction:n,project:r,environment:i.environment,statsPeriod:i.statsPeriod,start:i.start,end:i.end,query:i.query}}}function a(t,e){const n=(0,r.te)(t);return!t.length||e>=t[t.length-1].bin+n?null:e<t[0].bin?-1:Math.floor((e-t[0].bin)/n)}function s(t){if(t.length<2)return null;for(let e=0;e<t.length;e++){const n=t[e];for(let r=e+1;r<t.length;r++){const i=t[r];if(n.bin!==i.bin&&n.count!==i.count)return{point1:{x:e,y:Math.min(n.count,i.count)},point2:{x:r,y:Math.max(n.count,i.count)}}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function o(t,e){const n=t.convertToPixel({xAxisIndex:0,yAxisIndex:0},[e.point1.x,e.point1.y]);if(isNaN(n?.[0])||isNaN(n?.[1]))return null;const r=t.convertToPixel({xAxisIndex:0,yAxisIndex:0},[e.point2.x,e.point2.y]);return isNaN(r?.[0])||isNaN(r?.[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function u(t,e,n){if(e.point1.x===e.point2.x||e.point1.y===e.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;const r=(t.x-e.point1.x)/(e.point2.x-e.point1.x),i=(t.y-e.point1.y)/(e.point2.y-e.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*i}}function c(t,e){return!(t&&!e.some((e=>!t[e])))||Object.values(t).filter((t=>0===t.total)).length>0}}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_breadcrumb_tsx.ce21a744462128dabc32c31035bec8a2.js.map