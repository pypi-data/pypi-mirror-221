"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_eventTagsAndScreenshot_screenshot_modal_tsx-app_views_issueDetails_grou-87abe5"],{"./app/components/acl/role.tsx":(e,t,n)=>{n.d(t,{u:()=>i});var a=n("../node_modules/react/index.js"),s=n("./app/stores/configStore.tsx"),r=n("./app/utils/isActiveSuperuser.tsx"),o=n("./app/utils/isRenderFunc.tsx");const i=(0,n("./app/utils/withOrganization.tsx").Z)((function(e){let{role:t,organization:n,children:i}=e;const l=s.Z.get("user"),c=(0,a.useMemo)((()=>function(e,t,n){if(!e)return!1;if((0,r.M)())return!0;if(!Array.isArray(t.orgRoleList))return!1;const a=t.orgRoleList.map((e=>e.id));if(!a.includes(n)||!a.includes(t.orgRole??""))return!1;const s=a.indexOf(n);return a.indexOf(t.orgRole??"")>=s}(l,n,t)),[n,t,l]);return(0,o.l)(i)?i({hasRole:c}):c?i:null}))},"./app/components/actions/menuItemActionLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/actions/actionLink.tsx"),r=n("./app/components/menuItem.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{className:t,...n}=e;return(0,o.tZ)(r.Z,{noAnchor:!0,withBorder:!0,disabled:n.disabled,className:t,children:(0,o.tZ)(l,{...n})})}i.displayName="MenuItemActionLink";const l=(0,a.Z)(s.Z,{target:"evw4fqe0"})("color:",(e=>e.theme.textColor),";",(e=>e.theme.overflowEllipsis)," &:hover{color:",(e=>e.theme.textColor),";}.dropdown-menu>li>&,.dropdown-menu>span>li>&{&.disabled:hover{background:",(e=>e.theme.background),";}}"),c=i},"./app/components/events/attachmentUrl.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var a=n("../node_modules/react/index.js"),s=n("./app/components/acl/role.tsx"),r=n("./app/utils/withOrganization.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{attachment:t,organization:n,eventId:a,projectSlug:r,children:i}=e;return(0,o.tZ)(s.u,{role:n.attachmentsRole,children:e=>{let{hasRole:s}=e;return i(s?`/api/0/projects/${n.slug}/${r}/events/${a}/attachments/${t.id}/`:null)}})}i.displayName="AttachmentUrl";const l=(0,r.Z)((0,a.memo)(i))},"./app/components/events/attachmentViewers/imageViewer.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/events/attachmentViewers/utils.tsx"),r=n("./app/components/panels/panelItem.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{className:t,onLoad:n,onError:a,...r}=e;return(0,o.tZ)(c,{className:t,children:(0,o.tZ)("img",{"data-test-id":"image-viewer",src:(0,s.P)(r,!0),onLoad:n,onError:a})})}i.displayName="ImageViewer";const l=i,c=(0,a.Z)(r.Z,{target:"e1ekcgb60"})({name:"f7ay7b",styles:"justify-content:center"})},"./app/components/events/attachmentViewers/utils.tsx":(e,t,n)=>{function a(e,t){const{orgId:n,projectSlug:a,eventId:s,attachment:r}=e;return`${t?"/api/0":""}/projects/${n}/${a}/events/${s}/attachments/${r.id}/?download`}n.d(t,{P:()=>a})},"./app/components/events/contexts/contextBlock.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var a=n("./app/components/errorBoundary.tsx"),s=n("./app/components/events/interfaces/keyValueList/index.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{data:t,raw:n=!1}=e;return 0===t.length?null:(0,r.tZ)(a.Z,{mini:!0,children:(0,r.tZ)(s.Z,{data:t,raw:n,isContextData:!0})})}o.displayName="ContextBlock";const i=o},"./app/components/events/contexts/utils.tsx":(e,t,n)=>{n.d(t,{aJ:()=>Ce,xF:()=>ke,bS:()=>Me,FD:()=>Pe,lp:()=>Le});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),r=n("../node_modules/lodash/startCase.js"),o=n.n(r),i=n("../node_modules/moment-timezone/index.js"),l=n.n(i),c=n("./app/components/contextData/index.tsx"),d=n("./app/locale.tsx"),u=n("./app/plugins/index.tsx"),m=n("./app/styles/space.tsx"),p=n("./app/utils.tsx"),h=n("./app/components/events/contexts/contextBlock.tsx");let v;!function(e){e.ID="app_id",e.START_TIME="app_start_time",e.DEVICE_HASH="device_app_hash",e.TYPE="build_type",e.IDENTIFIER="app_identifier",e.NAME="app_name",e.VERSION="app_version",e.BUILD="app_build"}(v||(v={}));var _=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=[v.ID,v.START_TIME,v.DEVICE_HASH,v.IDENTIFIER,v.NAME,v.VERSION,v.BUILD],x=[];function y(e){let{data:t,event:n}=e;const a=n._meta?.contexts?.app??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:g,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,type:a}=e;switch(a){case v.ID:return{subject:(0,d.t)("ID"),value:t.app_id};case v.START_TIME:return{subject:(0,d.t)("Start Time"),value:Me(n.dateCreated?n.dateCreated:n.dateReceived,t.app_start_time)};case v.DEVICE_HASH:return{subject:(0,d.t)("Device"),value:t.device_app_hash};case v.TYPE:return{subject:(0,d.t)("Build Type"),value:t.build_type};case v.IDENTIFIER:return{subject:(0,d.t)("Build ID"),value:t.app_identifier};case v.NAME:return{subject:(0,d.t)("Build Name"),value:t.app_name};case v.VERSION:return{subject:(0,d.t)("Version"),value:t.app_version};case v.BUILD:return{subject:(0,d.t)("App Build"),value:t.app_build};default:return}}({...e,event:n})})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:[...g,...x],meta:a})})]})}let b;y.displayName="AppEventContext",function(e){e.NAME="name",e.VERSION="version"}(b||(b={}));const E=[b.NAME,b.VERSION];function Z(e){let{data:t,event:n}=e;const a=n._meta?.contexts?.browser??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:E,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case b.NAME:return{subject:(0,d.t)("Name"),value:t.name};case b.VERSION:return{subject:(0,d.t)("Version"),value:`${t.version}`};default:return}}(e)})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:[...E],meta:a})})]})}function f(e){return Object.entries(e).filter((e=>{let[t]=e;return"type"!==t&&"title"!==t})).map((e=>{let[t,n]=e;return{key:t,subject:t,value:n}}))}function D(e){let{data:t}=e;return(0,_.tZ)(h.Z,{data:f(t)})}Z.displayName="BrowserEventContext",D.displayName="DefaultContext";var I=n("./app/components/deviceName.tsx"),A=n("./app/components/fileSize.tsx"),T=n("./app/types/event.tsx"),S=n("./app/types/index.tsx");function j(e,t,n){if(!Number.isInteger(e)||e<=0||!Number.isInteger(t)||t<=0)return null;let a=`Total: ${(0,p.F)(e)} / Free: ${(0,p.F)(t)}`;return Number.isInteger(n)&&n>0&&(a=`${a} / Usable: ${(0,p.F)(n)}`),a}function N(e,t,n,a){if(!Number.isInteger(e)||e<=0)return null;let s=`Total: ${(0,p.F)(e)}`;return Number.isInteger(t)&&t>0&&(s=`${s} / Free: ${(0,p.F)(t)}`),Number.isInteger(n)&&n>0&&Number.isInteger(a)&&a>0&&(s=`${s} (External Total: ${(0,p.F)(n)} / Free: ${(0,p.F)(a)})`),s}const R={"640x360":"nHD","800x600":"SVGA","1024x768":"XGA","1280x720":"WXGA","1280x800":"WXGA","1280x1024":"SXGA","1360x768":"HD","1366x768":"HD","1440x900":"WXGA+","1536x864":"NA","1600x900":"HD+","1680x1050":"WSXGA+","1920x1080":"FHD","1920x1200":"WUXGA","2048x1152":"QWXGA","2560x1080":"N/A","2560x1440":"QHD","3440x1440":"N/A","3840x2160":"4K UHD"},w=[...Object.values(T.me),"memory","storage"],O=[];function C(e){let{data:t,event:n}=e;const a=function(e){const t=e[S.me.SCREEN_RESOLUTION],n=e[S.me.SCREEN_WIDTH_PIXELS],a=e[S.me.SCREEN_HEIGHT_PIXELS];if(t){const s=R[t],r={...e,[S.me.SCREEN_RESOLUTION]:s?`${t} (${s})`:t};if(!(0,p.ri)(n)&&!(0,p.ri)(a)){const[e,n]=t.split("x");if(e&&n)return{...r,[S.me.SCREEN_WIDTH_PIXELS]:Number(e),[S.me.SCREEN_HEIGHT_PIXELS]:Number(n)}}return r}if((0,p.ri)(n)&&(0,p.ri)(a)){const t=`${n}x${a}`,s=R[t];return{...e,[S.me.SCREEN_RESOLUTION]:s?`${t} (${s})`:t}}return e}(t),r=n._meta?.contexts?.device??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:a,meta:r,knownDataTypes:w,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,type:a}=e;switch(a){case T.me.NAME:return{subject:(0,d.t)("Name"),value:t.name};case T.me.FAMILY:return{subject:(0,d.t)("Family"),value:t.family};case T.me.MODEL_ID:return{subject:(0,d.t)("Model Id"),value:t.model_id};case T.me.MODEL:return{subject:(0,d.t)("Model"),value:"string"==typeof t.model?(0,_.tZ)(I.H,{value:`${t.model} ${t?.model_id?`(${t.model_id})`:""}`}):void 0};case T.me.CPU_DESCRIPTION:return{subject:(0,d.t)("CPU Description"),value:t.cpu_description};case T.me.ARCH:return{subject:(0,d.t)("Architecture"),value:t.arch};case T.me.BATTERY_LEVEL:return{subject:(0,d.t)("Battery Level"),value:(0,p.ri)(t.battery_level)?`${t.battery_level}%`:void 0};case T.me.BATTERY_STATUS:return{subject:(0,d.t)("Battery Status"),value:t.battery_status};case T.me.ORIENTATION:return{subject:(0,d.t)("Orientation"),value:t.orientation};case"memory":const{memory_size:e,free_memory:a,usable_memory:s}=t;return{subject:(0,d.t)("Memory"),value:e&&a&&s?j(e,a,s):void 0};case"storage":const{storage_size:r,free_storage:o,external_storage_size:i,external_free_storage:l}=t;return{subject:(0,d.t)("Capacity"),value:r&&o&&i&&l?N(r,o,i,l):void 0};case T.me.FREE_STORAGE:return{subject:(0,d.t)("Free Storage"),value:t.free_storage?(0,_.tZ)(A.Z,{bytes:t.free_storage}):void 0};case T.me.STORAGE_SIZE:return{subject:(0,d.t)("Storage Size"),value:t.storage_size?(0,_.tZ)(A.Z,{bytes:t.storage_size}):void 0};case T.me.EXTERNAL_STORAGE_SIZE:return{subject:(0,d.t)("External Storage Size"),value:t.external_storage_size?(0,_.tZ)(A.Z,{bytes:t.external_storage_size}):void 0};case T.me.EXTERNAL_FREE_STORAGE:return{subject:(0,d.t)("External Free Storage"),value:t.external_free_storage?(0,_.tZ)(A.Z,{bytes:t.external_free_storage}):void 0};case T.me.SIMULATOR:return{subject:(0,d.t)("Simulator"),value:t.simulator};case T.me.BOOT_TIME:return{subject:(0,d.t)("Boot Time"),value:Me(n.dateCreated?n.dateCreated:n.dateReceived,t.boot_time)};case T.me.DEVICE_TYPE:return{subject:(0,d.t)("Device Type"),value:t.device_type};case T.me.BRAND:return{subject:(0,d.t)("Brand"),value:t.brand};case T.me.CHARGING:return{subject:(0,d.t)("Charging"),value:t.charging};case T.me.LOW_MEMORY:return{subject:(0,d.t)("Low Memory"),value:t.low_memory};case T.me.FREE_MEMORY:return{subject:(0,d.t)("Free Memory"),value:t.free_memory?(0,_.tZ)(A.Z,{bytes:t.free_memory}):void 0};case T.me.MEMORY_SIZE:return{subject:(0,d.t)("Memory Size"),value:t.memory_size?(0,_.tZ)(A.Z,{bytes:t.memory_size}):void 0};case T.me.USABLE_MEMORY:return{subject:(0,d.t)("Usable Memory"),value:t.usable_memory?(0,_.tZ)(A.Z,{bytes:t.usable_memory}):void 0};case T.me.MANUFACTURER:return{subject:(0,d.t)("Manufacturer"),value:t.manufacturer};case T.me.ONLINE:return{subject:(0,d.t)("Online"),value:t.online};case T.me.SCREEN_DENSITY:return{subject:(0,d.t)("Screen Density"),value:t.screen_density};case T.me.SCREEN_DPI:return{subject:(0,d.t)("Screen DPI"),value:t.screen_dpi};case T.me.SCREEN_HEIGHT_PIXELS:return{subject:(0,d.t)("Screen Height Pixels"),value:t.screen_height_pixels};case T.me.SCREEN_RESOLUTION:return{subject:(0,d.t)("Screen Resolution"),value:t.screen_resolution};case T.me.SCREEN_WIDTH_PIXELS:return{subject:(0,d.t)("Screen Width Pixels"),value:t.screen_width_pixels};default:return}}({...e,event:n})}).map((e=>({...e,subjectDataTestId:`device-context-${e.key.toLowerCase()}-value`})))}),(0,_.tZ)(h.Z,{data:Le({allData:a,knownKeys:[...w,...O],meta:r})})]})}C.displayName="DeviceEventContext",n("../node_modules/core-js/modules/es.array.unshift.js");let P;!function(e){e.ID="id",e.NAME="name",e.VERSION="version",e.VENDOR_NAME="vendor_name",e.VENDOR_ID="vendor_id",e.MEMORY_SIZE="memory_size",e.NPOT_SUPPORT="npot_support",e.MULTI_THREAD_RENDERING="multi_threaded_rendering",e.API_TYPE="api_type"}(P||(P={}));const M=[P.NAME,P.VERSION,P.VENDOR_NAME,P.MEMORY_SIZE,P.NPOT_SUPPORT,P.MULTI_THREAD_RENDERING,P.API_TYPE],k=[];function L(e){let{event:t,data:n}=e;const a=t._meta?.contexts?.gpu??{},r=[...M];return n.vendor_id>0&&r.unshift(P.VENDOR_ID),n.id>0&&r.unshift(P.ID),(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:n,meta:a,knownDataTypes:r,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case P.NAME:return{subject:(0,d.t)("Name"),value:t.name};case P.VERSION:return{subject:(0,d.t)("Version"),value:t.version};case P.MEMORY_SIZE:return{subject:(0,d.t)("Memory"),value:t.memory_size?(a=t.memory_size,!Number.isInteger(a)||a<=0?null:(0,p.F)(1048576*a)):void 0};case P.NPOT_SUPPORT:return{subject:(0,d.t)("NPOT Support"),value:t.npot_support};case P.VENDOR_NAME:return{subject:(0,d.t)("Vendor Name"),value:t.vendor_name};case P.MULTI_THREAD_RENDERING:return{subject:(0,d.t)("Multi-Thread rendering"),value:t.multi_threaded_rendering};case P.API_TYPE:return{subject:(0,d.t)("API Type"),value:t.api_type};case P.VENDOR_ID:return{subject:(0,d.t)("Vendor ID"),value:t.vendor_id};case P.ID:return{subject:(0,d.t)("GPU ID"),value:t.id};default:return}var a}(e)})}),(0,_.tZ)(h.Z,{data:Le({allData:n,knownKeys:[...r,...k],meta:a})})]})}L.displayName="GPUEventContext";const B=Object.values(T.y$);function $(e){let{data:t,event:n}=e;if(!t)return null;const a=n._meta?.contexts?.["Memory Info"]??n._meta?.contexts?.memory_info??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:B,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case T.y$.ALLOCATED_BYTES:return{subject:(0,d.t)("Allocated Bytes"),value:t.allocated_bytes};case T.y$.FRAGMENTED_BYTES:return{subject:(0,d.t)("Fragmented Bytes"),value:t.fragmented_bytes};case T.y$.HEAP_SIZE_BYTES:return{subject:(0,d.t)("Heap Size Bytes"),value:t.heap_size_bytes};case T.y$.HIGH_MEMORY_LOAD_THRESHOLD_BYTES:return{subject:(0,d.t)("High Memory Load Threshold Bytes"),value:t.high_memory_load_threshold_bytes};case T.y$.TOTAL_AVAILABLE_MEMORY_BYTES:return{subject:(0,d.t)("Total Available Memory Bytes"),value:t.total_available_memory_bytes};case T.y$.MEMORY_LOAD_BYTES:return{subject:(0,d.t)("Memory Load Bytes"),value:t.memory_load_bytes};case T.y$.TOTAL_COMMITTED_BYTES:return{subject:(0,d.t)("Total Committed Bytes"),value:t.total_committed_bytes};case T.y$.PROMOTED_BYTES:return{subject:(0,d.t)("Promoted Bytes"),value:t.promoted_bytes};case T.y$.PINNED_OBJECTS_COUNT:return{subject:(0,d.t)("Pinned Objects Count"),value:t.pinned_objects_count};case T.y$.PAUSE_TIME_PERCENTAGE:return{subject:(0,d.t)("Pause Time Percentage"),value:t.pause_time_percentage};case T.y$.INDEX:return{subject:(0,d.t)("Index"),value:t.index};case T.y$.FINALIZATION_PENDING_COUNT:return{subject:(0,d.t)("Finalization Pending Count"),value:t.finalization_pending_count};case T.y$.COMPACTED:return{subject:(0,d.t)("Compacted"),value:t.compacted};case T.y$.CONCURRENT:return{subject:(0,d.t)("Concurrent"),value:t.concurrent};case T.y$.PAUSE_DURATIONS:return{subject:(0,d.t)("Pause Durations"),value:t.pause_durations};default:return}}({...e,event:n})})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:B,meta:a})})]})}let z,V;$.displayName="MemoryInfoEventContext",function(e){e.NAME="name",e.VERSION="version",e.KERNEL_VERSION="kernel_version",e.ROOTED="rooted"}(z||(z={})),function(e){e.BUILD="build"}(V||(V={}));const H=[z.NAME,z.VERSION,z.KERNEL_VERSION,z.ROOTED],F=[V.BUILD];function G(e){let{data:t,event:n}=e;const a=n._meta?.contexts?.os??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:H,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case z.NAME:return{subject:(0,d.t)("Name"),value:t.name};case z.VERSION:return{subject:(0,d.t)("Version"),value:`${t.version}${t.build?`(${t.build})`:""}`};case z.KERNEL_VERSION:return{subject:(0,d.t)("Kernel Version"),value:t.kernel_version};case z.ROOTED:return{subject:(0,d.t)("Rooted"),value:(0,p.ri)(t.rooted)?t.rooted?(0,d.t)("yes"):(0,d.t)("no"):null};default:return}}(e)})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:[...H,...F],meta:a})})]})}G.displayName="OperatingSystemEventContext";var X=n("./app/components/acl/feature.tsx"),U=n("./app/components/button.tsx"),K=n("./app/components/errorBoundary.tsx"),Y=n("./app/components/events/interfaces/keyValueList/index.tsx"),q=n("./app/utils/analytics.tsx"),W=n("./app/utils/profiling/routes.tsx"),Q=n("./app/utils/useOrganization.tsx"),J=n("./app/utils/useProjects.tsx");const ee=[T.pV.PROFILE_ID];function te(e){let{event:t,data:n}=e;const a=(0,Q.Z)(),{projects:s}=(0,J.Z)(),r=s.find((e=>e.id===t.projectID)),o=t._meta?.contexts?.profile??{};return(0,_.tZ)(X.Z,{organization:a,features:["profiling"],children:(0,_.BX)(K.Z,{mini:!0,children:[(0,_.tZ)(Y.Z,{data:ke({data:n,meta:o,knownDataTypes:ee,onGetKnownDataDetails:e=>function(e){let{data:t,organization:n,project:a,type:s}=e;if(s===T.pV.PROFILE_ID){const e=t.profile_id||"";if(!e)return;const s=a?.slug?(0,W.O$)({orgSlug:n.slug,projectSlug:a?.slug,profileId:e}):void 0;return{subject:(0,d.t)("Profile ID"),value:t.profile_id,actionButton:s&&(0,_.tZ)(U.zx,{size:"xs",to:s,onClick:()=>(0,q.Gi)("profiling_views.go_to_flamegraph",{organization:n,source:"events.profile_event_context"}),children:(0,d.t)("View Profile")})}}}({...e,organization:a,project:r})}).map((e=>({...e,subjectDataTestId:`profile-context-${e.key.toLowerCase()}-value`}))),shouldSort:!1,raw:!1,isContextData:!0}),(0,_.tZ)(Y.Z,{data:Le({allData:n,knownKeys:ee,meta:o}),shouldSort:!1,raw:!1,isContextData:!0})]})})}te.displayName="ProfileEventContext";var ne=n("./app/components/clippedBox.tsx");function ae(e){let{data:t}=e;return(0,_.tZ)(ne.Z,{clipHeight:250,children:(0,_.tZ)(h.Z,{data:[{key:"value",subject:(0,d.t)("Latest State"),value:t}]})})}let se,re;ae.displayName="ReduxContext",function(e){e.NAME="name",e.VERSION="version"}(se||(se={})),function(e){e.BUILD="build"}(re||(re={}));const oe=[se.NAME,se.VERSION],ie=[re.BUILD];function le(e){let{data:t,event:n}=e;const a=n._meta?.contexts?.runtime??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:oe,onGetKnownDataDetails:e=>function(e){let{type:t,data:n}=e;switch(t){case se.NAME:return{subject:(0,d.t)("Name"),value:n.name};case se.VERSION:return{subject:(0,d.t)("Version"),value:`${n.version}${n.build?`(${n.build})`:""}`};default:return}}(e)})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:[...oe,...ie],meta:a})})]})}le.displayName="RuntimeEventContext";var ce=n("../node_modules/lodash/upperFirst.js"),de=n.n(ce);function ue(e){let{data:t,event:n}=e;const a=n._meta?.contexts?.state??{};function s(e,t){return`${e}${t?` (${de()(t)})`:""}`}return(0,_.BX)(ne.Z,{clipHeight:250,children:[(0,_.tZ)(h.Z,{data:t.state?[{key:"state",subject:s((0,d.t)("State"),t.state.type),value:t.state.value,meta:a.state?.value?.[""]}]:[]}),(0,_.tZ)(h.Z,{data:Object.entries(t).filter((e=>{let[t]=e;return!["type","title","state"].includes(t)})).map((e=>{let[t,n]=e;return{key:t,value:n.value,subject:s(t,n.type),meta:a[t]?.value?.[""]}}))})]})}ue.displayName="StateEventContext";const me=Object.values(T.Op);function pe(e){let{data:t,event:n}=e;if(!t)return null;const a=n._meta?.contexts?.["ThreadPool Info"]??n._meta?.contexts?.threadpool_info??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:me,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case T.Op.AVAILABLE_COMPLETION_PORT_THREADS:return{subject:(0,d.t)("Available Completion Port Threads"),value:t.available_completion_port_threads};case T.Op.AVAILABLE_WORKER_THREADS:return{subject:(0,d.t)("Available Worker Threads"),value:t.available_worker_threads};case T.Op.MAX_COMPLETION_PORT_THREADS:return{subject:(0,d.t)("Max Completion Port Threads"),value:t.max_completion_port_threads};case T.Op.MAX_WORKER_THREADS:return{subject:(0,d.t)("Max Worker Threads"),value:t.max_worker_threads};case T.Op.MIN_COMPLETION_PORT_THREADS:return{subject:(0,d.t)("Min Completion Port Threads"),value:t.min_completion_port_threads};case T.Op.MIN_WORKER_THREADS:return{subject:(0,d.t)("Min Worker Threads"),value:t.min_worker_threads};default:return}}({...e,event:n})})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:me,meta:a})})]})}pe.displayName="ThreadPoolInfoEventContext";var he=n("./app/components/quickTrace/utils.tsx"),ve=n("./app/views/performance/transactionSummary/utils.tsx");let _e;!function(e){e.TRACE_ID="trace_id",e.SPAN_ID="span_id",e.PARENT_SPAN_ID="parent_span_id",e.OP_NAME="op",e.STATUS="status",e.TRANSACTION_NAME="transaction_name"}(_e||(_e={}));const ge=[_e.STATUS,_e.TRACE_ID,_e.SPAN_ID,_e.PARENT_SPAN_ID,_e.TRANSACTION_NAME,_e.OP_NAME],xe=[];function ye(e){let{event:t,data:n}=e;const a=(0,Q.Z)(),s=t._meta?.contexts?.trace??{};return(0,_.BX)(K.Z,{mini:!0,children:[(0,_.tZ)(Y.Z,{data:ke({data:n,meta:s,knownDataTypes:ge,onGetKnownDataDetails:e=>function(e){let{data:t,event:n,organization:a,type:s}=e;switch(s){case _e.TRACE_ID:{const e=t.trace_id||"";if(!e)return;return a.features.includes("discover-basic")?{subject:(0,d.t)("Trace ID"),value:e,actionButton:(0,_.tZ)(U.zx,{size:"xs",to:(0,he.aV)(n,a),children:(0,d.t)("Search by Trace")})}:{subject:(0,d.t)("Trace ID"),value:e}}case _e.SPAN_ID:return{subject:(0,d.t)("Span ID"),value:t.span_id||""};case _e.PARENT_SPAN_ID:return{subject:(0,d.t)("Parent Span ID"),value:t.parent_span_id||""};case _e.OP_NAME:return{subject:(0,d.t)("Operation Name"),value:t.op||""};case _e.STATUS:return{subject:(0,d.t)("Status"),value:t.status||""};case _e.TRANSACTION_NAME:{const e=n?.tags.find((e=>"transaction"===e.key));if(!e||"string"!=typeof e.value)return;const t=e.value,s=(0,ve.e1)({orgSlug:a.slug,transaction:t,projectID:n.projectID,query:{}});return a.features.includes("performance-view")?{subject:(0,d.t)("Transaction"),value:t,actionButton:(0,_.tZ)(U.zx,{size:"xs",to:s,children:(0,d.t)("View Summary")})}:{subject:(0,d.t)("Transaction"),value:t}}default:return}}({...e,organization:a,event:t})}).map((e=>({...e,subjectDataTestId:`trace-context-${e.key.toLowerCase()}-value`}))),shouldSort:!1,raw:!1,isContextData:!0}),(0,_.tZ)(Y.Z,{data:Le({allData:n,knownKeys:[...ge,...xe],meta:s}),shouldSort:!1,raw:!1,isContextData:!0})]})}ye.displayName="TraceEventContext";const be=Object.values(T.dj);function Ee(e){let{data:t,event:n}=e;if(!t)return null;const a=n._meta?.contexts?.unity??{};return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:be,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case T.dj.COPY_TEXTURE_SUPPORT:return{subject:(0,d.t)("Copy Texture Support"),value:t.copy_texture_support};case T.dj.EDITOR_VERSION:return{subject:(0,d.t)("Editor Version"),value:t.editor_version};case T.dj.INSTALL_MODE:return{subject:(0,d.t)("Install Mode"),value:t.install_mode};case T.dj.RENDERING_THREADING_MODE:return{subject:(0,d.t)("Rendering Threading Mode"),value:t.rendering_threading_mode};case T.dj.TARGET_FRAME_RATE:return{subject:(0,d.t)("Target Frame Rate"),value:t.target_frame_rate};default:return}}(e)})}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:be,meta:a})})]})}Ee.displayName="UnityEventContext";var Ze=n("./app/components/avatar/userAvatar.tsx"),fe=n("./app/components/events/interfaces/utils.tsx"),De=n("./app/components/links/externalLink.tsx"),Ie=n("./app/icons/index.tsx");const Ae=/[^@]+@[^\.]+\..+/,Te=(0,a.Z)(Ie.h,{target:"eppdj180"})({name:"1989ovb",styles:"vertical-align:middle"});let Se,je;!function(e){e.ID="id",e.EMAIL="email",e.USERNAME="username",e.IP_ADDRESS="ip_address",e.NAME="name"}(Se||(Se={})),function(e){e.DATA="data"}(je||(je={}));const Ne=[Se.ID,Se.EMAIL,Se.USERNAME,Se.IP_ADDRESS,Se.NAME],Re=[je.DATA];function we(e){let{data:t,event:n}=e;const a=n._meta?.user??n._meta?.contexts?.user??{};return(0,_.BX)("div",{className:"user-widget",children:[(0,_.tZ)("div",{className:"pull-left",children:(0,_.tZ)(Ze.Z,{user:(0,fe.HW)(t),size:48,gravatar:!1})}),(0,_.tZ)(h.Z,{data:ke({data:t,meta:a,knownDataTypes:Ne,onGetKnownDataDetails:e=>function(e){let{data:t,type:n}=e;switch(n){case Se.NAME:return{subject:(0,d.t)("Name"),value:t.name};case Se.USERNAME:return{subject:(0,d.t)("Username"),value:t.username};case Se.ID:return{subject:(0,d.t)("ID"),value:t.id};case Se.IP_ADDRESS:return{subject:(0,d.t)("IP Address"),value:t.ip_address};case Se.EMAIL:return{subject:(0,d.t)("Email"),value:t.email,subjectIcon:(0,p.ri)(t.email)&&Ae.test(t.email)&&(0,_.tZ)(De.Z,{href:`mailto:${t.email}`,className:"external-icon",children:(0,_.tZ)(Te,{size:"xs"})})};default:return}}(e)}).map((e=>({...e,subjectDataTestId:`user-context-${e.key.toLowerCase()}-value`})))}),(0,_.tZ)(h.Z,{data:Le({allData:t,knownKeys:[...Ne,...Re],meta:a})}),(0,p.ri)(t?.data)&&(0,_.tZ)(K.Z,{mini:!0,children:(0,_.tZ)(Y.Z,{data:Object.entries(t.data).map((e=>{let[t,n]=e;return{key:t,value:n,subject:t,meta:a[t]?.[""]}})),isContextData:!0})})]})}we.displayName="UserEventContext";const Oe={default:D,app:y,device:C,memory_info:$,browser:Z,os:G,unity:Ee,runtime:le,user:we,gpu:L,trace:ye,threadpool_info:pe,state:ue,profile:te,"redux.state":ae,"ThreadPool Info":pe,"Memory Info":$};function Ce(e){return Oe[e]||u.ZP.contexts[e]||Oe.default}function Pe(e,t){if(Oe[t])return null;for(const n of e)if(n.contexts.indexOf(t)>=0)return n;return null}function Me(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(0,p.ri)(t))return t;const a=l()(t);if(!a.isValid())return t;const r=`(${a.from(e,!0)} ${(0,d.t)("before this event")})`;return n?(0,_.BX)(s.Fragment,{children:[t,(0,_.tZ)(Be,{children:r})]}):(0,_.tZ)(Be,{children:r})}function ke(e){let{data:t,knownDataTypes:n,meta:a,raw:s,onGetKnownDataDetails:r}=e;return n.filter((e=>!("number"!=typeof t[e]&&"boolean"!=typeof t[e]&&!t[e]&&!a?.[e]))).map((e=>{const n=r({data:t,type:e});return n?{key:e,...n,value:s?n.value:(0,_.tZ)(c.Z,{data:n.value,meta:a?.[e],withAnnotatedText:!0})}:null})).filter(p.ri)}function Le(e){let{allData:t,knownKeys:n,meta:a}=e;return Object.entries(t).filter((e=>{let[s]=e;return!("type"===s||"title"===s||n.includes(s)||"number"!=typeof t[s]&&!t[s]&&!a?.[s]?.[""])})).map((e=>{let[t,n]=e;return{key:t,value:n,subject:o()(t),meta:a?.[t]?.[""]}}))}Me.displayName="getRelativeTimeFromEventDateCreated";const Be=(0,a.Z)("span",{target:"e1h9damf0"})("color:",(e=>e.theme.subText),";margin-left:",(0,m.D)(.5),";")},"./app/components/events/eventAttachmentActions.tsx":(e,t,n)=>{n.d(t,{Z:()=>h});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),r=n("./app/components/button.tsx"),o=n("./app/components/buttonBar.tsx"),i=n("./app/components/confirm.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends s.Component{handlePreview(){const{onPreview:e,attachmentId:t}=this.props;e&&e(t)}render(){const{url:e,withPreviewButton:t,hasPreview:n,previewIsOpen:a,onDelete:s,attachmentId:d}=this.props;return(0,u.BX)(o.ZP,{gap:1,children:[(0,u.tZ)(i.Z,{confirmText:(0,c.t)("Delete"),message:(0,c.t)("Are you sure you wish to delete this file?"),priority:"danger",onConfirm:()=>s(d),disabled:!e,children:(0,u.tZ)(r.zx,{size:"xs",icon:(0,u.tZ)(l.Fz,{size:"xs"}),"aria-label":(0,c.t)("Delete"),disabled:!e,title:e?void 0:(0,c.t)("Insufficient permissions to delete attachments")})}),(0,u.tZ)(p,{size:"xs",icon:(0,u.tZ)(l.Dj,{size:"xs"}),href:e?`${e}?download=1`:"",disabled:!e,title:e?void 0:(0,c.t)("Insufficient permissions to download attachments"),"aria-label":(0,c.t)("Download")}),t&&(0,u.tZ)(p,{size:"xs",disabled:!e||!n,priority:a?"primary":"default",icon:(0,u.tZ)(l.fn,{size:"xs"}),onClick:()=>this.handlePreview(),title:e?n?void 0:(0,c.t)("This attachment cannot be previewed"):(0,c.t)("Insufficient permissions to preview attachments"),children:(0,c.t)("Preview")})]})}}m.displayName="EventAttachmentActions";const p=(0,a.Z)(r.zx,{target:"e1cvjejw0"})("margin-right:",(0,d.D)(.5),";"),h=m},"./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/events/attachmentViewers/imageViewer.tsx");const r=(0,a.Z)(s.Z,{target:"enx3xy00"})({name:"1yuenz7",styles:"padding:0;height:100%;img{width:auto;height:100%;}"})},"./app/components/events/eventTagsAndScreenshot/screenshot/modal.tsx":(e,t,n)=>{n.d(t,{Z:()=>S,f:()=>P});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),r=n("./app/components/button.tsx"),o=n("./app/components/buttonBar.tsx"),i=n("./app/components/confirm.tsx"),l=n("./app/components/dateTime.tsx"),c=n("./app/components/events/contexts/utils.tsx"),d=n("./app/components/links/link.tsx"),u=n("./app/components/notAvailable.tsx"),m=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),h=n("./app/utils.tsx"),v=n("./app/utils/getDynamicText.tsx"),_=n("./app/utils/parseLinkHeader.tsx"),g=n("./app/utils/useApi.tsx"),x=n("./app/utils/useLocation.tsx"),y=n("./app/views/issueDetails/groupEventAttachments/groupEventAttachments.tsx"),b=n("./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx"),E=n("./app/components/panels/panelHeader.tsx"),Z=n("./app/icons/index.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function D(e){let{previousDisabled:t,nextDisabled:n,headerText:a,onPrevious:s,onNext:o}=e;return(0,f.BX)(I,{lightText:!0,children:[(0,f.tZ)(r.zx,{icon:(0,f.tZ)(Z.g6,{direction:"left",size:"xs"}),"aria-label":(0,m.t)("Previous"),size:"xs",disabled:t,onClick:s}),(0,f.tZ)("span",{"data-test-id":"pagination-header-text",children:a}),(0,f.tZ)(r.zx,{icon:(0,f.tZ)(Z.g6,{direction:"right",size:"xs"}),"aria-label":(0,m.t)("Next"),size:"xs",disabled:n,onClick:o})]})}D.displayName="ScreenshotPagination";const I=(0,a.Z)(E.Z,{target:"ejeqc090"})("margin:0;padding:0;border:0;display:flex;align-items:center;justify-content:space-between;text-transform:none;background:",(e=>e.theme.background),";"),A=D;function T(e){let{eventAttachment:t,orgSlug:n,projectSlug:a,Header:d,Body:p,Footer:b,event:E,onDelete:Z,downloadUrl:D,onDownload:I,pageLinks:T,attachmentIndex:S,attachments:P,enablePagination:M,groupId:k}=e;const L=(0,g.Z)(),B=(0,x.T)(),[$,z]=(0,s.useState)(t),[V,H]=(0,s.useState)(S),[F,G]=(0,s.useState)(P),[X,U]=(0,s.useState)(T),K=(e,t,n,a)=>{if((0,h.ri)(V)&&F?.length){const t=V+a;if(t===y.m||-1===t)return void L.requestPromise(`/issues/${k}/attachments/`,{method:"GET",includeAllArgs:!0,query:{...n,per_page:y.m,types:void 0,screenshot:1,cursor:e}}).then((e=>{let[n,a,s]=e;t===y.m?(H(0),z(n[0])):(H(y.m-1),z(n[y.m-1])),G(n),U(s?.getResponseHeader("Link"))}));H(t),z(F[t])}},Y=(B.pathname,B.query),{dateCreated:q,size:W,mimetype:Q}=$,J=X?(0,_.Z)(X):void 0;let ee=null;return J?ee={previousDisabled:!1===J?.previous?.results&&0===V,nextDisabled:!1===J?.next?.results&&V===y.m-1,onPrevious:()=>{K(J.previous?.cursor,0,Y,-1)},onNext:()=>{K(J.next?.cursor,0,Y,1)}}:F&&F.length>1&&(0,h.ri)(V)&&(ee={previousDisabled:0===V,nextDisabled:V===F.length-1,onPrevious:()=>{z(F[V-1]),H(V-1)},onNext:()=>{z(F[V+1]),H(V+1)},headerText:(0,m._N)("[currentScreenshotIndex] of [totalScreenshotCount]",{currentScreenshotIndex:V+1,totalScreenshotCount:F.length})}),(0,f.BX)(s.Fragment,{children:[(0,f.BX)(j,{hasPagination:(0,h.ri)(ee),children:[(0,f.tZ)(d,{closeButton:!0,children:(0,m.t)("Screenshot")}),(0,h.ri)(ee)&&(0,f.tZ)(d,{children:(0,f.tZ)(A,{...ee})})]}),(0,f.BX)(p,{children:[(0,f.tZ)(O,{attachment:$,orgId:n,projectSlug:a,eventId:$.event_id}),(0,f.BX)(N,{children:[k&&M&&(0,f.BX)(s.Fragment,{children:[(0,f.tZ)(R,{children:(0,m.t)("Event ID")}),(0,f.tZ)(w,{children:(0,f.tZ)(C,{to:`/organizations/${n}/issues/${k}/events/${$.event_id}/`,children:$.event_id})})]}),(0,f.tZ)(R,{coloredBg:!0,children:(0,m.t)("Date Created")}),(0,f.tZ)(w,{coloredBg:!0,children:q?(0,f.BX)(s.Fragment,{children:[(0,f.tZ)(l.Z,{date:(0,v.Z)({value:q,fixed:new Date(150820808e4)})}),E&&(0,c.bS)(E.dateCreated?E.dateCreated:E.dateReceived,q,!1)]}):(0,f.tZ)(u.Z,{})}),(0,f.tZ)(R,{children:(0,m.t)("Size")}),(0,f.tZ)(w,{children:(0,h.ri)(W)?(0,h.F)(W):(0,f.tZ)(u.Z,{})}),(0,f.tZ)(R,{coloredBg:!0,children:(0,m.t)("MIME Type")}),(0,f.tZ)(w,{coloredBg:!0,children:Q??(0,f.tZ)(u.Z,{})})]})]}),(0,f.tZ)(b,{children:(0,f.BX)(o.ZP,{gap:1,children:[(0,f.tZ)(i.Z,{confirmText:(0,m.t)("Delete"),header:(0,m.t)("Screenshots help identify what the user saw when the event happened"),message:(0,m.t)("Are you sure you wish to delete this screenshot?"),priority:"danger",onConfirm:Z,children:(0,f.tZ)(r.zx,{priority:"danger",children:(0,m.t)("Delete")})}),(0,f.tZ)(r.zx,{onClick:I,href:D,children:(0,m.t)("Download")})]})})]})}T.displayName="Modal";const S=T,j=(0,a.Z)("div",{target:"e1dv26el5"})((e=>e.hasPagination&&`\n  header {\n    margin-bottom: 0;\n  }\n\n  header:last-of-type {\n    margin-top: 0;\n    margin-bottom: ${(0,p.D)(3)};\n  }\n  `),";"),N=(0,a.Z)("div",{target:"e1dv26el4"})("display:grid;grid-template-columns:max-content 1fr;margin-bottom:",(0,p.D)(3),";"),R=(0,a.Z)("div",{target:"e1dv26el3"})("color:",(e=>e.theme.textColor),";padding:",(0,p.D)(1)," ",(0,p.D)(1.5)," ",(0,p.D)(1)," ",(0,p.D)(1),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),w=(0,a.Z)(R,{target:"e1dv26el2"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,p.D)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),O=(0,a.Z)(b.Z,{target:"e1dv26el1"})("img{border-radius:",(e=>e.theme.borderRadius),";max-height:calc(100vh - 300px);}"),C=(0,a.Z)(d.Z,{target:"e1dv26el0"})((e=>e.theme.overflowEllipsis),";font-weight:normal;"),P={name:"17eo2uz",styles:"width:auto;height:100%;max-width:700px"}},"./app/components/notAvailable.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("./app/components/tooltip.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{tooltip:t,className:n}=e;return(0,r.tZ)(s.u,{title:t,skipWrapper:!0,disabled:void 0===t,children:(0,r.tZ)(i,{className:n,children:"—"})})}o.displayName="NotAvailable";const i=(0,a.Z)("div",{target:"encv6uu0"})("color:",(e=>e.theme.gray200),";"),l=o},"./app/views/issueDetails/groupEventAttachments/groupEventAttachments.tsx":(e,t,n)=>{n.d(t,{m:()=>se,Z:()=>oe});var a=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/lodash/pick.js"),o=n.n(r),i=n("../node_modules/lodash/xor.js"),l=n.n(i),c=n("./app/actionCreators/indicator.tsx"),d=n("./app/components/deprecatedAsyncComponent.tsx"),u=n("./app/components/emptyStateWarning.tsx"),m=n("./app/components/layouts/thirds.tsx"),p=n("./app/components/loadingIndicator.tsx"),h=n("./app/components/pagination.tsx"),v=n("./app/components/panels/panel.tsx"),_=n("./app/components/panels/panelBody.tsx"),g=n("./app/locale.tsx"),x=n("./app/styles/space.tsx"),y=n("./app/utils/queryString.tsx"),b=n("./app/utils/withSentryRouter.tsx"),E=n("./app/views/issueDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx"),Z=n("./app/components/dateTime.tsx"),f=n("./app/components/events/attachmentUrl.tsx"),D=n("./app/components/events/eventAttachmentActions.tsx"),I=n("./app/components/fileSize.tsx"),A=n("./app/components/links/link.tsx");const T={"event.minidump":(0,g.t)("Minidump"),"event.applecrashreport":(0,g.t)("Apple Crash Report"),"event.attachment":(0,g.t)("Other")};var S=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{attachment:t,projectSlug:n,onDelete:a,isDeleted:s,orgId:r,groupId:o}=e;return(0,S.BX)(N,{isDeleted:s,children:[(0,S.tZ)("td",{children:(0,S.BX)("h5",{children:[t.name,(0,S.tZ)("br",{}),(0,S.BX)("small",{children:[(0,S.tZ)(Z.Z,{date:t.dateCreated})," ·"," ",(0,S.tZ)(A.Z,{to:`/organizations/${r}/issues/${o}/events/${t.event_id}/`,children:t.event_id})]})]})}),(0,S.tZ)("td",{children:T[t.type]||(0,g.t)("Other")}),(0,S.tZ)("td",{children:(0,S.tZ)(I.Z,{bytes:t.size})}),(0,S.tZ)("td",{children:(0,S.tZ)(R,{children:(0,S.tZ)(f.Z,{projectSlug:n,eventId:t.event_id,attachment:t,children:e=>s?null:(0,S.tZ)(D.Z,{url:e,onDelete:a,attachmentId:t.id})})})})]})}j.displayName="GroupEventAttachmentsTableRow";const N=(0,s.Z)("tr",{target:"e1esg7aj1"})("opacity:",(e=>e.isDeleted?.3:1),";td{text-decoration:",(e=>e.isDeleted?"line-through":"normal"),";}"),R=(0,s.Z)("div",{target:"e1esg7aj0"})({name:"1r5gb7q",styles:"display:inline-block"}),w=j;function O(e){let{attachments:t,orgId:n,projectSlug:a,groupId:s,onDelete:r,deletedAttachments:o}=e;const i=[(0,g.t)("Name"),(0,g.t)("Type"),(0,g.t)("Size"),(0,g.t)("Actions")];return(0,S.BX)("table",{className:"table events-table",children:[(0,S.tZ)("thead",{children:(0,S.tZ)("tr",{children:i.map((e=>(0,S.tZ)("th",{children:e},e)))})}),(0,S.tZ)("tbody",{children:t.map((e=>(0,S.tZ)(w,{attachment:e,orgId:n,projectSlug:a,groupId:s,onDelete:r,isDeleted:o.some((t=>e.id===t))},e.id)))})]})}O.displayName="GroupEventAttachmentsTable";const C=O;var P=n("../node_modules/react/index.js"),M=n("../node_modules/react-lazyload/lib/index.js"),k=n("./app/actionCreators/modal.tsx"),L=n("./app/components/actions/menuItemActionLink.tsx"),B=n("./app/components/button.tsx"),$=n("./app/components/card.tsx"),z=n("./app/components/dropdownLink.tsx"),V=n("./app/components/events/eventTagsAndScreenshot/screenshot/imageVisualization.tsx"),H=n("./app/components/events/eventTagsAndScreenshot/screenshot/modal.tsx"),F=n("./app/icons/iconEllipsis.tsx"),G=n("./app/utils/analytics.tsx"),X=n("./app/utils/useOrganization.tsx");function U(e){let{eventAttachment:t,projectSlug:n,eventId:a,groupId:s,onDelete:r,pageLinks:o,attachmentIndex:i,attachments:l}=e;const c=(0,X.Z)(),[d,u]=(0,P.useState)(!0),m=`/api/0/projects/${c.slug}/${n}/events/${a}/attachments/${t.id}/?download=1`;function h(){(0,G.Gi)("issue_details.attachment_tab.screenshot_modal_deleted",{organization:c}),r(t.id)}const v=`/organizations/${c.slug}/issues/${s}/events/`;return(0,S.BX)($.Z,{children:[(0,S.tZ)(q,{children:(0,S.BX)(J,{children:[(0,S.tZ)(K,{onClick:()=>(0,G.Gi)("issue_details.attachment_tab.screenshot_title_clicked",{organization:c}),to:`${v}${a}/`,children:a}),(0,S.tZ)(Y,{children:(0,S.tZ)(Z.Z,{date:t.dateCreated})})]})}),(0,S.tZ)(W,{children:(0,S.tZ)(ee,{onClick:()=>((0,G.Gi)("issue_details.attachment_tab.screenshot_modal_opened",{organization:c}),void(0,k.openModal)((e=>(0,S.tZ)(H.Z,{...e,orgSlug:c.slug,projectSlug:n,eventAttachment:t,downloadUrl:m,onDelete:h,pageLinks:o,attachments:l,attachmentIndex:i,groupId:s,enablePagination:!0,onDownload:()=>(0,G.Gi)("issue_details.attachment_tab.screenshot_modal_download",{organization:c})})),{modalCss:H.f})),"data-test-id":`screenshot-${t.id}`,children:(0,S.BX)(M.ZP,{children:[(0,S.tZ)(ne,{attachment:t,orgId:c.slug,projectSlug:n,eventId:a,onLoad:()=>u(!1),onError:()=>u(!1)}),d&&(0,S.tZ)(te,{children:(0,S.tZ)(p.Z,{mini:!0})})]})})}),(0,S.BX)(Q,{children:[(0,S.tZ)("div",{children:t.name}),(0,S.BX)(z.Z,{caret:!1,customTitle:(0,S.tZ)(B.zx,{"aria-label":(0,g.t)("Actions"),size:"xs",icon:(0,S.tZ)(F.Y,{direction:"down",size:"sm"}),borderless:!0}),anchorRight:!0,children:[(0,S.tZ)(L.Z,{shouldConfirm:!1,href:`${m}`,children:(0,g.t)("Download")}),(0,S.tZ)(L.Z,{shouldConfirm:!0,confirmPriority:"danger",confirmLabel:(0,g.t)("Delete"),onAction:()=>r(t.id),header:(0,g.t)("This image was captured around the time that the event occurred."),message:(0,g.t)("Are you sure you wish to delete this image?"),children:(0,g.t)("Delete")})]})]})]})}U.displayName="ScreenshotCard";const K=(0,s.Z)(A.Z,{target:"ect2eaf8"})((e=>e.theme.overflowEllipsis),";font-weight:normal;"),Y=(0,s.Z)("div",{target:"ect2eaf7"})("font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.gray300),";",(e=>e.theme.overflowEllipsis),";line-height:1.5;"),q=(0,s.Z)("div",{target:"ect2eaf6"})("display:flex;padding:",(0,x.D)(1.5)," ",(0,x.D)(2),";"),W=(0,s.Z)("div",{target:"ect2eaf5"})("background:",(e=>e.theme.gray100),";padding:",(0,x.D)(1.5)," ",(0,x.D)(2),";max-height:250px;min-height:250px;overflow:hidden;border-bottom:1px solid ",(e=>e.theme.gray100),";"),Q=(0,s.Z)("div",{target:"ect2eaf4"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,x.D)(1)," ",(0,x.D)(2),";.dropdown{height:24px;}"),J=(0,s.Z)("div",{target:"ect2eaf3"})("flex-grow:1;overflow:hidden;margin-right:",(0,x.D)(1),";"),ee=(0,s.Z)(_.Z,{target:"ect2eaf2"})({name:"vaphgs",styles:"height:100%;min-height:48px;overflow:hidden;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;flex:1"}),te=(0,s.Z)("div",{target:"ect2eaf1"})({name:"r2z3qx",styles:"position:absolute;display:flex;align-items:center;justify-content:center;height:100%"}),ne=(0,s.Z)(V.Z,{target:"ect2eaf0"})({name:"1oxakv6",styles:"height:100%;z-index:1;border:0"});var ae;!function(e){e.ALL="all",e.CRASH_REPORTS="onlyCrash",e.SCREENSHOTS="screenshot"}(ae||(ae={}));const se=12;class re extends d.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleDelete",(async e=>{const{params:t,project:n}=this.props,a=this.state?.eventAttachments?.find((t=>t.id===e));if(a){this.setState((t=>({deletedAttachments:[...t.deletedAttachments,e]})));try{await this.api.requestPromise(`/projects/${t.orgId}/${n.slug}/events/${a.event_id}/attachments/${a.id}/`,{method:"DELETE"})}catch(e){(0,c.Iw)("An error occurred while deleteting the attachment")}}}))}getDefaultState(){return{...super.getDefaultState(),deletedAttachments:[]}}getActiveAttachmentsTab(){const{location:e}=this.props,t=(0,y.qP)(e.query.types);return 0===t.length?ae.ALL:t[0]===E._L?ae.SCREENSHOTS:0===l()(E.MC,t).length?ae.CRASH_REPORTS:ae.ALL}getEndpoints(){const{params:e,location:t}=this.props;return this.getActiveAttachmentsTab()===ae.SCREENSHOTS?[["eventAttachments",`/issues/${e.groupId}/attachments/`,{query:{...t.query,types:void 0,screenshot:1,per_page:se}}]]:[["eventAttachments",`/issues/${e.groupId}/attachments/`,{query:{...o()(t.query,["cursor","environment","types"]),per_page:50}}]]}renderNoQueryResults(){return(0,S.tZ)(u.Z,{children:(0,S.tZ)("p",{children:(0,g.t)("No crash reports found")})})}renderNoScreenshotsResults(){return(0,S.tZ)(u.Z,{children:(0,S.tZ)("p",{children:(0,g.t)("No screenshots found")})})}renderEmpty(){return(0,S.tZ)(u.Z,{children:(0,S.tZ)("p",{children:(0,g.t)("No attachments found")})})}renderLoading(){return this.renderBody()}renderInnerBody(){const{project:e,params:t}=this.props,{loading:n,eventAttachments:a,deletedAttachments:s}=this.state;return n?(0,S.tZ)(p.Z,{}):a&&a.length>0?(0,S.tZ)(C,{attachments:a,orgId:t.orgId,projectSlug:e.slug,groupId:t.groupId,onDelete:this.handleDelete,deletedAttachments:s}):this.getActiveAttachmentsTab()===ae.CRASH_REPORTS?this.renderNoQueryResults():this.renderEmpty()}renderScreenshotGallery(){const{eventAttachments:e,loading:t}=this.state,{project:n,params:a}=this.props;return t?(0,S.tZ)(p.Z,{}):e&&e.length>0?(0,S.tZ)(ie,{children:e?.map(((t,s)=>(0,S.tZ)(U,{eventAttachment:t,eventId:t.event_id,projectSlug:n.slug,groupId:a.groupId,onDelete:this.handleDelete,pageLinks:this.state.eventAttachmentsPageLinks,attachments:e,attachmentIndex:s},`${s}-${t.id}`)))}):this.renderNoScreenshotsResults()}renderAttachmentsTable(){return(0,S.tZ)(v.Z,{className:"event-list",children:(0,S.tZ)(_.Z,{children:this.renderInnerBody()})})}renderBody(){const{project:e}=this.props;return(0,S.tZ)(m.uT,{children:(0,S.BX)(m.or,{fullWidth:!0,children:[(0,S.tZ)(E.ZP,{project:e}),this.getActiveAttachmentsTab()===ae.SCREENSHOTS?this.renderScreenshotGallery():this.renderAttachmentsTable(),(0,S.tZ)(h.Z,{pageLinks:this.state.eventAttachmentsPageLinks})]})})}}const oe=(0,b.Z)(re),ie=(0,s.Z)("div",{target:"e118352q0"})("display:grid;grid-template-columns:minmax(100px, 1fr);grid-template-rows:repeat(2, max-content);gap:",(0,x.D)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:repeat(3, minmax(100px, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints.large),"){grid-template-columns:repeat(4, minmax(100px, 1fr));}@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){grid-template-columns:repeat(6, minmax(100px, 1fr));}")},"./app/views/issueDetails/groupEventAttachments/groupEventAttachmentsFilter.tsx":(e,t,n)=>{n.d(t,{MC:()=>v,ZP:()=>y,_L:()=>_});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/lodash/omit.js"),r=n.n(s),o=n("../node_modules/lodash/xor.js"),i=n.n(o),l=n("./app/components/segmentedControl.tsx"),c=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),u=n("./app/utils/platform.tsx"),m=n("./app/utils/useLocation.tsx"),p=n("./app/utils/useRouter.tsx"),h=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=["event.minidump","event.applecrashreport"],_="event.screenshot";function g(e){const{project:t}=e,{query:n,pathname:a}=(0,m.T)(),s=(0,p.Z)(),{types:o}=n,d=r()(n,"types"),g={...n,types:v},y={...n,types:_};let b="all";return void 0===o?b="all":o===_?b="screenshot":0===i()(v,o).length&&(b="onlyCrash"),(0,h.tZ)(x,{children:(0,h.tZ)(l.s,{"aria-label":(0,c.t)("Algorithm"),size:"sm",value:b,onChange:e=>{switch(e){case"screenshot":s.replace({pathname:a,query:y});break;case"onlyCrash":s.replace({pathname:a,query:g});break;default:s.replace({pathname:a,query:d})}},children:[(0,h.tZ)(l.s.Item,{children:(0,c.t)("All Attachments")},"all"),...(0,u.an)(t.platform)?[(0,h.tZ)(l.s.Item,{children:(0,c.t)("Screenshots")},"screenshot")]:[],(0,h.tZ)(l.s.Item,{children:(0,c.t)("Only Crash Reports")},"onlyCrash")]})})}g.displayName="GroupEventAttachmentsFilter";const x=(0,a.Z)("div",{target:"e3n34dw0"})("display:flex;justify-content:flex-end;margin-bottom:",(0,d.D)(3),";"),y=g}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_eventTagsAndScreenshot_screenshot_modal_tsx-app_views_issueDetails_grou-87abe5.cccd0028a0efd37e40cf8be4e85b463c.js.map