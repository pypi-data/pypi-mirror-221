(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_issueOwnershipRuleModal_tsx-app_utils_getRouteStringFromRoutes_tsx-app_-c36a5b"],{"./app/components/modals/issueOwnershipRuleModal.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v,modalCss:()=>y});var n=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=s("./app/locale.tsx"),a=s("./app/utils/integrationUtil.tsx"),i=s("./app/utils/theme.tsx"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=s("../node_modules/lodash/uniq.js"),u=s.n(d),p=s("./app/components/deprecatedAsyncComponent.tsx"),c=s("./app/components/links/externalLink.tsx"),m=s("./app/stores/configStore.tsx"),h=s("./app/styles/space.tsx"),g=s("./app/views/settings/project/projectOwnership/ownerInput.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{paths:t,urls:s,eventData:r}=e;const a=m.Z.get("user")?.email;if(!a)return null;const i=t.length?`path:${t[0]} ${a}`:null,l=s.length?`url:${function(e){if(!e)return"";try{return`*${new URL(e).pathname}`}catch{return e}}(s[0])} ${a}`:null,d=r?.tags?.find((e=>{let{key:t}=e;return"transaction"===t})),u=d?`tags.transaction:${d.value} ${a}`:null;return(0,x.BX)(f,{children:["# ",(0,o.t)("Hereâ€™s some suggestions based on this issue"),(0,x.tZ)("br",{}),[i,l,u].filter((e=>e)).map((e=>(0,x.BX)(n.Fragment,{children:[e,(0,x.tZ)("br",{})]},e)))]})}j.displayName="OwnershipSuggestions";class b extends p.Z{getEndpoints(){const{organization:e,project:t,issueId:s}=this.props;return[["ownership",`/projects/${e.slug}/${t.slug}/ownership/`],["urlTagData",`/issues/${s}/tags/url/`,{},{allowError:e=>404===e.status}]]}renderBody(){const{ownership:e,urlTagData:t}=this.state,{eventData:s,organization:r,project:a,onCancel:i}=this.props;if(!e)return null;const l=t?t.topValues.sort(((e,t)=>e.count-t.count)).map((e=>e.value)).slice(0,5):[],d=r.features.includes("streamline-targeting-context"),p=function(e){const t=e?.entries?.find((e=>{let{type:t}=e;return["exception","stacktrace"].includes(t)}));let s=[];return"exception"===t?.type?s=t?.data?.values?.[0]?.stacktrace?.frames??[]:"stacktrace"===t?.type&&(s=t?.data?.frames??[]),s=s.filter((e=>e&&e.inApp)).reverse(),u()(s.map((e=>e.filename||e.absPath||"")))}(s);return(0,x.BX)(n.Fragment,{children:[d?(0,x.BX)(n.Fragment,{children:[(0,x.tZ)(_,{children:(0,o._N)("Assign issues based on custom rules. To learn more, [docs:read the docs].",{docs:(0,x.tZ)(c.Z,{href:"https://docs.sentry.io/product/issues/issue-owners/"})})}),(0,x.tZ)(j,{paths:p,urls:l,eventData:s})]}):(0,x.tZ)("p",{children:(0,o.t)("Match against Issue Data: (globbing syntax *, ? supported)")}),(0,x.tZ)(g.Z,{organization:r,project:a,initialText:e?.raw||"",urls:l,paths:p,dateUpdated:e.lastUpdated,onCancel:i,page:"issue_details"})]})}}const _=(0,l.Z)("p",{target:"e32z9mb1"})("margin-bottom:",(0,h.D)(1),";"),f=(0,l.Z)("pre",{target:"e32z9mb0"})("word-break:break-word;padding:",(0,h.D)(2),";line-height:1.6;color:",(e=>e.theme.subText),";"),w=b;function Z(e){let{Body:t,Header:s,Footer:r,organization:i,project:l,issueId:d,eventData:u,closeModal:p}=e;return(0,n.useEffect)((()=>{(0,a.Db)("project_ownership.modal_opened",{page:"issue_details",organization:i})}),[i]),(0,x.BX)(n.Fragment,{children:[(0,x.tZ)(s,{closeButton:!0,children:(0,x.tZ)("h4",{children:(0,o.t)("Edit Ownership Rules")})}),(0,x.tZ)(t,{children:(0,x.tZ)(w,{organization:i,project:l,issueId:d,eventData:u,onCancel:p})})]})}Z.displayName="IssueOwnershipRuleModal";const y=(0,r.iv)("@media (min-width: ",i.ZP.breakpoints.small,"){width:80%;}",""),v=Z},"./app/utils/getRouteStringFromRoutes.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../node_modules/lodash/findLastIndex.js"),r=s.n(n);function o(e){if(!Array.isArray(e))return"";const t=e.filter((e=>!!e.path)),s=r()(t,(e=>{let{path:t}=e;return t.startsWith("/")}));return t.slice(s).filter((e=>{let{path:t}=e;return!!t})).map((e=>{let{path:t}=e;return t})).join("")}},"./app/utils/withProject.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),o=s("./app/sentryTypes.tsx"),a=s("./app/utils/getDisplayName.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{var t;return t=class extends r.Component{render(){const{project:t,...s}=this.props;return(0,i.tZ)(e,{project:t??this.context.project,...s})}},(0,n.Z)(t,"displayName",`withProject(${(0,a.Z)(e)})`),(0,n.Z)(t,"contextTypes",{project:o.Z.Project}),t}},"../node_modules/lodash/findLastIndex.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseFindIndex.js"),r=s("../node_modules/lodash/_baseIteratee.js"),o=s("../node_modules/lodash/toInteger.js"),a=Math.max,i=Math.min;e.exports=function(e,t,s){var l=null==e?0:e.length;if(!l)return-1;var d=l-1;return void 0!==s&&(d=o(s),d=s<0?a(l+d,0):i(d,l-1)),n(e,r(t,3),d,!0)}},"../node_modules/lodash/uniq.js":(e,t,s)=>{var n=s("../node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?n(e):[]}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_issueOwnershipRuleModal_tsx-app_utils_getRouteStringFromRoutes_tsx-app_-c36a5b.48e4be85cc09ccd73d6a1fbf4ba656ff.js.map