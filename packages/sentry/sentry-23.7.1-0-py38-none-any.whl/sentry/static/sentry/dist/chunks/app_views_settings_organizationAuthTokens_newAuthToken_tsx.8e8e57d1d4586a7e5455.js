"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationAuthTokens_newAuthToken_tsx"],{"./app/components/panels/panelHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),s=n("./app/styles/space.tsx");const i=e=>{let{disablePadding:t,hasButtons:n}=e;return(0,a.iv)("padding:",n?(0,s.D)(1):(0,s.D)(2)," ",t?0:(0,s.D)(2),";","")},r=(0,o.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",i,";")},"./app/views/settings/organizationAuthTokens/newAuthToken.tsx":(e,t,n)=>{n.r(t),n.d(t,{OrganizationAuthTokensNewAuthToken:()=>B,default:()=>O});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),i=n("./app/actionCreators/indicator.tsx"),r=n("./app/components/alert.tsx"),l=n("./app/components/button.tsx"),p=n("./app/components/forms/fieldGroup/index.tsx"),d=n("./app/components/forms/fields/textField.tsx"),u=n("./app/components/forms/form.tsx"),c=n("./app/components/links/externalLink.tsx"),h=n("./app/components/panels/panel.tsx"),m=n("./app/components/panels/panelBody.tsx"),g=n("./app/components/panels/panelHeader.tsx"),x=n("./app/components/panels/panelItem.tsx"),k=n("./app/components/sentryDocumentTitle.tsx"),Z=n("./app/components/textCopyInput.tsx"),y=n("./app/locale.tsx"),b=n("./app/styles/space.tsx"),w=n("./app/utils/getDynamicText.tsx"),f=n("./app/utils/handleXhrErrorResponse.tsx"),T=n("./app/utils/queryClient.tsx"),z=n("./app/utils/useApi.tsx"),A=n("./app/utils/withDomainRequired.tsx"),v=n("./app/utils/withOrganization.tsx"),C=n("./app/views/settings/components/settingsPageHeader.tsx"),S=n("./app/views/settings/components/text/textBlock.tsx"),_=n("./app/views/settings/organizationAuthTokens/index.tsx"),N=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{organization:t,onCreatedToken:n}=e;const o=(0,z.Z)(),r=(0,T.NL)(),l=(0,a.useCallback)((()=>{s.browserHistory.push((0,A.D)(`/settings/${t.slug}/auth-tokens/`))}),[t.slug]),{mutate:c}=(0,T.Db)({mutationFn:e=>{let{name:n}=e;return(0,i.E3)(),o.requestPromise(`/organizations/${t.slug}/org-auth-tokens/`,{method:"POST",data:{name:n}})},onSuccess:e=>{(0,i.S9)((0,y.t)("Created auth token.")),r.invalidateQueries({queryKey:(0,_.makeFetchOrgAuthTokensForOrgQueryKey)({orgSlug:t.slug})}),n(e)},onError:e=>{const t=(0,y.t)("Failed to create a new auth token.");(0,f.X)(t,e),(0,i.Iw)(t)}});return(0,N.BX)(u.Z,{apiMethod:"POST",initialData:{name:""},apiEndpoint:`/organizations/${t.slug}/org-auth-tokens/`,onSubmit:e=>{let{name:t}=e;c({name:t})},onCancel:l,submitLabel:(0,y.t)("Create Auth Token"),requireChanges:!0,children:[(0,N.tZ)(d.Z,{name:"name",label:(0,y.t)("Name"),required:!0,help:(0,y.t)("A name to help you identify this token.")}),(0,N.tZ)(p.Z,{label:(0,y.t)("Scopes"),help:(0,y.t)("Organization auth tokens currently have a limited set of scopes."),children:(0,N.BX)("div",{children:[(0,N.tZ)("div",{children:"org:ci"}),(0,N.tZ)(X,{children:(0,y.t)("Source Map Upload, Release Creation")})]})})]})}function D(e){let{token:t,organization:n}=e;const o=(0,a.useCallback)((()=>{s.browserHistory.push((0,A.D)(`/settings/${n.slug}/auth-tokens/`))}),[n.slug]);return(0,N.BX)("div",{children:[(0,N.tZ)(r.ZP,{type:"warning",showIcon:!0,system:!0,children:(0,y.t)("Please copy this token to a safe place â€” it won't be shown again!")}),(0,N.tZ)(x.Z,{children:(0,N.tZ)(P,{children:(0,N.tZ)(I,{label:(0,y.t)("Token"),help:(0,y.t)("You can only view this token when it was created."),inline:!0,flexibleControlStateSize:!0,children:(0,N.tZ)(Z.Z,{"aria-label":(0,y.t)("Generated token"),children:(0,w.Z)({value:t.token,fixed:"ORG_AUTH_TOKEN"})})})})}),(0,N.tZ)(x.Z,{children:(0,N.tZ)(F,{children:(0,N.tZ)(l.zx,{onClick:o,priority:"primary",children:(0,y.t)("Done")})})})]})}function B(e){let{organization:t}=e;const[n,o]=(0,a.useState)(null);return(0,N.BX)("div",{children:[(0,N.tZ)(k.Z,{title:(0,y.t)("Create New Auth Token")}),(0,N.tZ)(C.Z,{title:(0,y.t)("Create New Auth Token")}),(0,N.tZ)(S.Z,{children:(0,y.t)("Authentication tokens allow you to perform actions against the Sentry API on behalf of your organization. They're the easiest way to get started using the API.")}),(0,N.tZ)(S.Z,{children:(0,y._N)("For more information on how to use the web API, see our [link:documentation].",{link:(0,N.tZ)(c.Z,{href:"https://docs.sentry.io/api/"})})}),(0,N.BX)(h.Z,{children:[(0,N.tZ)(g.Z,{children:(0,y.t)("Create New Auth Token")}),(0,N.tZ)(m.Z,{children:n?(0,N.tZ)(D,{token:n,organization:t}):(0,N.tZ)(j,{organization:t,onCreatedToken:o})})]})]})}j.displayName="AuthTokenCreateForm",D.displayName="ShowNewToken",B.displayName="OrganizationAuthTokensNewAuthToken";const O=(0,v.Z)(B),P=(0,o.Z)("div",{target:"egrobao3"})({name:"82a6rk",styles:"flex:1"}),F=(0,o.Z)("div",{target:"egrobao2"})("margin-left:auto;display:flex;flex-direction:column;align-items:flex-end;font-size:",(e=>e.theme.fontSizeSmall),";gap:",(0,b.D)(1),";"),I=(0,o.Z)(p.Z,{target:"egrobao1"})({name:"1hcx8jb",styles:"padding:0"}),X=(0,o.Z)("div",{target:"egrobao0"})("color:",(e=>e.theme.gray300),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationAuthTokens_newAuthToken_tsx.7e76b84862c8724b452fec074e46ec3c.js.map