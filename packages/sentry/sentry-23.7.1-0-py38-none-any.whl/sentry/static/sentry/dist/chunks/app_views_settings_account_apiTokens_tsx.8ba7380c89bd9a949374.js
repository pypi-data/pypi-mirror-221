"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_apiTokens_tsx"],{"./app/components/panels/panelHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),o=n("./app/styles/space.tsx");const a=e=>{let{disablePadding:t,hasButtons:n}=e;return(0,i.iv)("padding:",n?(0,o.D)(1):(0,o.D)(2)," ",t?0:(0,o.D)(2),";","")},r=(0,s.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",a,";")},"./app/views/deprecatedAsyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>a});var s=n("./app/components/deprecatedAsyncComponent.tsx"),i=n("./app/components/sentryDocumentTitle.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends s.Z{getTitle(){return""}render(){return(0,o.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="DeprecatedAsyncView"},"./app/views/settings/account/apiTokens.tsx":(e,t,n)=>{n.r(t),n.d(t,{ApiTokens:()=>P,default:()=>X});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./app/actionCreators/indicator.tsx"),o=n("./app/components/alertLink.tsx"),a=n("./app/components/button.tsx"),r=n("./app/components/emptyMessage.tsx"),d=n("./app/components/links/externalLink.tsx"),p=n("./app/components/panels/panel.tsx"),l=n("./app/components/panels/panelBody.tsx"),c=n("./app/components/panels/panelHeader.tsx"),m=n("./app/locale.tsx"),h=n("./app/utils/withOrganization.tsx"),u=n("./app/views/deprecatedAsyncView.tsx"),g=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),x=n("./app/components/dateTime.tsx"),k=n("./app/components/panels/panelItem.tsx"),Z=n("./app/components/textCopyInput.tsx"),v=n("./app/icons/index.tsx"),y=n("./app/styles/space.tsx"),f=n("./app/utils/getDynamicText.tsx"),w=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function b(e){let{token:t,onRemove:n}=e;return(0,w.BX)(T,{children:[(0,w.BX)(z,{children:[(0,w.tZ)(S,{children:(0,w.tZ)(Z.Z,{children:(0,f.Z)({value:t.token,fixed:"CI_AUTH_TOKEN"})})}),(0,w.tZ)(a.zx,{onClick:()=>n(t),icon:(0,w.tZ)(v.JZ,{isCircled:!0,size:"xs"}),children:(0,m.t)("Remove")})]}),(0,w.BX)(A,{children:[(0,w.BX)(D,{children:[(0,w.tZ)(j,{children:(0,m.t)("Scopes")}),(0,w.tZ)(B,{children:t.scopes.join(", ")})]}),(0,w.BX)("div",{children:[(0,w.tZ)(j,{children:(0,m.t)("Created")}),(0,w.tZ)(_,{children:(0,w.tZ)(x.Z,{date:(0,f.Z)({value:t.dateCreated,fixed:new Date(150820808e4)})})})]})]})]})}b.displayName="ApiTokenRow";const T=(0,g.Z)(k.Z,{target:"e70vihd7"})("flex-direction:column;padding:",(0,y.D)(2),";"),z=(0,g.Z)("div",{target:"e70vihd6"})("display:flex;align-items:center;margin-bottom:",(0,y.D)(1),";"),S=(0,g.Z)("div",{target:"e70vihd5"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";flex:1;margin-right:",(0,y.D)(1),";"),A=(0,g.Z)("div",{target:"e70vihd4"})("display:flex;margin-top:",(0,y.D)(1),";"),D=(0,g.Z)("div",{target:"e70vihd3"})({name:"82a6rk",styles:"flex:1"}),B=(0,g.Z)("div",{target:"e70vihd2"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),_=(0,g.Z)("time",{target:"e70vihd1"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),j=(0,g.Z)("div",{target:"e70vihd0"})("font-size:",(e=>e.theme.fontSizeMedium),";text-transform:uppercase;color:",(e=>e.theme.subText),";margin-bottom:",(0,y.D)(1),";"),C=b;var R=n("./app/views/settings/components/settingsPageHeader.tsx"),L=n("./app/views/settings/components/text/textBlock.tsx");class P extends u.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleRemoveToken",(e=>{(0,i.E3)();const t=this.state.tokenList;this.setState((t=>({tokenList:t.tokenList?.filter((t=>t.token!==e.token))??[]})),(async()=>{try{await this.api.requestPromise("/api-tokens/",{method:"DELETE",data:{token:e.token}}),(0,i.S9)((0,m.t)("Removed token"))}catch(e){(0,i.Iw)((0,m.t)("Unable to remove token. Please try again.")),this.setState({tokenList:t})}}))}))}getTitle(){return(0,m.t)("User Auth Tokens")}getDefaultState(){return{...super.getDefaultState(),tokenList:[]}}getEndpoints(){return[["tokenList","/api-tokens/"]]}renderBody(){const{organization:e}=this.props,{tokenList:t}=this.state,n=!Array.isArray(t)||0===t.length,s=(0,w.tZ)(a.zx,{priority:"primary",size:"sm",to:"/settings/account/api/auth-tokens/new-token/","data-test-id":"create-token",children:(0,m.t)("Create New Token")});return(0,w.BX)("div",{children:[(0,w.tZ)(R.Z,{title:this.getTitle(),action:s}),(0,w.tZ)(o.Z,{to:`/settings/${e?.slug??""}/developer-settings/new-internal`,children:(0,m.t)("Auth Tokens are tied to the logged in user, meaning they'll stop working if the user leaves the organization! We suggest using internal integrations to create/manage tokens tied to the organization instead.")}),(0,w.tZ)(L.Z,{children:(0,m.t)("Authentication tokens allow you to perform actions against the Sentry API on behalf of your account. They're the easiest way to get started using the API.")}),(0,w.tZ)(L.Z,{children:(0,m._N)("For more information on how to use the web API, see our [link:documentation].",{link:(0,w.tZ)(d.Z,{href:"https://docs.sentry.io/api/"})})}),(0,w.BX)(p.Z,{children:[(0,w.tZ)(c.Z,{children:(0,m.t)("Auth Token")}),(0,w.BX)(l.Z,{children:[n&&(0,w.tZ)(r.Z,{children:(0,m.t)("You haven't created any authentication tokens yet.")}),t?.map((e=>(0,w.tZ)(C,{token:e,onRemove:this.handleRemoveToken},e.token)))]})]})]})}}const X=(0,h.Z)(P)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_apiTokens_tsx.6f08676944730a22f23b9276dae55305.js.map