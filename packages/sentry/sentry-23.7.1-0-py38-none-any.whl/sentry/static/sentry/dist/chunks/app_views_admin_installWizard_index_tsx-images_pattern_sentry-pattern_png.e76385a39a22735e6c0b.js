"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_admin_installWizard_index_tsx-images_pattern_sentry-pattern_png"],{"./app/components/forms/apiForm.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var r=n("../node_modules/react/index.js"),s=n("./app/actionCreators/indicator.tsx"),i=n("./app/components/forms/form.tsx"),a=n("./app/locale.tsx"),o=n("./app/utils/useApi.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{onSubmit:t,apiMethod:n,apiEndpoint:p,...l}=e;const c=(0,o.Z)(),m=(0,r.useCallback)(((e,r,i)=>{const o=t?.(e);(0,s.E3)((0,a.t)("Saving changesâ€¦")),c.request(p,{method:n,data:o??e,success:e=>{(0,s.B8)(),r(e)},error:e=>{(0,s.B8)(),i(e)}})}),[c,t,n,p]);return(0,d.tZ)(i.Z,{onSubmit:m,...l})}p.displayName="ApiForm";const l=p},"./app/views/admin/installWizard/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const s=n.p+"assets/sentry-pattern.dba661a9db73aaaf2ea0.png";var i=n("./app/components/alert.tsx"),a=n("./app/components/forms/apiForm.tsx"),o=n("./app/components/sentryDocumentTitle.tsx"),d=n("./app/locale.tsx"),p=n("./app/stores/configStore.tsx"),l=n("./app/styles/space.tsx"),c=n("./app/views/deprecatedAsyncView.tsx"),m=n("./app/views/admin/options.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class h extends c.Z{getEndpoints(){return[["data","/internal/options/?query=is:required"]]}renderFormFields(){const e=this.state.data;let t=new Set(Object.keys(e).filter((t=>!e[t].field.isSet)));0===t.size&&(t=new Set(Object.keys(e)));const n={};for(const r of t){const t=e[r];t.field.disabled||(n[r]=(0,m.E)(r,t.field))}return(0,m.R3)(n)}getInitialData(){const e=this.state.data,t={};return Object.keys(e).forEach((n=>{const r=e[n];if(r.field.disabled)return;const s=r.value||(0,m.F3)(n);"beacon.anonymous"===n||r.field.isSet||void 0===s||(t[n]=s)})),t}getTitle(){return(0,d.t)("Setup Sentry")}render(){const e=p.Z.get("version");return(0,u.tZ)(o.Z,{noSuffix:!0,title:this.getTitle(),children:(0,u.BX)(g,{children:[(0,u.tZ)(x,{}),(0,u.BX)(Z,{children:[(0,u.BX)(f,{children:[(0,u.tZ)("span",{children:(0,d.t)("Welcome to Sentry")}),(0,u.tZ)(y,{children:e.current})]}),this.state.loading?this.renderLoading():this.state.error?this.renderError():this.renderBody()]})]})})}renderError(){return(0,u.tZ)(i.bZ,{type:"error",showIcon:!0,children:(0,d.t)("We were unable to load the required configuration from the Sentry server. Please take a look at the service logs.")})}renderBody(){return(0,u.BX)(a.Z,{apiMethod:"PUT",apiEndpoint:this.getEndpoints()[0][1],submitLabel:(0,d.t)("Continue"),initialData:this.getInitialData(),onSubmitSuccess:this.props.onConfigured,children:[(0,u.tZ)("p",{children:(0,d.t)("Complete setup by filling out the required configuration.")}),this.renderFormFields()]})}}h.displayName="InstallWizard";const g=(0,r.Z)("div",{target:"e2s8trm4"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),b={name:"yfl0u7",styles:"position:fixed;top:0;right:0;bottom:0;left:0"},x=(0,r.Z)("div",{target:"e2s8trm3"})("z-index:-1;&::before{",b," content:'';background-image:linear-gradient(\n      to right,\n      ",(e=>e.theme.purple200)," 0%,\n      ",(e=>e.theme.purple300)," 100%\n    );background-repeat:repeat-y;}&::after{",b," content:'';background:url(",s,");background-size:400px;opacity:0.8;}"),f=(0,r.Z)("h1",{target:"e2s8trm2"})("display:grid;gap:",(0,l.D)(1),";justify-content:space-between;grid-auto-flow:column;line-height:36px;"),y=(0,r.Z)("small",{target:"e2s8trm1"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";line-height:inherit;"),Z=(0,r.Z)("div",{target:"e2s8trm0"})("background:",(e=>e.theme.background),";border-radius:",(e=>e.theme.borderRadius),";box-shadow:",(e=>e.theme.dropShadowHeavy),";margin-top:40px;padding:40px 40px 20px;width:600px;z-index:",(e=>e.theme.zIndex.initial),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_admin_installWizard_index_tsx-images_pattern_sentry-pattern_png.c84cc24032dc261c414f1715bfb95c7e.js.map