"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_monitors_overview_tsx-images_spot_onboarding-preview_svg"],{"./app/actionCreators/monitors.tsx":(e,t,n)=>{n.d(t,{Mw:()=>s,gm:()=>a,so:()=>l});var o=n("./app/actionCreators/indicator.tsx"),r=n("./app/locale.tsx"),i=n("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js");async function s(e,t,n){(0,o.E3)((0,r.t)("Deleting Monitor..."));try{await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"DELETE"}),(0,o.B8)()}catch{(0,o.Iw)((0,r.t)("Unable to remove monitor."))}}async function a(e,t,n,i){(0,o.E3)((0,r.t)("Deleting Environment..."));try{await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"DELETE",query:{environment:i}}),(0,o.B8)()}catch{(0,o.Iw)((0,r.t)("Unable to remove environment from monitor."))}}async function l(e,t,n,s){(0,o.E3)();try{const r=await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"PUT",data:s});return(0,o.B8)(),r}catch(e){a=e,i.$e((e=>{i.Tb(a)})),window.console&&console.error&&console.error(a),(0,o.Iw)((0,r.t)("Unable to update monitor."))}var a;return null}},"./app/components/diamondStatus.tsx":(e,t,n)=>{n.d(t,{V:()=>s});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/icons/index.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){let{color:t,icon:n,...o}=e;return(0,i.BX)(l,{role:"presentation",color:t,...o,children:[(0,i.tZ)(a,{color:t}),(0,i.tZ)(n,{color:"white"})]})}s.displayName="DiamondStatus";const a=(0,o.Z)(r.Sq,{target:"ehwnb4y1"})({name:"bgbjt4",styles:"width:36px;height:36px"}),l=(0,o.Z)("div",{target:"ehwnb4y0"})({name:"1uzdu7j",styles:"width:36px;height:36px;position:relative;svg:last-child{width:16px;z-index:2;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;}"})},"./app/components/onboardingPanel.tsx":(e,t,n)=>{n.d(t,{Z:()=>m});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/components/panels/panel.tsx"),i=n("./app/styles/space.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{image:t,noCenter:n,children:o,...i}=e;return(0,s.tZ)(r.Z,{...i,children:(0,s.BX)(l,{children:[t?(0,s.tZ)(c,{children:t}):null,(0,s.tZ)(d,{centered:!t&&!n,children:o})]})})}a.displayName="OnboardingPanel";const l=(0,o.Z)("div",{target:"euclof22"})("padding:",(0,i.D)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),d=(0,o.Z)("div",{target:"euclof21"})("min-width:0;z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),c=(0,o.Z)(d,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;min-width:150px;margin:",(0,i.D)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,i.D)(3),";max-width:auto;}"),m=a},"./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var o=n("../node_modules/react/index.js"),r=n("./app/views/routeAnalyticsContextProvider.tsx");function i(e,t){const{setEventNames:n,previousUrl:i}=(0,o.useContext)(r.o);(0,o.useEffect)((()=>{n(e,t)}),[n,e,t,i])}},"./app/views/monitors/components/cronsFeedbackButton.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});var o=n("./app/components/featureFeedback/index.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(){return(0,r.tZ)(o.z,{featureName:"crons",buttonProps:{size:"sm"}})}i.displayName="CronsFeedbackButton";const s=i},"./app/views/monitors/overview.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>rt});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/query-string/index.js");const s=n.p+"assets/onboarding-preview.9ab72020d945116f13ae.svg";var a=n("./app/components/button.tsx"),l=n("./app/components/buttonBar.tsx"),d=n("./app/components/environmentPageFilter.tsx"),c=n("./app/components/featureBadge.tsx"),m=n("./app/components/layouts/thirds.tsx"),u=n("./app/components/loadingIndicator.tsx"),p=n("./app/components/onboardingPanel.tsx"),h=n("./app/components/organizations/pageFilterBar.tsx"),g=n("./app/components/organizations/pageFilters/parse.tsx"),x=n("./app/components/pageHeadingQuestionTooltip.tsx"),f=n("./app/components/pagination.tsx"),y=n("./app/components/projectPageFilter.tsx"),Z=n("./app/components/searchBar.tsx"),v=n("./app/components/sentryDocumentTitle.tsx"),w=n("./app/icons/index.tsx"),b=n("./app/locale.tsx"),k=n("./app/styles/space.tsx"),T=n("./app/utils/queryClient.tsx"),C=n("./app/utils/queryString.tsx"),I=n("./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx"),N=n("./app/utils/routeAnalytics/useRouteAnalyticsParams.tsx"),E=n("./app/utils/useOrganization.tsx"),j=n("./app/utils/usePageFilters.tsx"),O=n("./app/utils/useRouter.tsx"),D=n("./app/views/monitors/components/cronsFeedbackButton.tsx"),M=n("./app/components/panels/panelTable.tsx"),R=n("./app/utils/useLocation.tsx"),S=n("./app/views/monitors/utils.tsx"),q=n("./app/actionCreators/monitors.tsx"),_=n("./app/components/confirm.tsx"),z=n("./app/components/dropdownMenu/index.tsx"),B=n("./app/components/idBadge/index.tsx"),L=n("./app/components/links/link.tsx"),P=n("./app/components/textOverflow.tsx"),X=n("./app/components/timeSince.tsx"),$=n("./app/utils/useApi.tsx"),A=n("./app/utils/withDomainRequired.tsx"),F=n("./app/views/monitors/types.tsx"),W=n("./app/components/diamondStatus.tsx"),U=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function K(e){let{status:t}=e;const{Icon:n,color:o}=H[t]??H.ok;return(0,U.tZ)(W.V,{icon:n,color:o})}K.displayName="MonitorBadge";const H={ok:{Icon:w.DL,color:"successText"},error:{Icon:w.zC,color:"errorText"},timeout:{Icon:w.zC,color:"errorText"},missed_checkin:{Icon:w.qV,color:"warningText"},active:{Icon:w._$,color:"subText"},disabled:{Icon:e=>(0,U.tZ)(w.ky,{...e,size:"xs"}),color:"subText"}};function V(e){let{monitor:t,monitorEnv:n,organization:o,onDelete:i}=e;const s=(0,$.Z)(),a=n?.lastCheckIn?(0,U.tZ)(X.Z,{unitStyle:"regular",date:n.lastCheckIn}):null,l=n?(0,b._N)('Are you sure you want to permanently delete the "[envName]" environment from "[monitorName]"?',{monitorName:t.name,envName:n.name}):(0,b._N)('Are you sure you want to permanently delete "[monitorName]"?',{monitorName:t.name}),d=[{key:"edit",label:(0,b.t)("Edit"),to:(0,A.D)({pathname:`/organizations/${o.slug}/crons/${t.slug}/edit/`,query:{environment:n?.name}})},{key:"delete",label:(0,b.t)("Delete"),priority:"danger",onAction:()=>{(0,_._)({onConfirm:async()=>{n?await(0,q.gm)(s,o.slug,t.slug,n.name):await(0,q.Mw)(s,o.slug,t.slug),i(n)},header:(0,b.t)("Delete Monitor?"),message:l,confirmText:(0,b.t)("Delete Monitor"),priority:"danger"})}}],c=`/organizations/${o.slug}/crons/${t.slug}/${n?`?environment=${n.name}`:""}`,m="disabled"!==t.status&&n?n.status:t.status;return(0,U.BX)(r.Fragment,{children:[(0,U.BX)(G,{children:[(0,U.tZ)(K,{status:m}),(0,U.tZ)(L.Z,{to:c,children:t.name})]}),(0,U.tZ)(J,{children:(0,U.tZ)(P.Z,{children:"disabled"===m?(0,b.t)("Paused"):m!==F.wo.ACTIVE&&a?m===F.wo.OK?(0,b._N)("Check-in [lastCheckin]",{lastCheckin:a}):m===F.wo.MISSED_CHECKIN?(0,b._N)("Missed [lastCheckin]",{lastCheckin:a}):m===F.wo.ERROR?(0,b._N)("Failed [lastCheckin]",{lastCheckin:a}):m===F.wo.TIMEOUT?(0,b.t)("Timed out"):null:(0,b.t)("Waiting for first check-in")})}),(0,U.tZ)(J,{children:(0,S.Jc)(t.config)}),(0,U.tZ)(J,{children:n?.nextCheckIn&&n.status!==F.wo.DISABLED&&n.status!==F.wo.ACTIVE?(0,U.tZ)(X.Z,{unitStyle:"regular",date:n.nextCheckIn}):"—"}),(0,U.tZ)(J,{children:(0,U.tZ)(B.Z,{project:t.project,avatarSize:18,avatarProps:{hasTooltip:!0,tooltip:t.project.slug}})}),(0,U.tZ)(J,{children:n?.name??"—"}),(0,U.tZ)(Y,{children:(0,U.tZ)(z.h,{items:d,position:"bottom-end",triggerProps:{"aria-label":(0,b.t)("Actions"),size:"xs",icon:(0,U.tZ)(w.YR,{size:"xs"}),showChevron:!1}})})]})}V.displayName="MonitorRow";const G=(0,o.Z)("div",{target:"e137lq2l2"})("display:flex;align-items:center;gap:",(0,k.D)(2),";font-size:",(e=>e.theme.fontSizeLarge),";"),J=(0,o.Z)("div",{target:"e137lq2l1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Y=(0,o.Z)("div",{target:"e137lq2l0"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"});function Q(e){let{monitorList:t}=e;const n=(0,R.T)(),o=(0,E.Z)(),r=(0,T.NL)(),i=(0,S.Kg)(o,n),s=(e,n)=>(0,U.tZ)(V,{monitor:e,monitorEnv:n,onDelete:n=>{if(n){if(!t)return;const o=t.find((t=>t.slug===e.slug));if(!o)return;o.environments=o.environments.filter((e=>e.name!==n.name)),(0,T.XN)(r,i,t)}else(0,T.XN)(r,i,t?.filter((t=>t.slug!==e.slug)))},organization:o},`${e.slug}-${n?.name??"no-env"}`);return(0,U.tZ)(ee,{headers:[(0,b.t)("Monitor Name"),(0,b.t)("Status"),(0,b.t)("Schedule"),(0,b.t)("Next Checkin"),(0,b.t)("Project"),(0,b.t)("Environment"),(0,b.t)("Actions")],children:t?.map((e=>e.environments.length>0?e.environments.map((t=>s(e,t))):s(e))).flat()})}Q.displayName="OverviewTable";const ee=(0,o.Z)(M.Z,{target:"eyhbkp30"})({name:"1dqlhcg",styles:"grid-template-columns:1fr max-content 1fr max-content max-content max-content max-content"});var te=n("./app/components/panels/panel.tsx"),ne=n("./app/components/segmentedControl.tsx"),oe=n("../node_modules/@react-aria/utils/dist/import.mjs"),re=n("../node_modules/moment/moment.js"),ie=n.n(re),se=n("./app/components/dateTime.tsx"),ae=n("./app/utils/dates.tsx");const le={"1h":{cursorLabelFormat:(0,ae.y6)({timeOnly:!0,seconds:!0}),elapsedMinutes:60,timeMarkerInterval:10,dateTimeProps:{timeOnly:!0}},"24h":{cursorLabelFormat:(0,ae.y6)({timeOnly:!0}),elapsedMinutes:1440,timeMarkerInterval:240,dateTimeProps:{timeOnly:!0}},"7d":{cursorLabelFormat:(0,ae.y6)(),elapsedMinutes:10080,timeMarkerInterval:1440,dateTimeProps:{}},"30d":{cursorLabelFormat:(0,ae.y6)({dateOnly:!0}),elapsedMinutes:43200,timeMarkerInterval:7200,dateTimeProps:{dateOnly:!0}}};function de(e,t){const{elapsedMinutes:n}=le[t];return ie()(e).subtract(n,"minute").toDate()}var ce=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),me=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),ue=n("./app/components/overlay.tsx"),pe=n("./app/utils/testableTransition.tsx");const he=(0,o.Z)(me.E.div,{target:"e14i3eym1"})("pointer-events:none;background:",(e=>e.theme.translucentBorder),";width:2px;height:100%;position:absolute;top:0;left:clamp(0px, var(--cursorOffset), var(--cursorMax));transform:translateX(-2px);z-index:3;");he.defaultProps={initial:"initial",animate:"animate",exit:"exit",transition:(0,pe.Z)({duration:.1}),variants:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}};const ge=(0,o.Z)(ue.a,{target:"e14i3eym0"})("font-variant-numeric:tabular-nums;width:max-content;padding:",(0,k.D)(.75)," ",(0,k.D)(1),";color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:1.2;position:absolute;top:12px;left:clamp(\n    0px,\n    calc(var(--cursorOffset) + ",10,"px),\n    calc(var(--cursorMax) - var(--cursorLabelWidth) - ",10,"px)\n  );");function xe(e,t,n){const{elapsedMinutes:o,timeMarkerInterval:r}=le[t],i=60*o*1e3/n,s=[],a=de(e,t),l=ie()(a);var d,c;c=t,(d=l).startOf("minute"),"1h"===c?d.minute(d.minutes()-d.minutes()%10):"30d"===c?d.startOf("day"):d.startOf("hour");for(let e=1;e<o/r;e++){const t=ie()(l).add(e*r,"minute"),n=(t.valueOf()-a.valueOf())/i;s.push({date:t.toDate(),position:n})}return s}function fe(e){let{end:t,timeWindow:n,width:o}=e;return(0,U.tZ)(we,{children:xe(t,n,o).map((e=>{let{date:t,position:o}=e;return(0,U.tZ)(ke,{left:o,children:(0,U.tZ)(Te,{date:t,...le[n].dateTimeProps})},t.getTime())}))})}function ye(e){let{end:t,timeWindow:n,width:o,showCursor:i}=e;const{cursorLabelFormat:s}=le[n],a=(0,r.useCallback)((e=>{const o=de(t,n),r=(t.getTime()-o.getTime())*e;return ie()(o.getTime()+r).format(s)}),[s,t,n]),{cursorContainerRef:l,timelineCursor:d}=function(e){let{enabled:t=!0,labelText:n}=e;const o=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(null),[a,l]=(0,r.useState)(!1),d=(0,r.useCallback)((e=>{if(null!==o.current&&window.cancelAnimationFrame(o.current),null===i.current)return;const t=i.current.getBoundingClientRect(),r=e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom;r!==a&&l(r),o.current=window.requestAnimationFrame((()=>{if(null===i.current||null===s.current)return;const o=e.clientX-t.left,r=s.current.offsetWidth;s.current.innerText=n(o/t.width),i.current.style.setProperty("--cursorOffset",`${o}px`),i.current.style.setProperty("--cursorMax",`${t.width}px`),i.current.style.setProperty("--cursorLabelWidth",`${r}px`)}))}),[a,n]);(0,r.useEffect)((()=>(t?window.addEventListener("mousemove",d):l(!1),()=>window.removeEventListener("mousemove",d))),[t,d]);const c=(0,U.tZ)(ce.M,{children:a&&(0,U.BX)(r.Fragment,{children:[(0,U.tZ)(he,{role:"presentation"}),(0,U.tZ)(ge,{ref:s,animated:!0,placement:"right"})]})});return{cursorContainerRef:i,timelineCursor:c}}({enabled:i,labelText:a});return(0,U.BX)(Ze,{ref:l,children:[d,(0,U.tZ)(ve,{children:xe(t,n,o).map((e=>{let{date:t,position:n}=e;return(0,U.tZ)(be,{left:n},t.getTime())}))})]})}fe.displayName="GridLineTimeLabels",ye.displayName="GridLineOverlay";const Ze=(0,o.Z)("div",{target:"ed7wpxd5"})({name:"1knnq8z",styles:"grid-row:1;grid-column:3;height:100%;width:100%;position:absolute;pointer-events:none"}),ve=(0,o.Z)("div",{target:"ed7wpxd4"})({name:"1wv4onu",styles:"position:relative;height:100%"}),we=(0,o.Z)("div",{target:"ed7wpxd3"})("position:relative;align-self:stretch;border-bottom:1px solid ",(e=>e.theme.border),";"),be=(0,o.Z)("div",{target:"ed7wpxd2"})("position:absolute;left:",(e=>e.left),"px;border-left:1px solid ",(e=>e.theme.innerBorder),";height:100%;"),ke=(0,o.Z)(be,{target:"ed7wpxd1"})({name:"wm3npa",styles:"display:flex;height:100%;align-items:center"}),Te=(0,o.Z)(se.Z,{target:"ed7wpxd0"})("font-variant-numeric:tabular-nums;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";margin-left:",(0,k.D)(1),";");var Ce=n("../node_modules/react-router/es/index.js"),Ie=n("./app/components/placeholder.tsx");const Ne=[F.NI.OK,F.NI.MISSED,F.NI.TIMEOUT,F.NI.ERROR];function Ee(e){return Object.values(e).reduce(((e,t)=>{for(const[n,o]of Ne.entries())t[o]>0&&n>Ne.indexOf(e)&&(e=o);return e}),Ne[0])}function je(e,t){const[n,o]=e;return{endTs:n,startTs:n,width:1,envMapping:o,roundedLeft:!1,roundedRight:!1,...t}}var Oe=n("./app/components/text.tsx"),De=n("./app/components/tooltip.tsx");function Me(e){let{jobTick:t,timeWindow:n,children:o,...i}=e;const{startTs:s,endTs:a,envMapping:l}=t,{dateTimeProps:d}=le[n],c=Object.keys(l),m=1===c.length&&1===Object.values(l[c[0]]).reduce(((e,t)=>e+t),0),u=(0,U.BX)(r.Fragment,{children:[(0,U.BX)(Se,{children:[(0,U.tZ)(se.Z,{date:1e3*s,...d}),!m&&(0,U.BX)(r.Fragment,{children:[(0,U.tZ)(Oe.Z,{children:"—"}),(0,U.tZ)(se.Z,{date:1e3*a,...d})]})]}),(0,U.BX)(Re,{children:[(0,U.tZ)(qe,{children:(0,U.BX)("tr",{children:[(0,U.tZ)("td",{children:(0,b.t)("Status")}),(0,U.tZ)("td",{children:(0,b.t)("Environment")}),(0,U.tZ)("td",{children:(0,b.t)("Count")})]})}),(0,U.tZ)("tbody",{children:Object.entries(l).map((e=>{let[t,n]=e;return Object.entries(n).map((e=>{let[n,o]=e;return o>0&&(0,U.BX)("tr",{children:[(0,U.tZ)(_e,{status:n,children:S._c[n]}),(0,U.tZ)(Be,{children:t}),(0,U.tZ)(ze,{children:o})]},`${t}:${n}`)}))}))})]})]});return(0,U.tZ)(De.u,{title:u,skipWrapper:!0,...i,children:o})}Me.displayName="JobTickTooltip";const Re=(0,o.Z)("table",{target:"e1idf3ia5"})({name:"1sz5d51",styles:"width:100%;margin:0"}),Se=(0,o.Z)("div",{target:"e1idf3ia4"})("display:flex;margin-bottom:",(0,k.D)(.5),";justify-content:center;"),qe=(0,o.Z)("thead",{target:"e1idf3ia3"})({name:"rg2ogg",styles:"display:block;overflow:hidden;height:0;width:0"}),_e=(0,o.Z)("td",{target:"e1idf3ia2"})("color:",(e=>(0,S.Zc)(e.status,e.theme).labelColor),";text-align:left;"),ze=(0,o.Z)("td",{target:"e1idf3ia1"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),Be=(0,o.Z)("td",{target:"e1idf3ia0"})("padding:",(0,k.D)(.25)," ",(0,k.D)(.5),";");function Le(e){const{bucketedData:t,start:n,end:o,timeWindow:r,width:i,environment:s}=e,a=(o.getTime()-n.getTime())/i,l=function(e,t){const n=[];return e.reduce(((o,r,i)=>{const s=function(e,t){const[n,o]=e;return[n,o[t]?{[t]:o[t]}:{}]}(r,t),[a,l]=s,d=function(e){return 0===Object.keys(e).length}(l);if(!o)return d?o:je(s,{roundedLeft:!0});const c=Ee(l),m=Ee(o.envMapping);if(d&&o.width>=4)return o.roundedRight=!0,n.push(o),null;const u=e.slice(i,i+4).map((e=>{let[t,n]=e;return n})).map(Ee).reduce(((e,t)=>Ne.indexOf(t)>Ne.indexOf(e)?t:e),Ne[0]);var p,h;return c!==m&&u!==m&&o.width>=4?(n.push(o),je(s)):(o={...o,endTs:a,envMapping:(p=o.envMapping,h=l,[...new Set([...Object.keys(p),...Object.keys(h)])].reduce(((e,t)=>{const n={};for(const e of Ne)n[e]=(p[t]?.[e]??0)+(h[t]?.[e]??0);return e[t]=n,e}),{})),width:o.width+1},i===e.length-1&&(o.roundedRight=!0,n.push(o)),o)}),null),n}(t,s);return(0,U.tZ)(Pe,{children:l.map((e=>{const{startTs:t,width:o,envMapping:i,roundedLeft:s,roundedRight:l}=e,d=function(e,t,n){return(new Date(e).getTime()-t.getTime())/n}(1e3*t,n,a);return(0,U.tZ)(Me,{jobTick:e,timeWindow:r,skipWrapper:!0,children:(0,U.tZ)(Xe,{style:{left:d,width:o},status:Ee(i),roundedLeft:s,roundedRight:l})},t)}))})}Le.displayName="CheckInTimeline";const Pe=(0,o.Z)("div",{target:"e1wjj5r11"})("position:relative;height:calc(",(e=>e.theme.fontSizeLarge)," * ",(e=>e.theme.text.lineHeightHeading),");"),Xe=(0,o.Z)("div",{target:"e1wjj5r10"})("position:absolute;top:calc(50% + 1px);transform:translateY(-50%);background:",(e=>(0,S.Zc)(e.status,e.theme).tickColor),";opacity:0.7;width:4px;height:14px;",(e=>e.roundedLeft&&"\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n  ")," ",(e=>e.roundedRight&&"\n    border-top-right-radius: 2px;\n    border-bottom-right-radius: 2px;\n  "),";"),$e=4;function Ae(e){let{monitor:t,bucketedData:n,...o}=e;const[i,s]=(0,r.useState)(t.environments.length<=$e),l=i?t.environments:t.environments.slice(0,$e);return(0,U.BX)(We,{children:[(0,U.tZ)(Fe,{monitor:t}),(0,U.BX)(Ve,{children:[l.map((e=>{let{name:t}=e;return(0,U.tZ)(Ge,{children:t},t)})),!i&&(0,U.tZ)(a.zx,{size:"xs",onClick:()=>s(!0),children:(0,b._N)("Show [num] More",{num:t.environments.length-$e})})]}),n?(0,U.tZ)(Je,{children:l.map((e=>{let{name:t}=e;return(0,U.tZ)(Le,{...o,bucketedData:n,environment:t},t)}))}):(0,U.tZ)(Ye,{})]},t.id)}function Fe(e){let{monitor:t}=e;const n=(0,E.Z)(),o=(0,S.Jc)(t.config),r=`/organizations/${n.slug}/crons/${t.slug}/`;return(0,U.BX)(Ue,{to:r,children:[(0,U.tZ)(Ke,{children:t.name}),(0,U.tZ)(He,{children:o})]})}Ae.displayName="TimelineTableRow",Fe.displayName="MonitorDetails";const We=(0,o.Z)("div",{target:"e1dqqc3k7"})("display:contents;&:nth-child(odd)>*{background:",(e=>e.theme.backgroundSecondary),";}&:hover>*{background:",(e=>e.theme.backgroundTertiary),";}>*{transition:background 50ms ease-in-out;}"),Ue=(0,o.Z)(Ce.Link,{target:"e1dqqc3k6"})("color:",(e=>e.theme.textColor),";padding:",(0,k.D)(3),";border-right:1px solid ",(e=>e.theme.border),";border-radius:0;"),Ke=(0,o.Z)("h3",{target:"e1dqqc3k5"})("font-size:",(e=>e.theme.fontSizeLarge),";margin-bottom:",(0,k.D)(.25),";"),He=(0,o.Z)("small",{target:"e1dqqc3k4"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ve=(0,o.Z)("div",{target:"e1dqqc3k3"})("display:flex;padding:",(0,k.D)(3)," ",(0,k.D)(2),";flex-direction:column;gap:",(0,k.D)(4),";border-right:1px solid ",(e=>e.theme.innerBorder),";text-align:right;"),Ge=(0,o.Z)("div",{target:"e1dqqc3k2"})({name:"12wal98",styles:"text-overflow:ellipsis;overflow:hidden;white-space:nowrap"}),Je=(0,o.Z)("div",{target:"e1dqqc3k1"})("display:flex;padding:",(0,k.D)(3)," 0;flex-direction:column;gap:",(0,k.D)(4),";"),Ye=(0,o.Z)(Ie.Z,{target:"e1dqqc3k0"})({name:"qbt5ty",styles:"align-self:center"});function Qe(e){let{monitorList:t}=e;const{replace:n,location:o}=(0,O.Z)(),i=(0,E.Z)(),s=o.query?.timeWindow??"24h",a=(0,r.useRef)(new Date),l=de(a.current,s),{elementRef:d,width:c}=function(){const e=(0,r.useRef)(null),[t,n]=(0,r.useState)({height:0,width:0}),o=(0,r.useCallback)((()=>{n({height:e.current?.clientHeight||0,width:e.current?.clientWidth||0})}),[n]);return(0,oe.yU)({ref:e,onResize:o}),{elementRef:e,...t}}(),m=(0,r.useCallback)((e=>{n({...o,query:{...o.query,timeWindow:e}})}),[o,n]),u=Math.floor(60*le[s].elapsedMinutes/c),p=`/organizations/${i.slug}/monitors-stats/`,{data:h,isLoading:g}=(0,T.WE)([p,{query:{until:Math.floor(a.current.getTime()/1e3),since:Math.floor(l.getTime()/1e3),monitor:t.map((e=>e.slug)),resolution:`${u}s`,...o.query}}],{staleTime:0,enabled:c>0});return(0,U.BX)(et,{children:[(0,U.tZ)(tt,{children:(0,U.BX)(ne.s,{value:s,onChange:m,size:"xs","aria-label":(0,b.t)("Time Scale"),children:[(0,U.tZ)(ne.s.Item,{children:(0,b.t)("Hour")},"1h"),(0,U.tZ)(ne.s.Item,{children:(0,b.t)("Day")},"24h"),(0,U.tZ)(ne.s.Item,{children:(0,b.t)("Week")},"7d"),(0,U.tZ)(ne.s.Item,{children:(0,b.t)("Month")},"30d")]})}),(0,U.tZ)(nt,{ref:d}),(0,U.tZ)(fe,{timeWindow:s,end:a.current,width:c}),(0,U.tZ)(ye,{showCursor:!g,timeWindow:s,end:a.current,width:c}),t.map((e=>(0,U.tZ)(Ae,{monitor:e,timeWindow:s,bucketedData:h?.[e.slug],end:a.current,start:l,width:c},e.id)))]})}Qe.displayName="OverviewTimeline";const et=(0,o.Z)(te.Z,{target:"e17avkf02"})({name:"18eav3v",styles:"display:grid;grid-template-columns:350px 135px 1fr"}),tt=(0,o.Z)("div",{target:"e17avkf01"})("display:flex;gap:",(0,k.D)(1),";padding:",(0,k.D)(1.5)," ",(0,k.D)(2),";border-bottom:1px solid ",(e=>e.theme.border),";grid-column:1/3;"),nt=(0,o.Z)("div",{target:"e17avkf00"})({name:"abhjsq",styles:"position:absolute;width:100%;grid-row:1;grid-column:3"});function ot(e){const t=(0,E.Z)(),{selection:n}=(0,j.Z)();return(0,U.tZ)(a.zx,{to:{pathname:`/organizations/${t.slug}/crons/create/`,query:{project:n.projects}},priority:"primary",...e,children:e.children})}function rt(){const e=(0,E.Z)(),t=(0,O.Z)(),n=(0,S.Kg)(e,t.location),{data:o,getResponseHeader:k,isLoading:j}=(0,T.WE)(n,{staleTime:0});(0,I.Z)("monitors.page_viewed","Monitors: Page Viewed"),(0,N.Z)({empty_state:!o||0===o.length});const M=k?.("Link"),R=e.features.includes("crons-timeline-listing-page");return(0,U.tZ)(v.Z,{title:`Crons — ${e.slug}`,children:(0,U.BX)(m.T3,{children:[(0,U.BX)(m.h4,{children:[(0,U.tZ)(m.oB,{children:(0,U.BX)(m.Dx,{children:[(0,b.t)("Cron Monitors"),(0,U.tZ)(x.u,{title:(0,b.t)("Scheduled monitors that check in on recurring jobs and tell you if they’re running on schedule, failing, or succeeding."),docsUrl:"https://docs.sentry.io/product/crons/"}),(0,U.tZ)(c.Z,{type:"beta"})]})}),(0,U.tZ)(m.kP,{children:(0,U.BX)(l.ZP,{gap:1,children:[(0,U.tZ)(D.Z,{}),(0,U.tZ)(ot,{size:"sm",icon:(0,U.tZ)(w.N_,{isCircled:!0,size:"xs"}),children:(0,b.t)("Add Monitor")})]})})]}),(0,U.tZ)(m.uT,{children:(0,U.BX)(m.or,{fullWidth:!0,children:[(0,U.BX)(it,{children:[(0,U.BX)(h.Z,{children:[(0,U.tZ)(y.Z,{resetParamsOnChange:["cursor"]}),(0,U.tZ)(d.Z,{resetParamsOnChange:["cursor"]})]}),(0,U.tZ)(Z.Z,{query:(0,C.ro)(i.parse(location.search)?.query,""),placeholder:(0,b.t)("Search by name or slug"),onSearch:e=>{const n=t.location.query??{};t.push({pathname:location.pathname,query:(0,g.fK)({...n,query:e})})}})]}),j?(0,U.tZ)(u.Z,{}):o?.length?(0,U.BX)(r.Fragment,{children:[R?(0,U.tZ)(Qe,{monitorList:o}):(0,U.tZ)(Q,{monitorList:o}),M&&(0,U.tZ)(f.Z,{pageLinks:M})]}):(0,U.BX)(p.Z,{image:(0,U.tZ)("img",{src:s}),children:[(0,U.tZ)("h3",{children:(0,b.t)("Let Sentry monitor your recurring jobs")}),(0,U.tZ)("p",{children:(0,b.t)("We'll tell you if your recurring jobs are running on schedule, failing, or succeeding.")}),(0,U.BX)(st,{gap:1,children:[(0,U.tZ)(ot,{children:(0,b.t)("Set up first cron monitor")}),(0,U.tZ)(a.zx,{href:"https://docs.sentry.io/product/crons",external:!0,children:(0,b.t)("Read docs")})]})]})]})})]})})}ot.displayName="NewMonitorButton",rt.displayName="Monitors";const it=(0,o.Z)("div",{target:"e3xqmwz1"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,k.D)(1.5),";margin-bottom:",(0,k.D)(2),";"),st=(0,o.Z)(l.ZP,{target:"e3xqmwz0"})({name:"vpj881",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content))"})},"./app/views/monitors/types.tsx":(e,t,n)=>{let o,r,i,s;n.d(t,{Ix:()=>r,NI:()=>s,wo:()=>i}),function(e){e.UNKNOWN="unknown",e.CRON_JOB="cron_job"}(o||(o={})),function(e){e.CRONTAB="crontab",e.INTERVAL="interval"}(r||(r={})),function(e){e.OK="ok",e.ERROR="error",e.DISABLED="disabled",e.ACTIVE="active",e.MISSED_CHECKIN="missed_checkin",e.TIMEOUT="timeout"}(i||(i={})),function(e){e.OK="ok",e.ERROR="error",e.IN_PROGRESS="in_progress",e.MISSED="missed",e.TIMEOUT="timeout"}(s||(s={}))},"./app/views/monitors/utils.tsx":(e,t,n)=>{n.d(t,{Jc:()=>c,Kg:()=>l,Zc:()=>u,Zf:()=>d,_c:()=>m});var o=n("../node_modules/cronstrue/dist/cronstrue.js"),r=n.n(o),i=n("./app/locale.tsx"),s=n("./app/utils/dates.tsx"),a=n("./app/views/monitors/types.tsx");function l(e,t){const{query:n,project:o,environment:r,cursor:i}=t.query;return[`/organizations/${e.slug}/monitors/`,{query:{cursor:i,query:n,project:o,environment:r,includeNew:!0,per_page:20}}]}function d(e){if(!e)return null;let t;try{t=r().toString(e,{verbose:!1,use24HourTimeFormat:(0,s.gn)()})}catch(e){return null}return t}function c(e){if(e.schedule_type===a.Ix.CRONTAB)return d(e.schedule)??(0,i.t)("Unknown schedule");const[t,n]=e.schedule;return"minute"===n?(0,i.tn)("Every minute","Every %s minutes",t):"hour"===n?(0,i.tn)("Every hour","Every %s hours",t):"day"===n?(0,i.tn)("Every day","Every %s days",t):"week"===n?(0,i.tn)("Every week","Every %s weeks",t):"month"===n?(0,i.tn)("Every month","Every %s months",t):(0,i.t)("Unknown schedule")}const m={[a.NI.OK]:(0,i.t)("Okay"),[a.NI.ERROR]:(0,i.t)("Failed"),[a.NI.IN_PROGRESS]:(0,i.t)("In Progress"),[a.NI.MISSED]:(0,i.t)("Missed"),[a.NI.TIMEOUT]:(0,i.t)("Timed Out")};function u(e,t){return{[a.NI.ERROR]:{tickColor:t.red300,labelColor:t.red400},[a.NI.TIMEOUT]:{tickColor:t.red300,labelColor:t.red400},[a.NI.OK]:{tickColor:t.green300,labelColor:t.green400},[a.NI.MISSED]:{tickColor:t.yellow300,labelColor:t.yellow400},[a.NI.IN_PROGRESS]:{tickColor:t.disabled,labelColor:t.disabled}}[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_monitors_overview_tsx-images_spot_onboarding-preview_svg.e4d26983946a57069db28e351fb29b9d.js.map