"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationActivity_index_tsx"],{"./app/components/activity/item/avatar.tsx":(e,t,s)=>{s.d(t,{q:()=>d});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/avatar/userAvatar.tsx"),n=s("./app/components/placeholder.tsx"),o=s("./app/icons/index.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{className:t,type:s,user:r,size:o=38}=e;return r?(0,a.tZ)(i.Z,{user:r,size:o,className:t}):"system"===s?(0,a.tZ)(l,{className:t,size:o,children:(0,a.tZ)(u,{size:"md"})}):(0,a.tZ)(n.Z,{className:t,width:`${o}px`,height:`${o}px`,shape:"circle"})}d.displayName="ActivityAvatar";const l=(0,r.Z)("span",{target:"ef4o3hd1"})("display:flex;justify-content:center;align-items:center;width:",(e=>e.size),"px;height:",(e=>e.size),"px;background-color:",(e=>e.theme.textColor),";color:",(e=>e.theme.background),";border-radius:50%;"),u=(0,r.Z)(o.iW,{target:"ef4o3hd0"})({name:"1p2ly5v",styles:"padding-bottom:3px"})},"./app/components/events/errorLevel.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const i="13px",n=(0,r.Z)("span",{target:"efr73n80"})("padding:0;position:relative;width:",(e=>e.size||i),";height:",(e=>e.size||i),";text-indent:-9999em;display:inline-block;border-radius:50%;flex-shrink:0;background-color:",(e=>e.level?e.theme.level[e.level]:e.theme.level.error),";")},"./app/components/events/eventMessage.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/events/errorLevel.tsx"),n=s("./app/styles/space.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,r.Z)((e=>{let{className:t,level:s,levelIndicatorSize:r,message:n,annotations:a}=e;return(0,o.BX)("div",{className:t,children:[s&&(0,o.tZ)(i.Z,{size:r,level:s,children:s}),n&&(0,o.tZ)(d,{children:n}),a]})}),{target:"e1ms02k71"})("display:flex;gap:",(0,n.D)(1),";align-items:center;position:relative;line-height:1.2;overflow:hidden;"),d=(0,r.Z)("span",{target:"e1ms02k70"})((e=>e.theme.overflowEllipsis)," width:auto;max-height:38px;"),l=a},"./app/components/pullRequestLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/components/button.tsx"),n=s("./app/components/links/externalLink.tsx"),o=s("./app/icons/index.tsx"),a=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){if(!e.provider)return null;const{id:t}=e.provider;switch(t.includes(":")?t.split(":").pop():t){case"github":return(0,d.tZ)(o.Uv,{size:"xs","data-test-id":"pull-request-github"});case"gitlab":return(0,d.tZ)(o.Et,{size:"xs","data-test-id":"pull-request-gitlab"});case"bitbucket":return(0,d.tZ)(o.Ub,{size:"xs"});default:return null}}const u=(0,r.Z)(n.Z,{target:"e1fk87ze0"})("display:inline-flex;align-items:center;gap:",(0,a.D)(.5),";"),p=function(e){let{pullRequest:t,repository:s,inline:r}=e;const n=`${s.name} #${t.id}: ${t.title}`;return t.externalUrl?r?(0,d.BX)(u,{href:t.externalUrl,children:[l(s),n]}):(0,d.tZ)(i.zx,{external:!0,href:t.externalUrl,size:"sm",icon:l(s),children:n}):(0,d.tZ)("span",{children:n})}},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=function(e,t){let s=arguments.length>3?arguments[3]:void 0;const r=`${e} - ${t}`,i=s?`${r} - ${s}`:r;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?i:`${i} - Sentry`}},"./app/views/deprecatedAsyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var r=s("./app/components/deprecatedAsyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends r.Z{getTitle(){return""}render(){return(0,n.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="DeprecatedAsyncView"},"./app/views/organizationActivity/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>se});var r=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=s("./app/components/emptyStateWarning.tsx"),n=s("./app/components/errorBoundary.tsx"),o=s("./app/components/layouts/thirds.tsx"),a=s("./app/components/loadingIndicator.tsx"),d=s("./app/components/pagination.tsx"),l=s("./app/components/panels/panel.tsx"),u=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),c=s("./app/utils/routeTitle.tsx"),m=s("./app/utils/withOrganization.tsx"),h=s("./app/views/deprecatedAsyncView.tsx"),g=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),v=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),Z=s("../node_modules/react/index.js"),x=s("./app/components/activity/item/avatar.tsx"),y=s("./app/components/commitLink.tsx"),f=s("./app/components/duration.tsx"),b=s("../node_modules/classnames/index.js"),_=s.n(b),k=s("./app/components/count.tsx"),w=s("./app/components/eventOrGroupTitle.tsx"),N=s("./app/components/events/eventAnnotation.tsx"),z=s("./app/components/events/eventMessage.tsx"),j=s("./app/components/hovercard.tsx"),B=s("./app/components/links/link.tsx"),$=s("./app/components/timeSince.tsx"),S=s("./app/utils/events.tsx"),C=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function D(e){let{children:t,orgId:s,issue:r,to:i,card:n=!0}=e;if(!n)return(0,C.tZ)(B.Z,{to:i,children:t});const o=(0,S.FC)(r),a=_()({isBookmarked:r.isBookmarked,hasSeen:r.hasSeen,isResolved:"resolved"===r.status}),d=`/organizations/${s}/issues/`,l=(0,C.BX)("div",{className:a,children:[(0,C.BX)(q,{children:[(0,C.tZ)(L,{children:(0,C.tZ)(R,{data:r})}),(0,C.tZ)(X,{level:r.level,levelIndicatorSize:"9px",message:o,annotations:(0,C.BX)(Z.Fragment,{children:[r.logger&&(0,C.tZ)(N.Z,{children:(0,C.tZ)(B.Z,{to:{pathname:d,query:{query:`logger:${r.logger}`,referrer:"issue-link"}},children:r.logger})}),r.annotations.map(((e,t)=>(0,C.tZ)(N.Z,{dangerouslySetInnerHTML:{__html:e}},t)))]})})]}),(0,C.BX)(A,{children:[(0,C.BX)("div",{children:[(0,C.tZ)(T,{children:(0,u.t)("First Seen")}),(0,C.tZ)(U,{date:r.firstSeen})]}),(0,C.BX)("div",{children:[(0,C.tZ)(T,{children:(0,u.t)("Last Seen")}),(0,C.tZ)(U,{date:r.lastSeen})]}),(0,C.BX)("div",{children:[(0,C.tZ)(T,{children:(0,u.t)("Occurrences")}),(0,C.tZ)(k.Z,{value:r.count})]}),(0,C.BX)("div",{children:[(0,C.tZ)(T,{children:(0,u.t)("Users Affected")}),(0,C.tZ)(k.Z,{value:r.userCount})]})]})]});return(0,C.tZ)(j.uI,{body:l,header:r.shortId,children:(0,C.tZ)(B.Z,{to:i,children:t})})}D.displayName="IssueLink";const I=D,L=(0,v.Z)("div",{target:"eg3pe5i6"})((e=>e.theme.overflowEllipsis),";margin:0 0 ",(0,p.D)(.5),";"),R=(0,v.Z)(w.Z,{target:"eg3pe5i5"})("font-weight:600;font-size:",(e=>e.theme.fontSizeMedium),";em{font-style:normal;font-weight:400;font-size:",(e=>e.theme.fontSizeSmall),";}"),q=(0,v.Z)("section",{target:"eg3pe5i4"})("margin-bottom:",(0,p.D)(2),";"),A=(0,v.Z)("div",{target:"eg3pe5i3"})("display:grid;grid-template-columns:1fr 1fr;gap:",(0,p.D)(2),";"),X=(0,v.Z)(z.Z,{target:"eg3pe5i2"})({name:"rnnx2x",styles:"font-size:12px"}),T=(0,v.Z)("h5",{target:"eg3pe5i1"})("color:",(e=>e.theme.gray300),";font-size:11px;margin-bottom:",(0,p.D)(.5),";text-transform:uppercase;"),U=(0,v.Z)($.Z,{target:"eg3pe5i0"})({name:"opde7s",styles:"color:inherit"});var E=s("./app/components/links/externalLink.tsx"),M=s("./app/components/pullRequestLink.tsx"),P=s("./app/components/version.tsx"),V=s("./app/components/versionHoverCard.tsx"),W=s("./app/stores/memberListStore.tsx"),H=s("./app/stores/teamStore.tsx"),O=s("./app/utils/marked.tsx");class F extends Z.Component{constructor(){super(...arguments),(0,g.Z)(this,"state",{clipped:this.props.defaultClipped}),(0,g.Z)(this,"activityBubbleRef",(0,Z.createRef)()),(0,g.Z)(this,"formatProjectActivity",((e,t)=>{const s=t.data,{organization:r}=this.props,i=r.slug,n=t.issue,o=`/organizations/${i}/issues/`,a=n?(0,C.tZ)(I,{orgId:i,issue:n,to:`${o}${n.id}/?referrer=activity-feed-issue-link`,card:!0,children:n.shortId}):null,d=this.renderVersionLink(s.version,t);switch(t.type){case"note":return(0,u._N)("[author] commented on [issue]",{author:e,issue:(0,C.tZ)(I,{card:!0,orgId:i,issue:n,to:`${o}${n.id}/activity/?referrer=activity-comment#event_${t.id}`,children:n.shortId})});case"set_resolved":return(0,u._N)("[author] marked [issue] as resolved",{author:e,issue:a});case"set_resolved_by_age":return(0,u._N)("[author] marked [issue] as resolved due to age",{author:e,issue:a});case"set_resolved_in_release":const{current_release_version:r,version:l}=t.data;return r?(0,u._N)("[author] marked [issue] as resolved in releases greater than [version]",{author:e,version:this.renderVersionLink(r,t),issue:a}):l?(0,u._N)("[author] marked [issue] as resolved in [version]",{author:e,version:d,issue:a}):(0,u._N)("[author] marked [issue] as resolved in the upcoming release",{author:e,issue:a});case"set_resolved_in_commit":return s.commit?(0,u._N)("[author] marked [issue] as resolved in [commit]",{author:e,commit:(0,C.tZ)(y.Z,{inline:!0,commitId:s.commit.id,repository:s.commit.repository}),issue:a}):(0,u._N)("[author] marked [issue] as resolved in a commit",{author:e,issue:a});case"set_resolved_in_pull_request":return(0,u._N)("[author] marked [issue] as resolved in [pullRequest]",{author:e,pullRequest:s.pullRequest?(0,C.tZ)(M.Z,{inline:!0,pullRequest:s.pullRequest,repository:s.pullRequest.repository}):(0,u.t)("PR not available"),issue:a});case"set_unresolved":return(0,u._N)("[author] marked [issue] as unresolved",{author:e,issue:a});case"set_ignored":return s.ignoreDuration?(0,u._N)("[author] ignored [issue] for [duration]",{author:e,duration:(0,C.tZ)(f.Z,{seconds:60*s.ignoreDuration}),issue:a}):s.ignoreCount&&s.ignoreWindow?(0,u._N)("[author] ignored [issue] until it happens [count] time(s) in [duration]",{author:e,count:s.ignoreCount,duration:(0,C.tZ)(f.Z,{seconds:60*s.ignoreWindow}),issue:a}):s.ignoreCount?(0,u._N)("[author] ignored [issue] until it happens [count] time(s)",{author:e,count:s.ignoreCount,issue:a}):s.ignoreUserCount&&s.ignoreUserWindow?(0,u._N)("[author] ignored [issue] until it affects [count] user(s) in [duration]",{author:e,count:s.ignoreUserCount,duration:(0,C.tZ)(f.Z,{seconds:60*s.ignoreUserWindow}),issue:a}):s.ignoreUserCount?(0,u._N)("[author] ignored [issue] until it affects [count] user(s)",{author:e,count:s.ignoreUserCount,issue:a}):(0,u._N)("[author] ignored [issue]",{author:e,issue:a});case"set_public":return(0,u._N)("[author] made [issue] public",{author:e,issue:a});case"set_private":return(0,u._N)("[author] made [issue] private",{author:e,issue:a});case"set_regression":return s.version?(0,u._N)("[author] marked [issue] as a regression in [version]",{author:e,version:d,issue:a}):(0,u._N)("[author] marked [issue] as a regression",{author:e,issue:a});case"create_issue":return(0,u._N)("[author] linked [issue] on [provider]",{author:e,provider:s.provider,issue:a});case"unmerge_destination":return(0,u.tn)("%2$s migrated %1$s fingerprint from %3$s to %4$s","%2$s migrated %1$s fingerprints from %3$s to %4$s",s.fingerprints.length,e,s.source?(0,C.tZ)("a",{href:`${o}${s.source.id}`,children:s.source.shortId}):(0,u.t)("a group"),a);case"first_seen":return(0,u._N)("[author] saw [link:issue]",{author:e,issue:a});case"assigned":let p;if("team"===s.assigneeType){const t=H.Z.getById(s.assignee);return p=t?t.slug:"<unknown-team>",(0,u._N)("[author] assigned [issue] to #[assignee]",{author:e,issue:a,assignee:p})}return t.user&&s.assignee===t.user.id?(0,u._N)("[author] assigned [issue] to themselves",{author:e,issue:a}):(p=W.Z.getById(s.assignee),p&&p.email?(0,u._N)("[author] assigned [issue] to [assignee]",{author:e,assignee:(0,C.tZ)("span",{title:p.email,children:p.name}),issue:a}):s.assigneeEmail?(0,u._N)("[author] assigned [issue] to [assignee]",{author:e,assignee:s.assigneeEmail,issue:a}):(0,u._N)("[author] assigned [issue] to an [help:unknown user]",{author:e,help:(0,C.tZ)("span",{title:s.assignee}),issue:a}));case"unassigned":return(0,u._N)("[author] unassigned [issue]",{author:e,issue:a});case"merge":return(0,u._N)("[author] merged [count] [link:issues]",{author:e,count:s.issues.length+1,link:(0,C.tZ)(B.Z,{to:`${o}${n.id}/?referrer=activity-feed-merge`})});case"release":return(0,u._N)("[author] released version [version]",{author:e,version:d});case"deploy":return(0,u._N)("[author] deployed version [version] to [environment].",{author:e,version:d,environment:s.environment||"Default Environment"});case"mark_reviewed":return(0,u._N)("[author] marked [issue] as reviewed",{author:e,issue:a});default:return""}}))}componentDidMount(){this.activityBubbleRef.current&&this.activityBubbleRef.current.offsetHeight>this.props.clipHeight&&this.setState({clipped:!0})}renderVersionLink(e,t){const{organization:s}=this.props,{project:r}=t;return e?(0,C.tZ)(V.ZP,{organization:s,projectSlug:r.slug,releaseVersion:e,children:(0,C.tZ)(P.Z,{version:e,projectId:r.id})}):null}render(){const{className:e,item:t}=this.props,s=(0,C.tZ)(x.q,{type:t.user?"user":"system",user:t.user??void 0,size:36}),r={name:t.user?t.user.name:"Sentry",avatar:s},i=["note","create_issue"].includes(t.type),n={..."note"===t.type?{dangerouslySetInnerHTML:{__html:(0,O.Z)(t.data.text)}}:{},..."create_issue"===t.type?{children:(0,C.tZ)(E.Z,{href:t.data.location,children:t.data.title})}:{}};return(0,C.BX)("div",{"data-test-id":"activity-feed-item",className:e,children:[r.avatar,(0,C.BX)("div",{children:[this.formatProjectActivity((0,C.tZ)("span",{children:(0,C.tZ)(J,{children:r.name})}),t),i&&(0,C.tZ)(Y,{ref:this.activityBubbleRef,clipped:this.state.clipped,...n}),(0,C.BX)(K,{children:[(0,C.tZ)(Q,{children:t.project.slug}),(0,C.tZ)(ee,{date:t.dateCreated})]})]})]})}}F.displayName="ActivityItem",(0,g.Z)(F,"defaultProps",{defaultClipped:!1,clipHeight:68});const G=(0,v.Z)(F,{target:"e1o2monb5"})("display:grid;gap:",(0,p.D)(1),";grid-template-columns:max-content auto;position:relative;margin:0;padding:",(0,p.D)(1),";border-bottom:1px solid ",(e=>e.theme.innerBorder),";line-height:1.4;font-size:",(e=>e.theme.fontSizeMedium),";"),J=(0,v.Z)("span",{target:"e1o2monb4"})({name:"16ceglb",styles:"font-weight:600"}),K=(0,v.Z)("div",{target:"e1o2monb3"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeRelativeSmall),";"),Q=(0,v.Z)("span",{target:"e1o2monb2"})({name:"1efi8gv",styles:"font-weight:bold"}),Y=(0,v.Z)("div",{target:"e1o2monb1"})("background:",(e=>e.theme.backgroundSecondary),";margin:",(0,p.D)(.5)," 0;padding:",(0,p.D)(1)," ",(0,p.D)(2),";border:1px solid ",(e=>e.theme.border),";border-radius:3px;box-shadow:0 1px 1px rgba(0, 0, 0, 0.04);position:relative;overflow:hidden;a{max-width:100%;overflow-x:hidden;text-overflow:ellipsis;}p{&:last-child{margin-bottom:0;}}",(e=>e.clipped&&"\n    max-height: 68px;\n\n    &:after {\n      position: absolute;\n      content: '';\n      display: block;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      height: 36px;\n      background-image: linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 1));\n      border-bottom: 6px solid #fff;\n      border-radius: 0 0 3px 3px;\n      pointer-events: none;\n    }\n  "),";"),ee=(0,v.Z)($.Z,{target:"e1o2monb0"})("color:",(e=>e.theme.gray300),";padding-left:",(0,p.D)(1),";");class te extends h.Z{getTitle(){const{organization:e}=this.props;return(0,c.Z)((0,u.t)("Activity"),e.slug,!1)}getEndpoints(){const{organization:e}=this.props;return[["activity",`/organizations/${e.slug}/activity/`]]}renderLoading(){return this.renderBody()}renderEmpty(){return(0,C.tZ)(i.Z,{children:(0,C.tZ)("p",{children:(0,u.t)("Nothing to show here, move along.")})})}renderError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{errors:s}=this.state;return Object.values(s).find((e=>e&&404===e.status))?this.renderBody():super.renderError(e,t)}renderBody(){const{loading:e,activity:t,activityPageLinks:s}=this.state;return(0,C.BX)(o.T3,{children:[(0,C.tZ)(o.h4,{children:(0,C.tZ)(o.oB,{children:(0,C.tZ)(o.Dx,{children:(0,u.t)("Activity")})})}),(0,C.tZ)(o.uT,{children:(0,C.BX)(o.or,{fullWidth:!0,children:[(0,C.BX)(l.Z,{children:[e&&(0,C.tZ)(a.Z,{}),!e&&!t?.length&&this.renderEmpty(),!e&&t?.length>0&&(0,C.tZ)("div",{"data-test-id":"activity-feed-list",children:t.map((e=>(0,C.tZ)(n.Z,{mini:!0,css:(0,r.iv)({marginBottom:(0,p.D)(1),borderRadius:0},"",""),children:(0,C.tZ)(G,{organization:this.props.organization,item:e})},e.id)))})]}),s&&(0,C.tZ)(d.Z,{pageLinks:s,...this.props})]})})]})}}const se=(0,m.Z)(te)}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationActivity_index_tsx.a338954bee78baa0404ea75c04154c9b.js.map