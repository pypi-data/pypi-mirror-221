"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_releases_detail_commitsAndFiles_filesChanged_tsx"],{"./app/views/releases/detail/commitsAndFiles/filesChanged.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),a=s("./app/components/avatar/avatarList.tsx"),n=s("./app/icons/index.tsx"),o=s("./app/utils/fileExtension.tsx"),l=s("./app/utils/theme.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{fileName:t,size:r="sm",className:i}=e;const a=(0,o.m)(t),d=a?(0,o._)(a):null,c=l.ZP.iconSizes[r]??r;return d?(0,p.tZ)("img",{src:s("../node_modules/platformicons/svg sync recursive ^\\.\\/.*\\.svg$")(`./${d}.svg`),width:c,height:c,className:i}):(0,p.tZ)(n.Xh,{size:c,className:i})}d.displayName="FileIcon";const c=d;var m=s("./app/styles/space.tsx");const h=(0,r.Z)("li",{target:"ecti9ye1"})("position:relative;display:block;min-height:36px;border:1px solid ",(e=>e.theme.border),";padding:",(0,m.D)(.5)," ",(0,m.D)(1.5),";margin-bottom:-1px;",(e=>e.centered?"text-align: center;":"")," &:first-child{border-top-left-radius:",(e=>e.theme.borderRadius),";border-top-right-radius:",(e=>e.theme.borderRadius),";}&:last-child{border-bottom-left-radius:",(e=>e.theme.borderRadius),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";}");var u=s("./app/components/textOverflow.tsx");function g(e){let{filename:t,authors:s,className:r}=e;return(0,p.BX)(f,{className:r,children:[(0,p.BX)(b,{children:[(0,p.tZ)(x,{fileName:t}),(0,p.tZ)(u.Z,{children:t})]}),(0,p.tZ)("div",{children:(0,p.tZ)(a.Z,{users:s,avatarSize:25,typeMembers:"authors"})})]})}g.displayName="FileChange";const f=(0,r.Z)(h,{target:"e9p478q2"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),b=(0,r.Z)("div",{target:"e9p478q1"})("font-size:",(e=>e.theme.fontSizeMedium),";display:grid;gap:",(0,m.D)(1),";margin-right:",(0,m.D)(3),";align-items:center;grid-template-columns:max-content 1fr;"),x=(0,r.Z)(c,{target:"e9p478q0"})("color:",(e=>e.theme.gray200),";border-radius:3px;"),Z=g;var v=s("./app/components/layouts/thirds.tsx"),y=s("./app/components/loadingIndicator.tsx"),R=s("./app/components/pagination.tsx"),w=s("./app/components/panels/panel.tsx"),C=s("./app/components/panels/panelBody.tsx"),_=s("./app/components/panels/panelHeader.tsx"),j=s("./app/locale.tsx"),k=s("./app/utils/formatters.tsx"),B=s("./app/utils/routeTitle.tsx"),F=s("./app/views/deprecatedAsyncView.tsx"),N=s("./app/views/releases/detail/utils.tsx"),S=s("./app/views/releases/detail/commitsAndFiles/emptyState.tsx"),z=s("./app/views/releases/detail/commitsAndFiles/repositorySwitcher.tsx"),D=s("./app/views/releases/detail/commitsAndFiles/withReleaseRepos.tsx");class L extends F.Z{getTitle(){const{params:e,orgSlug:t,projectSlug:s}=this.props;return(0,B.Z)((0,j.t)("Files Changed - Release %s",(0,k.ko)(e.release)),t,!1,s)}getDefaultState(){return{...super.getDefaultState(),fileList:[]}}componentDidUpdate(e,t){e.activeReleaseRepo?.name===this.props.activeReleaseRepo?.name?super.componentDidUpdate(e,t):this.remountComponent()}getEndpoints(){const{activeReleaseRepo:e,location:t,release:s,orgSlug:r}=this.props,i=(0,N.pm)({location:t,activeRepository:e});return[["fileList",`/organizations/${r}/releases/${encodeURIComponent(s)}/commitfiles/`,{query:i}]]}renderLoading(){return this.renderBody()}renderContent(){const{fileList:e,fileListPageLinks:t,loading:s}=this.state,{activeReleaseRepo:r}=this.props;if(s)return(0,p.tZ)(y.Z,{});if(!e.length)return(0,p.tZ)(S.Z,{children:r?(0,j.t)("There are no changed files associated with this release in the %s repository.",r.name):(0,j.t)("There are no changed files associated with this release.")});const a=(0,N.bB)(e),n=(0,N.AN)(Object.keys(a));return(0,p.BX)(i.Fragment,{children:[n.map((e=>{const t=a[e],s=Object.keys(t),r=s.length;return(0,p.BX)(w.Z,{children:[(0,p.BX)(_.Z,{children:[(0,p.tZ)("span",{children:e}),(0,p.tZ)("span",{children:(0,j.tn)("%s file changed","%s files changed",r)})]}),(0,p.tZ)(C.Z,{children:s.map((e=>{const{authors:s}=t[e];return(0,p.tZ)(T,{filename:e,authors:Object.values(s)},e)}))})]},e)})),(0,p.tZ)(R.Z,{pageLinks:t})]})}renderBody(){const{activeReleaseRepo:e,releaseRepos:t,router:s,location:r}=this.props;return(0,p.BX)(i.Fragment,{children:[t.length>1&&(0,p.tZ)(z.Z,{repositories:t,activeRepository:e,location:r,router:s}),this.renderContent()]})}renderComponent(){return(0,p.tZ)(v.uT,{children:(0,p.tZ)(v.or,{fullWidth:!0,children:super.renderComponent()})})}}const A=(0,D.Z)(L),T=(0,r.Z)(Z,{target:"ew1uctc0"})({name:"d1zd91",styles:"border-radius:0;border-left:none;border-right:none;border-top:none;:last-child{border:none;border-radius:0;}"})}}]);
//# sourceMappingURL=../sourcemaps/app_views_releases_detail_commitsAndFiles_filesChanged_tsx.f14aff6406787bfd0f40f7ee0a251c68.js.map