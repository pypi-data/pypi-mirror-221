"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_groupReplays_index_tsx"],{"./app/utils/useCleanQueryParamsOnRouteLeave.tsx":(e,s,t)=>{t.d(s,{Z:()=>n});var a=t("../node_modules/react/index.js"),r=t("../node_modules/react-router/es/index.js"),o=t("./app/utils/useLocation.tsx");const n=function(e){let{fieldsToClean:s}=e;const t=(0,o.T)(),n=(0,a.useCallback)((e=>{!function(e){let{fieldsToClean:s,newLocation:t,oldPathname:a}=e;const o=s.some((e=>void 0!==t.query[e]));if(t.pathname===a||!o)return;const n=s.reduce(((e,s)=>(e[s]=void 0,e)),{...t.query});r.browserHistory.replace({pathname:t.pathname,query:n})}({fieldsToClean:s,newLocation:e,oldPathname:t.pathname})}),[t.pathname,s]);(0,a.useEffect)((()=>r.browserHistory.listen(n)),[n])}},"./app/views/issueDetails/groupReplays/index.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t("./app/components/acl/feature.tsx"),r=t("./app/components/alert.tsx"),o=t("./app/components/layouts/thirds.tsx"),n=t("./app/locale.tsx"),i=t("./app/utils/useOrganization.tsx"),l=t("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),p=t("../node_modules/react/index.js"),u=t("./app/utils/analytics.tsx"),c=t("./app/utils/replays/hooks/useReplayList.tsx"),d=t("./app/utils/useLocation.tsx"),y=t("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),m=t("./app/constants/pageFilters.tsx"),f=t("./app/utils/discover/eventView.tsx"),g=t("./app/utils/queryString.tsx"),h=t("./app/utils/replays/fetchReplayList.tsx"),x=t("./app/utils/useApi.tsx"),v=t("./app/utils/useCleanQueryParamsOnRouteLeave.tsx"),b=t("./app/views/replays/types.tsx");var w=t("./app/views/replays/replayTable/index.tsx"),Z=t("./app/views/replays/replayTable/types.tsx"),R=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const T=[Z.f.REPLAY,Z.f.OS,Z.f.BROWSER,Z.f.DURATION,Z.f.COUNT_ERRORS,Z.f.ACTIVITY];function C(e){let{group:s}=e;const t=(0,i.Z)(),a=(0,d.T)(),{eventView:r,fetchError:o,pageLinks:n}=function(e){let{group:s,location:t,organization:a}=e;const r=(0,x.Z)(),[o,n]=(0,p.useState)(),[i,l]=(0,p.useState)(),u=(0,p.useCallback)((async()=>{try{const e=await r.requestPromise(`/organizations/${a.slug}/replay-count/`,{query:{returnIds:!0,query:`issue.id:[${s.id}]`,statsPeriod:"14d",project:m.mP}});n(e[s.id]||[])}catch(e){y.Tb(e),l(e)}}),[r,a.slug,s.id]),c=(0,p.useMemo)((()=>o?f.ZP.fromSavedQuery({id:"",name:"",version:2,fields:(0,b.t)(a),query:`id:[${String(o)}]`,range:"14d",projects:[],orderby:(0,g.ro)(t.query.sort,h.y)}):null),[t.query.sort,o,a]);return(0,v.Z)({fieldsToClean:["cursor"]}),(0,p.useEffect)((()=>{u()}),[u]),{eventView:c,fetchError:i,pageLinks:null}}({group:s,location:a,organization:t});return(0,p.useEffect)((()=>{(0,u.Gi)("replay.render-issues-group-list",{project_id:s.project.id,platform:s.project.platform,organization:t})}),[]),r?(0,R.tZ)(_,{eventView:r,organization:t,pageLinks:n,visibleColumns:T}):(0,R.tZ)(j,{withPadding:!0,children:(0,R.tZ)(w.Z,{fetchError:o,isFetching:!0,replays:[],sort:void 0,visibleColumns:T})})}function _(e){let{eventView:s,organization:t,visibleColumns:a}=e;const r=(0,p.useMemo)((()=>({query:{}})),[]),{replays:o,isFetching:n,fetchError:i}=(0,c.Z)({eventView:s,location:r,organization:t,queryReferrer:"issueReplays"});return(0,R.tZ)(j,{withPadding:!0,children:(0,R.tZ)(w.Z,{fetchError:i,isFetching:n,replays:o,sort:void 0,visibleColumns:a})})}C.displayName="GroupReplays",_.displayName="GroupReplaysTable";const j=(0,l.Z)(o.T3,{target:"e1ekyz00"})("box-shadow:0px 0px 1px ",(e=>e.theme.gray200),";background-color:",(e=>e.theme.background),";"),k=C;function q(){return(0,R.tZ)(o.T3,{withPadding:!0,children:(0,R.tZ)(r.bZ,{type:"warning",children:(0,n.t)("You don't have access to this feature")})})}function L(e){const s=(0,i.Z)();return(0,R.tZ)(a.Z,{features:["session-replay"],organization:s,renderDisabled:q,children:(0,R.tZ)(k,{...e})})}q.displayName="renderNoAccess",L.displayName="GroupReplaysContainer";const P=L}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_groupReplays_index_tsx.34cfb88bd8f4199ab74e95e434648cdb.js.map