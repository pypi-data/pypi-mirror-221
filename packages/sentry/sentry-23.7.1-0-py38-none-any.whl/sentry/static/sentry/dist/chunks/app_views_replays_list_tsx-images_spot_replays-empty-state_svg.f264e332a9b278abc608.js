"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_replays_list_tsx-images_spot_replays-empty-state_svg"],{"./app/components/onboardingPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/panels/panel.tsx"),n=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{image:t,noCenter:s,children:r,...n}=e;return(0,i.tZ)(a.Z,{...n,children:(0,i.BX)(p,{children:[t?(0,i.tZ)(c,{children:t}):null,(0,i.tZ)(l,{centered:!t&&!s,children:r})]})})}o.displayName="OnboardingPanel";const p=(0,r.Z)("div",{target:"euclof22"})("padding:",(0,n.D)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),l=(0,r.Z)("div",{target:"euclof21"})("min-width:0;z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),c=(0,r.Z)(l,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;min-width:150px;margin:",(0,n.D)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,n.D)(3),";max-width:auto;}"),d=o},"./app/utils/replays/hooks/useReplayOnboarding.tsx":(e,t,s)=>{s.d(t,{Vl:()=>u,hZ:()=>m,kE:()=>h});var r=s("../node_modules/react/index.js"),a=s("./app/components/sidebar/types.tsx"),n=s("./app/constants/pageFilters.tsx"),i=s("./app/stores/sidebarPanelStore.tsx"),o=s("./app/utils/analytics.tsx"),p=s("./app/utils/useOrganization.tsx"),l=s("./app/utils/usePageFilters.tsx"),c=s("./app/utils/useProjects.tsx"),d=s("./app/utils/useRouteContext.tsx");function u(){const{projects:e,fetching:t}=(0,c.Z)();return{hasOrgSentReplays:(0,r.useMemo)((()=>e.some((e=>e.hasReplays))),[e]),fetching:t}}function m(){const{projects:e,fetching:t}=(0,c.Z)(),{selection:s}=(0,l.Z)(),a=(0,r.useMemo)((()=>{const t=function(e,t){if(e[0]===n.mP||0===e.length)return t;const s=t.reduce(((e,t)=>(e[t.id]=t,e)),{});return e.map((e=>s[e])).filter(Boolean)}(s.projects,e);return t.some((e=>e.hasReplays))}),[s.projects,e]);return{hasSentOneReplay:a,fetching:t}}function h(){const{location:e}=(0,d.s)(),t=(0,p.Z)();return(0,r.useEffect)((()=>{"#replay-sidequest"===e.hash&&(i.Z.activatePanel(a.z.REPLAYS_ONBOARDING),(0,o.Gi)("replay.list-view-setup-sidebar",{organization:t}))}),[e.hash,t]),{activateSidebar:(0,r.useCallback)((e=>{e.preventDefault(),window.location.hash="replay-sidequest",i.Z.activatePanel(a.z.REPLAYS_ONBOARDING)}),[])}}},"./app/utils/replays/hooks/useReplayPageview.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var r=s("../node_modules/react/index.js"),a=s("./app/stores/configStore.tsx"),n=s("./app/stores/useLegacyStore.tsx"),i=s("./app/utils/analytics.tsx"),o=s("./app/utils/useOrganization.tsx");const p=function(e){const t=(0,n.X)(a.Z),s=(0,o.Z)(),p=(0,r.useRef)(Date.now());(0,r.useEffect)((()=>{const r=p.current;return()=>{const a=Date.now();(0,i.Gi)(e,{organization:s,seconds:(a-r)/1e3,user_email:t.user.email})}}),[s,e,t.user.email])}},"./app/utils/useProjectSdkNeedsUpdate.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("../node_modules/react/index.js"),a=s("./app/utils/useApi.tsx"),n=s("./app/utils/versions.ts");const i=function(e){let{minVersion:t,organization:s,projectId:i}=e;const o=function(e){const t=(0,a.Z)(),[s,n]=(0,r.useState)({type:"initial"});return(0,r.useEffect)((()=>{let s=!1;return function(e,t){return e.requestPromise(`/organizations/${t}/sdk-updates/`)}(t,e.organization.slug).then((e=>{s||n({type:"resolved",data:e})})).catch((e=>{s||n({type:"errored",error:e})})),()=>{s=!0}}),[t,e.organization.slug]),(0,r.useMemo)((()=>e.projectId?"resolved"===s.type?{...s,type:"resolved",data:"resolved"===s.type&&s.data?s.data.find((t=>t.projectId===e.projectId))??null:null}:s:{...s,type:"resolved",data:"resolved"===s.type&&s.data?s.data:null}),[s,e.projectId])}({organization:s,projectId:null});if("resolved"!==o.type)return{isFetching:!0,needsUpdate:void 0};if(!o.data?.length)return{isFetching:!0,needsUpdate:void 0};const p=o.data.filter((e=>i.includes(e.projectId)));return{isFetching:!1,needsUpdate:p.length>0&&p.every((e=>-1===(0,n.W)(e.sdkVersion||"",t)))}}},"./app/utils/useTags.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("./app/stores/tagStore.tsx"),a=s("./app/stores/useLegacyStore.tsx");const n=function(){return(0,a.X)(r.Z)}},"./app/utils/versions.ts":(e,t,s)=>{function r(e,t){return e.startsWith(t+"-")?-1:t.startsWith(e+"-")?1:e.localeCompare(t,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}s.d(t,{W:()=>r})},"./app/views/replays/list.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Re});var r=s("./app/components/layouts/thirds.tsx"),a=s("./app/components/organizations/pageFilters/container.tsx"),n=s("./app/components/pageHeadingQuestionTooltip.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),o=s("./app/locale.tsx"),p=s("./app/utils/replays/hooks/useReplayPageview.tsx"),l=s("./app/utils/useOrganization.tsx"),c=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),d=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react-router/es/index.js")),u=s("./app/components/datePageFilter.tsx"),m=s("./app/components/environmentPageFilter.tsx"),h=s("./app/components/organizations/pageFilterBar.tsx"),g=s("./app/components/projectPageFilter.tsx"),y=s("./app/styles/space.tsx"),f=s("./app/utils/queryString.tsx"),x=s("./app/utils/useLocation.tsx"),Z=s("./app/utils/usePageFilters.tsx"),v=(s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react/index.js")),b=s("./app/actionCreators/tags.tsx"),w=s("./app/components/featureBadge.tsx"),j=s("./app/components/smartSearchBar/index.tsx"),S=s("./app/constants/index.tsx"),k=s("./app/types/index.tsx"),_=s("./app/utils/analytics.tsx"),R=s("./app/utils/discover/fields.tsx"),C=s("./app/utils/fields/index.ts"),P=s("./app/utils/tokenizeSearch.tsx"),O=s("./app/utils/useApi.tsx"),z=s("./app/utils/useTags.tsx"),T=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const q=new RegExp(`^${S.c$}|\\${S.ir}`,"g");function N(e){return e.replace(q,"")}const E=e=>(0,C.pw)(e,"replay");function A(e){return Object.fromEntries(e.map((e=>[e,{key:e,name:e,...E(e)}])))}const D=A(C.re),F=A(C.$P);function L(e){const{organization:t,pageFilters:s}=e,r=(0,O.Z)(),a=s.projects?.map(String),n=(0,z.Z)();(0,v.useEffect)((()=>{(0,b.QK)(r,t.slug,s)}),[r,t.slug,s]);const i=(0,v.useCallback)(((e,s,n)=>(0,R.h1)(e.key)?Promise.resolve([]):(0,b.Fo)({api:r,orgSlug:t.slug,tagKey:e.key,search:s,projectIds:a,includeReplays:!0}).then((e=>e.map((e=>{let{value:t}=e;return t}))),(()=>{throw new Error("Unable to fetch event field values")}))),[r,t.slug,a]);return(0,T.tZ)(j.Z,{...e,onGetTagValues:i,supportedTags:(p=n,{...Object.fromEntries(Object.keys(p).map((e=>[e,{...p[e],kind:E(e)?.kind??C.IV.TAG}]))),...F,...D}),placeholder:(0,o.t)("Search for users, duration, clicked elements, count_errors, and more"),prepareQuery:N,maxQueryLength:S.dI,searchSource:"replay_index",savedSearchType:k.L4.REPLAY,maxMenuHeight:500,hasRecentSearches:!0,fieldDefinitionGetter:E,mergeSearchGroupWith:{click:{documentation:(0,o.t)("Search by click selector. (Requires SDK version >= 7.44.0)"),titleBadge:(0,T.tZ)(w.Z,{type:"new",children:(0,o.t)("New")})}},onSearch:s=>{e.onSearch?.(s);const r=new P.MY(s).tokens.map((e=>{let{key:t}=e;return t})).filter(Boolean);r.length>0&&(0,_.Gi)("replay.search",{search_keys:r.join(","),organization:t})}});var p}L.displayName="ReplaySearchBar";const I=L;function B(){const{selection:e}=(0,Z.Z)(),{pathname:t,query:s}=(0,x.T)(),r=(0,l.Z)();return(0,T.BX)(U,{children:[(0,T.BX)(h.Z,{condensed:!0,children:[(0,T.tZ)(g.Z,{resetParamsOnChange:["cursor"]}),(0,T.tZ)(m.Z,{resetParamsOnChange:["cursor"]}),(0,T.tZ)(u.Z,{alignDropdown:"left",resetParamsOnChange:["cursor"]})]}),(0,T.tZ)(I,{organization:r,pageFilters:e,defaultQuery:"",query:(0,f.ro)(s.query,""),onSearch:e=>{d.browserHistory.push({pathname:t,query:{...s,cursor:void 0,query:e.trim()}})}})]})}B.displayName="ReplaysFilters";const U=(0,c.Z)("div",{target:"ecjwo3b0"})("display:inline-grid;grid-template-columns:minmax(0, max-content) minmax(20rem, 1fr);gap:",(0,y.D)(2),";width:100%;margin-bottom:",(0,y.D)(2),";@media (max-width: ",(e=>e.theme.breakpoints.large),"){grid-template-columns:minmax(0, 1fr);}"),V=B;var X=s("./app/utils/discover/eventView.tsx"),M=s("./app/utils/replays/hooks/useReplayList.tsx"),G=s("./app/utils/replays/hooks/useReplayOnboarding.tsx"),W=s("./app/views/replays/replayTable/index.tsx"),Y=s("./app/views/replays/replayTable/types.tsx");function K(e){let{eventView:t,location:s,organization:r,visibleColumns:a}=e;const{replays:n,isFetching:i,fetchError:o}=(0,M.Z)({eventView:t,location:s,organization:r,perPage:3});return(0,T.tZ)(W.Z,{fetchError:o,isFetching:i,replays:n,sort:void 0,visibleColumns:a,saveLocation:!0})}K.displayName="CardTable";const Q=(0,c.Z)("div",{target:"eon0ivt0"})("display:grid;grid-template-columns:1fr 1fr;gap:",(0,y.D)(2),";"),$=function(){const e=(0,l.Z)(),t=(0,x.T)(),s=(0,v.useMemo)((()=>({pathname:"",search:"",hash:"",state:"",action:"PUSH",key:"",query:{project:t.query.project,environment:t.query.environment,start:t.query.start,statsPeriod:t.query.statsPeriod,utc:t.query.utc,end:t.query.end}})),[t.query.project,t.query.environment,t.query.start,t.query.statsPeriod,t.query.utc,t.query.end]),r=(0,v.useMemo)((()=>X.ZP.fromNewQueryWithLocation({id:"",name:"",version:2,fields:["activity","duration","count_errors","id","project_id","user","finished_at","is_archived","started_at"],projects:[],query:"count_errors:>0",orderby:"-count_errors"},s)),[s]),a=(0,v.useMemo)((()=>X.ZP.fromNewQueryWithLocation({id:"",name:"",version:2,fields:["activity","duration","count_dead_clicks","count_rage_clicks","id","project_id","user","finished_at","is_archived","started_at"],projects:[],query:"count_rage_clicks:>0",orderby:"-count_rage_clicks"},s)),[s]),n=e.features.includes("session-replay"),i=e.features.includes("replay-error-click-cards"),{hasSentOneReplay:o,fetching:p}=(0,G.hZ)(),c=[Y.f.MOST_RAGE_CLICKS,Y.f.COUNT_DEAD_CLICKS,Y.f.COUNT_RAGE_CLICKS],d=[Y.f.MOST_ERRONEOUS_REPLAYS,Y.f.DURATION,Y.f.COUNT_ERRORS,Y.f.ACTIVITY];return n&&!p&&o&&i?(0,T.BX)(Q,{children:[(0,T.tZ)(K,{eventView:r,location:s,organization:e,visibleColumns:d}),(0,T.tZ)(K,{eventView:a,location:s,organization:e,visibleColumns:c})]}):null};var H=s("./app/components/pagination.tsx"),J=s("./app/utils/replays/fetchReplayList.tsx"),ee=s("./app/utils/useProjectSdkNeedsUpdate.tsx");const te=s.p+"assets/replays-empty-state.179b7043d3fe6cbcaea7.svg";var se=s("./app/components/alert.tsx"),re=s("./app/components/button.tsx"),ae=s("./app/components/buttonBar.tsx"),ne=s("./app/components/hookOrDefault.tsx"),ie=s("./app/components/links/externalLink.tsx"),oe=s("./app/components/onboardingPanel.tsx"),pe=s("./app/components/projects/useProjectCreationAccess.tsx"),le=s("./app/components/tooltip.tsx"),ce=s("./app/data/platformCategories.tsx"),de=s("./app/icons/index.tsx"),ue=s("./app/stores/preferencesStore.tsx"),me=s("./app/stores/useLegacyStore.tsx"),he=s("./app/utils/useProjects.tsx"),ge=s("./app/utils/useTeams.tsx");const ye=(0,ne.Z)({hookName:"component:replay-onboarding-cta",defaultComponent:e=>{let{children:t}=e;return(0,T.tZ)(v.Fragment,{children:t})}}),fe=(0,ne.Z)({hookName:"component:replay-onboarding-alert",defaultComponent:e=>{let{children:t}=e;return(0,T.tZ)(v.Fragment,{children:t})}});function xe(){const e=(0,me.X)(ue.Z),t=(0,Z.Z)(),s=(0,he.Z)(),r=(0,l.Z)(),{teams:a}=(0,ge.y)(),{canCreateProject:n}=(0,pe.A)({organization:r,teams:a}),i=s.projects.filter((e=>t.selection.projects.includes(Number(e.id)))),p=i.length>0,c=s.projects.every((e=>!ce.Vq.includes(e.platform))),d=i.every((e=>!ce.Vq.includes(e.platform))),u=c?"create":"setup",m="create"===u?!n:d&&p,h=e.collapsed?{small:"800px",medium:"992px",large:"1210px",xlarge:"1450px"}:{small:"800px",medium:"1175px",large:"1375px",xlarge:"1450px"};return(0,T.BX)(v.Fragment,{children:[(0,T.tZ)(fe,{children:p&&d&&(0,T.tZ)(se.ZP,{icon:(0,T.tZ)(de.aU,{}),children:(0,o._N)("[projectMsg] [action] a project using our [link], or equivalent framework SDK.",{action:"create"===u?(0,o.t)("Create"):(0,o.t)("Select"),projectMsg:(0,T.tZ)("strong",{children:(0,o.t)("Session Replay isn't available for project %s.",i[0].slug)}),link:(0,T.tZ)(ie.Z,{href:"https://docs.sentry.io/platforms/javascript/session-replay/",children:(0,o.t)("Sentry browser SDK package")})})})}),(0,T.tZ)(oe.Z,{image:(0,T.tZ)(ve,{src:te,breakpoints:h}),children:(0,T.tZ)(ye,{organization:r,children:(0,T.tZ)(Ze,{orgSlug:r.slug,primaryAction:u,disabled:m})})})]})}function Ze(e){let{disabled:t,primaryAction:s="setup",orgSlug:r}=e;const{activateSidebar:a}=(0,G.kE)();return(0,T.BX)(v.Fragment,{children:[(0,T.tZ)("h3",{children:(0,o.t)("Get to the root cause faster")}),(0,T.tZ)("p",{children:(0,o.t)("See a video-like reproduction of your user sessions so you can see what happened before, during, and after an error or latency issue occurred.")}),(0,T.BX)(be,{gap:1,children:["setup"===s?(0,T.tZ)(le.u,{title:(0,T.tZ)("span",{"data-test-id":"setup-replays-tooltip",children:(0,o.t)("Select a supported project from the projects dropdown.")}),disabled:!t,children:(0,T.tZ)(re.zx,{"data-test-id":"setup-replays-btn",onClick:a,priority:"primary",disabled:t,children:(0,o.t)("Set Up Replays")})}):(0,T.tZ)(le.u,{title:(0,T.tZ)("span",{"data-test-id":"create-project-tooltip",children:(0,o.t)("You do not have permission to create a project.")}),disabled:!t,children:(0,T.tZ)(re.zx,{"data-test-id":"create-project-btn",to:`/organizations/${r}/projects/new/`,priority:"primary",disabled:t,children:(0,o.t)("Create Project")})}),(0,T.tZ)(re.zx,{href:"https://docs.sentry.io/platforms/javascript/session-replay/",external:!0,children:(0,o.t)("Read Docs")})]})]})}xe.displayName="ReplayOnboardingPanel",Ze.displayName="SetupReplaysCTA";const ve=(0,c.Z)("img",{target:"e4c3zzb1"})("@media (min-width: ",(e=>e.breakpoints.small),"){user-select:none;position:absolute;top:0;bottom:0;width:220px;margin-top:auto;margin-bottom:auto;transform:translateX(-50%);left:50%;}@media (min-width: ",(e=>e.breakpoints.medium),"){transform:translateX(-55%);width:300px;min-width:300px;}@media (min-width: ",(e=>e.breakpoints.large),"){transform:translateX(-60%);width:380px;min-width:380px;}@media (min-width: ",(e=>e.breakpoints.xlarge),"){transform:translateX(-65%);width:420px;min-width:420px;}"),be=(0,c.Z)(ae.ZP,{target:"e4c3zzb0"})({name:"vpj881",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content))"});var we=s("./app/views/replays/types.tsx");function je(e){let{eventView:t,location:s,organization:r}=e;const{replays:a,pageLinks:n,isFetching:i,fetchError:p}=(0,M.Z)({eventView:t,location:s,organization:r}),{selection:{projects:l}}=(0,Z.Z)(),{needsUpdate:c}=(0,ee.Z)({minVersion:"7.44.0",organization:r,projectId:l.map((e=>String(e)))}),u=(0,v.useMemo)((()=>new P.MY((0,f.ro)(s.query.query,""))),[s.query.query]).getFilterKeys().some((e=>e.startsWith("click."))),m=r.features.includes("replay-rage-click-dead-click-columns")?[Y.f.REPLAY,Y.f.OS,Y.f.BROWSER,Y.f.DURATION,Y.f.COUNT_DEAD_CLICKS,Y.f.COUNT_RAGE_CLICKS,Y.f.COUNT_ERRORS,Y.f.ACTIVITY]:[Y.f.REPLAY,Y.f.OS,Y.f.BROWSER,Y.f.DURATION,Y.f.COUNT_ERRORS,Y.f.ACTIVITY];return(0,T.BX)(v.Fragment,{children:[(0,T.tZ)(W.Z,{fetchError:p,isFetching:i,replays:a,sort:t.sorts[0],visibleColumns:m,emptyMessage:c&&u?(0,T.BX)(v.Fragment,{children:[(0,o.t)("Unindexed search field"),(0,T.tZ)(Se,{children:(0,o._N)("Field [field] requires an [sdkPrompt]",{field:(0,T.tZ)("strong",{children:"'click'"}),sdkPrompt:(0,T.tZ)("strong",{children:(0,o.t)("SDK version >= 7.44.0")})})})]}):void 0}),(0,T.tZ)(H.Z,{pageLinks:n,onCursor:(e,t,s)=>{(0,_.Gi)("replay.list-paginated",{organization:r,direction:e?.endsWith(":1")?"prev":"next"}),d.browserHistory.push({pathname:t,query:{...s,cursor:e}})}})]})}je.displayName="ReplaysListTable";const Se=(0,c.Z)("div",{target:"e190ldpd0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),ke=function(){const e=(0,x.T)(),t=(0,l.Z)(),s=(0,v.useMemo)((()=>{const s=(0,f.ro)(e.query.query,""),r=new P.MY(s);return X.ZP.fromNewQueryWithLocation({id:"",name:"",version:2,fields:(0,we.t)(t),projects:[],query:r.formatString(),orderby:(0,f.ro)(e.query.sort,J.y)},e)}),[e,t]),r=t.features.includes("session-replay"),{hasSentOneReplay:a,fetching:n}=(0,G.hZ)();return r&&!n&&a?(0,T.tZ)(je,{eventView:s,location:e,organization:t}):(0,T.tZ)(xe,{})};function _e(){(0,p.Z)("replay.list-time-spent");const{slug:e}=(0,l.Z)();return(0,T.BX)(i.Z,{title:`Session Replay — ${e}`,children:[(0,T.tZ)(r.h4,{children:(0,T.tZ)(r.oB,{children:(0,T.BX)(r.Dx,{children:[(0,o.t)("Session Replay"),(0,T.tZ)(n.u,{title:(0,o.t)("A view of available video-like reproductions of user sessions so you can visualize repro steps to debug issues faster."),docsUrl:"https://docs.sentry.io/product/session-replay/"})]})})}),(0,T.tZ)(a.Z,{children:(0,T.tZ)(r.uT,{children:(0,T.BX)(r.or,{fullWidth:!0,children:[(0,T.tZ)(V,{}),(0,T.tZ)($,{}),(0,T.tZ)(ke,{})]})})})]})}_e.displayName="ReplaysListContainer";const Re=_e}}]);
//# sourceMappingURL=../sourcemaps/app_views_replays_list_tsx-images_spot_replays-empty-state_svg.83ab7f00f9ad37341297dbb228e59b7c.js.map