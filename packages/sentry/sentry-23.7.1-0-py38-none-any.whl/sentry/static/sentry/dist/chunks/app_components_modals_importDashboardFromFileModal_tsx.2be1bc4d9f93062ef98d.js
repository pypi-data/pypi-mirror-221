"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_importDashboardFromFileModal_tsx","app_components_codeSnippet_tsx"],{"./app/components/codeSnippet.tsx":(e,t,o)=>{o.d(t,{O:()=>u});var n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("../node_modules/react/index.js"),a=o("../node_modules/prismjs/prism.js"),i=o.n(a),r=o("./app/components/button.tsx"),d=o("./app/icons/index.tsx"),l=o("./app/locale.tsx"),p=o("./app/styles/space.tsx"),c=o("./app/utils/loadPrismLanguage.ts"),m=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{children:t,language:o,dark:n,filename:a,hideCopyButton:r,onCopy:p,className:u,onSelectAndCopy:b}=e;const f=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=f.current;e&&(o in i().languages?i().highlightElement(e):(0,c.$)(o,{onLoad:()=>i().highlightElement(e)}))}),[t,o]);const[w,v]=(0,s.useState)("copy"),Z="copy"===w?(0,l.t)("Copy"):"copied"===w?(0,l.t)("Copied"):(0,l.t)("Unable to copy");return(0,m.BX)(h,{className:`${n?"prism-dark ":""}${u??""}`,children:[(0,m.BX)(g,{hasFileName:!!a,children:[a&&(0,m.tZ)(x,{children:a}),!r&&(0,m.tZ)(y,{type:"button",size:"xs",translucentBorder:!0,borderless:!!a,onClick:()=>{navigator.clipboard.writeText(t).then((()=>{v("copied")})).catch((()=>{v("error")})),p?.(t)},title:Z,tooltipProps:{delay:0,isHoverable:!1,position:"left"},onMouseLeave:()=>v("copy"),children:(0,m.tZ)(d.vU,{size:"xs"})})]}),(0,m.tZ)("pre",{className:`language-${String(o)}`,children:(0,m.tZ)("code",{ref:f,className:`language-${String(o)}`,onCopy:b,children:t})})]})}u.displayName="CodeSnippet";const h=(0,n.Z)("div",{target:"ekl9mf43"})("position:relative;background:",(e=>e.theme.backgroundSecondary),";border-radius:",(e=>e.theme.borderRadius),";pre{margin:0;}"),g=(0,n.Z)("div",{target:"ekl9mf42"})("display:flex;justify-content:space-between;align-items:center;font-family:",(e=>e.theme.text.familyMono),";font-size:",(e=>e.theme.codeFontSize),";color:",(e=>e.theme.headingColor),";font-weight:600;z-index:2;",(e=>e.hasFileName?`\n      padding: ${(0,p.D)(.5)} 0;\n      margin: 0 ${(0,p.D)(.5)} 0 ${(0,p.D)(2)};\n      border-bottom: solid 1px ${e.theme.innerBorder};\n    `:`\n      justify-content: flex-end;\n      position: absolute;\n      top: 0;\n      right: 0;\n      width: max-content;\n      height: max-content;\n      max-height: 100%;\n      padding: ${(0,p.D)(1)};\n    `),";"),x=(0,n.Z)("p",{target:"ekl9mf41"})((e=>e.theme.overflowEllipsis)," margin:0;"),y=(0,n.Z)(r.zx,{target:"ekl9mf40"})("color:",(e=>e.theme.subText),";transition:opacity 0.1s ease-out;opacity:0;p+&,div:hover>div>&,&.focus-visible{opacity:1;}")},"./app/components/modals/importDashboardFromFileModal.tsx":(e,t,o)=>{o.r(t),o.d(t,{default:()=>x,modalCss:()=>y}),o("../node_modules/core-js/modules/es.array.push.js");var n=o("../node_modules/react/index.js"),s=o("../node_modules/react-router/es/index.js"),a=o("./app/actionCreators/dashboards.tsx"),i=o("./app/actionCreators/indicator.tsx"),r=o("./app/components/button.tsx"),d=o("./app/components/codeSnippet.tsx"),l=o("./app/icons/index.tsx"),p=o("./app/locale.tsx"),c=o("./app/utils/withDomainRequired.tsx"),m=o("./app/views/dashboards/layoutUtils.tsx"),u=o("./app/views/discover/table/quickContext/styles.tsx"),h=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){let{Header:t,Body:o,Footer:g,organization:x,api:y,location:b}=e;const[f,w]=(0,n.useState)(""),[v,Z]=(0,n.useState)(!1);return(0,h.BX)(n.Fragment,{children:[(0,h.tZ)(t,{closeButton:!0,children:(0,h.tZ)("h4",{children:(0,p.t)("Import Dashboard from JSON File")})}),(0,h.BX)(o,{children:[(0,h.tZ)(u.im,{children:(0,h.tZ)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(function(e){return e&&"application/json"===e.type?(Z(!0),!0):((0,i.Iw)("You must upload a JSON file"),Z(!1),w(""),!1)}(t)){const e=new FileReader;e.readAsText(t,"UTF-8"),e.onload=e=>{const t=e.target;if(t&&"string"==typeof t.result){const e=JSON.parse(t.result),o=JSON.stringify(e,null,"\t");w(o)}}}}})}),(0,h.tZ)(u.im,{children:(0,h.tZ)(r.zx,{onClick:async()=>{const e=JSON.parse(f);try{const o=await(0,a.JR)(y,x.slug,{...e,widgets:(0,m._F)(e.widgets,(0,m.WJ)())},!0);(0,i.S9)(`${e.title} dashboard template successfully added`),t=o.id,s.browserHistory.push((0,c.D)({pathname:`/organizations/${x.slug}/dashboards/${t}/`,query:b.query}))}catch(e){(0,i.Iw)("Could not upload dashboard, JSON may be invalid")}var t},size:"md",disabled:!v,priority:"primary",icon:(0,h.tZ)(l.bC,{}),children:(0,p.t)("Import")})})]}),v&&(0,h.BX)(n.Fragment,{children:[(0,h.tZ)(g,{}),(0,h.tZ)(u.im,{children:(0,h.tZ)("h4",{children:(0,p.t)("Preview")})}),(0,h.tZ)(d.O,{language:"json",children:f})]})]})}g.displayName="ImportDashboardFromFileModal";const x=g,y={name:"jzg5s9",styles:"max-width:700px;margin:70px auto"}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_importDashboardFromFileModal_tsx.091ab97ecb88e7244f2e8e37e1993047.js.map