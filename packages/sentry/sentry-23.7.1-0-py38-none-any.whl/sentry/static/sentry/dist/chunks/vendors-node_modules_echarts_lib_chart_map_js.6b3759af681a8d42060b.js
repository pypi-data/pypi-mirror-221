"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_echarts_lib_chart_map_js"],{"../node_modules/echarts/lib/chart/map.js":(e,t,o)=>{var n,r=o("../node_modules/echarts/lib/extension.js"),i=o("../node_modules/echarts/node_modules/tslib/tslib.es6.js"),a=o("../node_modules/zrender/lib/graphic/shape/Circle.js"),s=o("../node_modules/zrender/lib/core/util.js"),l=o("../node_modules/echarts/lib/component/helper/RoamController.js"),p=o("../node_modules/echarts/lib/component/helper/cursorHelper.js"),c=o("../node_modules/zrender/lib/graphic/Group.js"),u=o("../node_modules/echarts/lib/animation/basicTransition.js"),h=o("../node_modules/zrender/lib/graphic/shape/Polygon.js"),g=o("../node_modules/zrender/lib/graphic/shape/Polyline.js"),d=o("../node_modules/zrender/lib/graphic/CompoundPath.js"),m=o("../node_modules/echarts/lib/util/graphic.js"),f=o("../node_modules/echarts/lib/util/states.js"),y=o("../node_modules/zrender/lib/graphic/Image.js"),v=o("../node_modules/zrender/lib/graphic/shape/Rect.js"),_=o("../node_modules/zrender/lib/graphic/shape/Ellipse.js"),b=o("../node_modules/zrender/lib/graphic/shape/Line.js"),w=o("../node_modules/zrender/lib/core/matrix.js"),S=o("../node_modules/zrender/lib/tool/path.js"),x=o("../node_modules/zrender/lib/graphic/LinearGradient.js"),M=o("../node_modules/zrender/lib/graphic/RadialGradient.js"),T=o("../node_modules/zrender/lib/graphic/TSpan.js");function D(e){(0,s.isString)(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var G={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},C=(0,s.keys)(G),A={"alignment-baseline":"textBaseline","stop-color":"stopColor"},R=(0,s.keys)(A),F=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var o=D(e);this._defsUsePending=[];var n=new c.Z;this._root=n;var r=[],i=o.getAttribute("viewBox")||"",a=parseFloat(o.getAttribute("width")||t.width),s=parseFloat(o.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),L(o,n,null,!0,!1);for(var l,p,u=o.firstChild;u;)this._parseNode(u,n,r,null,!1,!1),u=u.nextSibling;if(function(e,t){for(var o=0;o<t.length;o++){var n=t[o];n[0].style[n[1]]=e[n[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],i){var h=H(i);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=a&&null!=s&&(p=J(l,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var g=n;(n=new c.Z).add(g),g.scaleX=g.scaleY=p.scale,g.x=p.x,g.y=p.y}return t.ignoreRootClip||null==a||null==s||n.setClipPath(new v.Z({shape:{x:0,y:0,width:a,height:s}})),{root:n,width:a,height:s,viewBoxRect:l,viewBoxTransform:p,named:r}},e.prototype._parseNode=function(e,t,o,r,i,a){var l,p=e.nodeName.toLowerCase(),c=r;if("defs"===p&&(i=!0),"text"===p&&(a=!0),"defs"===p||"switch"===p)l=t;else{if(!i){var u=n[p];if(u&&(0,s.hasOwn)(n,p)){l=u.call(this,e,t);var h=e.getAttribute("name");if(h){var g={name:h,namedFrom:null,svgNodeTagLower:p,el:l};o.push(g),"g"===p&&(c=g)}else r&&o.push({name:r.name,namedFrom:r,svgNodeTagLower:p,el:l});t.add(l)}}var d=N[p];if(d&&(0,s.hasOwn)(N,p)){var m=d.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=m)}}if(l&&l.isGroup)for(var y=e.firstChild;y;)1===y.nodeType?this._parseNode(y,l,o,c,i,a):3===y.nodeType&&a&&this._parseText(y,l),y=y.nextSibling},e.prototype._parseText=function(e,t){var o=new T.Z({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});P(t,o),L(e,o,this._defsUsePending,!1,!1),function(e,t){var o=t.__selfStyle;if(o){var n=o.textBaseline,r=n;n&&"auto"!==n?"baseline"===n?r="alphabetic":"before-edge"===n||"text-before-edge"===n?r="top":"after-edge"===n||"text-after-edge"===n?r="bottom":"central"!==n&&"mathematical"!==n||(r="middle"):r="alphabetic",e.style.textBaseline=r}var i=t.__inheritedStyle;if(i){var a=i.textAlign,s=a;a&&("middle"===a&&(s="center"),e.style.textAlign=s)}}(o,t);var n=o.style,r=n.fontSize;r&&r<9&&(n.fontSize=9,o.scaleX*=r/9,o.scaleY*=r/9);var i=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=i;var a=o.getBoundingRect();return this._textX+=a.width,t.add(o),o},e.internalField=void(n={g:function(e,t){var o=new c.Z;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o},rect:function(e,t){var o=new v.Z;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(e,t){var o=new a.Z;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),o.silent=!0,o},line:function(e,t){var o=new b.Z;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(e,t){var o=new _.Z;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(e,t){var o,n=e.getAttribute("points");n&&(o=z(n));var r=new h.Z({shape:{points:o||[]},silent:!0});return P(t,r),L(e,r,this._defsUsePending,!1,!1),r},polyline:function(e,t){var o,n=e.getAttribute("points");n&&(o=z(n));var r=new g.Z({shape:{points:o||[]},silent:!0});return P(t,r),L(e,r,this._defsUsePending,!1,!1),r},image:function(e,t){var o=new y.ZP;return P(t,o),L(e,o,this._defsUsePending,!1,!1),o.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),o.silent=!0,o},text:function(e,t){var o=e.getAttribute("x")||"0",n=e.getAttribute("y")||"0",r=e.getAttribute("dx")||"0",i=e.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(r),this._textY=parseFloat(n)+parseFloat(i);var a=new c.Z;return P(t,a),L(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var o=e.getAttribute("x"),n=e.getAttribute("y");null!=o&&(this._textX=parseFloat(o)),null!=n&&(this._textY=parseFloat(n));var r=e.getAttribute("dx")||"0",i=e.getAttribute("dy")||"0",a=new c.Z;return P(t,a),L(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(i),a},path:function(e,t){var o=e.getAttribute("d")||"",n=(0,S.iR)(o);return P(t,n),L(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),N={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),o=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10),i=new x.Z(t,o,n,r);return j(e,i),Z(e,i),i},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),o=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),r=new M.Z(t,o,n);return j(e,r),Z(e,r),r}};function j(e,t){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(t.global=!0)}function Z(e,t){for(var o=e.firstChild;o;){if(1===o.nodeType&&"stop"===o.nodeName.toLocaleLowerCase()){var n,r=o.getAttribute("offset");n=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var i={};Y(o,i,i);var a=i.stopColor||o.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:n,color:a})}o=o.nextSibling}}function P(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),(0,s.defaults)(t.__inheritedStyle,e.__inheritedStyle))}function z(e){for(var t=H(e),o=[],n=0;n<t.length;n+=2){var r=parseFloat(t[n]),i=parseFloat(t[n+1]);o.push([r,i])}return o}function L(e,t,o,n,r){var i=t,a=i.__inheritedStyle=i.__inheritedStyle||{},l={};1===e.nodeType&&(function(e,t){var o=e.getAttribute("transform");if(o){o=o.replace(/,/g," ");var n=[],r=null;o.replace(V,(function(e,t,o){return n.push(t,o),""}));for(var i=n.length-1;i>0;i-=2){var a=n[i],s=n[i-1],l=H(a);switch(r=r||w.create(),s){case"translate":w.translate(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":w.scale(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":w.rotate(r,r,-parseFloat(l[0])*B);break;case"skewX":var p=Math.tan(parseFloat(l[0])*B);w.mul(r,[1,0,p,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*B);w.mul(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}t.setLocalTransform(r)}}(e,t),Y(e,a,l),n||function(e,t,o){for(var n=0;n<C.length;n++){var r=C[n];null!=(i=e.getAttribute(r))&&(t[G[r]]=i)}for(n=0;n<R.length;n++){var i;r=R[n],null!=(i=e.getAttribute(r))&&(o[A[r]]=i)}}(e,a,l)),i.style=i.style||{},null!=a.fill&&(i.style.fill=O(i,"fill",a.fill,o)),null!=a.stroke&&(i.style.stroke=O(i,"stroke",a.stroke,o)),(0,s.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=a[e]&&(i.style[e]=parseFloat(a[e]))})),(0,s.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=a[e]&&(i.style[e]=a[e])})),r&&(i.__selfStyle=l),a.lineDash&&(i.style.lineDash=(0,s.map)(H(a.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==a.visibility&&"collapse"!==a.visibility||(i.invisible=!0),"none"===a.display&&(i.ignore=!0)}var I=/^url\(\s*#(.*?)\)/;function O(e,t,o,n){var r=o&&o.match(I);if(!r)return"none"===o&&(o=null),o;var i=(0,s.trim)(r[1]);n.push([e,t,i])}var k=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function H(e){return e.match(k)||[]}var V=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,B=Math.PI/180,X=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Y(e,t,o){var n,r=e.getAttribute("style");if(r)for(X.lastIndex=0;null!=(n=X.exec(r));){var i=n[1],a=(0,s.hasOwn)(G,i)?G[i]:null;a&&(t[a]=n[2]);var l=(0,s.hasOwn)(A,i)?A[i]:null;l&&(o[l]=n[2])}}function J(e,t){var o=t.width/e.width,n=t.height/e.height,r=Math.min(o,n);return{scale:r,x:-(e.x+e.width/2)*r+(t.x+t.width/2),y:-(e.y+e.height/2)*r+(t.y+t.height/2)}}for(var U=o("../node_modules/zrender/lib/core/BoundingRect.js"),E=o("../node_modules/echarts/lib/coord/geo/Region.js"),W=(0,s.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),q=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=(0,s.createHashMap)(),this._freedGraphics=[],this._mapName=e,this._parsedXML=D(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(e){var t=[],o=(0,s.createHashMap)();return(0,s.each)(e,(function(e){if(null==e.namedFrom){var n=new E.Im(e.name,e.el);t.push(n),o.set(e.name,n)}})),{regions:t,regionsMap:o}}(e.named),o=t.regions,n=t.regionsMap;this._regions=o,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,o,n,r;try{o=(t=e&&(n=e,r={ignoreViewBox:!0,ignoreRootClip:!0},(new F).parse(n,r))||{}).root,(0,s.assert)(null!=o)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var i=new c.Z;i.add(o),i.isGeoSVGGraphicRoot=!0;var a=t.width,l=t.height,p=t.viewBoxRect,u=this._boundingRect;if(!u){var h=void 0,g=void 0,d=void 0,m=void 0;if(null!=a?(h=0,d=a):p&&(h=p.x,d=p.width),null!=l?(g=0,m=l):p&&(g=p.y,m=p.height),null==h||null==g){var f=o.getBoundingRect();null==h&&(h=f.x,d=f.width),null==g&&(g=f.y,m=f.height)}u=this._boundingRect=new U.Z(h,g,d,m)}if(p){var y=J(p,u);o.scaleX=o.scaleY=y.scale,o.x=y.x,o.y=y.y}i.setClipPath(new v.Z({shape:u.plain()}));var _=[];return(0,s.each)(t.named,(function(e){var t;null!=W.get(e.svgNodeTagLower)&&(_.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:i,boundingRect:u,named:_}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,o=t.get(e);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,o),o)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,o=t.get(e);o&&(t.removeKey(e),this._freedGraphics.push(o))},e}(),K=o("../node_modules/echarts/lib/coord/geo/parseGeoJson.js"),Q=[126,25],$="南海诸岛",ee=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],te=0;te<ee.length;te++)for(var oe=0;oe<ee[te].length;oe++)ee[te][oe][0]/=10.5,ee[te][oe][1]/=-14,ee[te][oe][0]+=Q[0],ee[te][oe][1]+=Q[1];var ne={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]},re=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],ie=function(){function e(e,t,o){var n;this.type="geoJSON",this._parsedMap=(0,s.createHashMap)(),this._mapName=e,this._specialAreas=o,this._geoJSON=(n=t,(0,s.isString)(n)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n)}return e.prototype.load=function(e,t){t=t||"name";var o=this._parsedMap.get(t);if(!o){var n=this._parseToRegions(t);o=this._parsedMap.set(t,{regions:n,boundingRect:ae(n)})}var r=(0,s.createHashMap)(),i=[];return(0,s.each)(o.regions,(function(t){var o=t.name;e&&(0,s.hasOwn)(e,o)&&(t=t.cloneShallow(o=e[o])),i.push(t),r.set(o,t)})),{regions:i,boundingRect:o.boundingRect||new U.Z(0,0,0,0),regionsMap:r}},e.prototype._parseToRegions=function(e){var t,o=this._mapName,n=this._geoJSON;try{t=n?(0,K.Z)(n,e):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function(e,t){if("china"===e){for(var o=0;o<t.length;o++)if(t[o].name===$)return;t.push(new E.Ni($,s.map(ee,(function(e){return{type:"polygon",exterior:e}})),Q))}}(o,t),(0,s.each)(t,(function(e){var t=e.name;!function(e,t){if("china"===e){var o=ne[t.name];if(o){var n=t.getCenter();n[0]+=o[0]/10.5,n[1]+=-o[1]/14,t.setCenter(n)}}}(o,e),function(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:re[0]})}(o,e);var n=this._specialAreas&&this._specialAreas[t];n&&e.transformTo(n.left,n.top,n.width,n.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function ae(e){for(var t,o=0;o<e.length;o++){var n=e[o].getBoundingRect();(t=t||n.clone()).union(n)}return t}var se=(0,s.createHashMap)();const le={registerMap:function(e,t,o){if(t.svg){var n=new q(e,t.svg);se.set(e,n)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?o=t.specialAreas:r=t,n=new ie(e,r,o),se.set(e,n)}},getGeoResource:function(e){return se.get(e)},getMapForUser:function(e){var t=se.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,o){var n=se.get(e);if(n)return n.load(t,o)}};var pe=o("../node_modules/echarts/lib/util/component.js"),ce=o("../node_modules/echarts/lib/label/labelStyle.js"),ue=o("../node_modules/echarts/lib/util/innerStore.js"),he=o("../node_modules/echarts/lib/util/decal.js"),ge=o("../node_modules/zrender/lib/graphic/Displayable.js"),de=o("../node_modules/echarts/lib/util/model.js"),me=["rect","circle","line","ellipse","polygon","polyline","path"],fe=s.createHashMap(me),ye=s.createHashMap(me.concat(["g"])),ve=s.createHashMap(me.concat(["g"])),_e=(0,de.Yf)();function be(e){var t=e.getItemStyle(),o=e.get("areaColor");return null!=o&&(t.fill=o),t}function we(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var Se=function(){function e(e){var t=new c.Z;this.uid=(0,pe.Kr)("ec_map_draw"),this._controller=new l.Z(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new c.Z),t.add(this._svgGroup=new c.Z)}return e.prototype.draw=function(e,t,o,n,r){var i="geo"===e.mainType,a=e.getData&&e.getData();i&&t.eachComponent({mainType:"series",subType:"map"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,p=this.group,c=s.getTransformInfo(),h=c.raw,g=c.roam;!l.childAt(0)||r?(p.x=g.x,p.y=g.y,p.scaleX=g.scaleX,p.scaleY=g.scaleY,p.dirty()):u.D(p,g,e);var d=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,m={api:o,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:d,isGeo:i,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(m):"geoSVG"===s.resourceType&&this._buildSVG(m),this._updateController(e,t,o),this._updateMapSelectHandler(e,l,o,n)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=s.createHashMap(),o=s.createHashMap(),n=this._regionsGroup,r=e.transformInfoRaw,i=e.mapOrGeoModel,a=e.data,l=e.geo.projection,p=l&&l.stream;function u(e,t){return t&&(e=t(e)),e&&[e[0]*r.scaleX+r.x,e[1]*r.scaleY+r.y]}function m(e){for(var t=[],o=!p&&l&&l.project,n=0;n<e.length;++n){var r=u(e[n],o);r&&t.push(r)}return t}function f(e){return{shape:{points:m(e)}}}n.removeAll(),s.each(e.geo.regions,(function(r){var m=r.name,y=t.get(m),v=o.get(m)||{},_=v.dataIdx,b=v.regionModel;y||(y=t.set(m,new c.Z),n.add(y),_=a?a.indexOfName(m):null,b=e.isGeo?i.getRegionModel(m):a?a.getItemModel(_):null,o.set(m,{dataIdx:_,regionModel:b}));var w=[],S=[];s.each(r.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);p&&(t=Ce(t,p)),s.each(t,(function(e){w.push(new h.Z(f(e)))}))}else{var o=e.points;p&&(o=Ce(o,p,!0)),s.each(o,(function(e){S.push(new g.Z(f(e)))}))}}));var x=u(r.getCenter(),l&&l.project);function M(t,o){if(t.length){var n=new d.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});y.add(n),xe(e,n,_,b),Me(e,n,m,b,i,_,x),o&&(we(n),s.each(n.states,we))}}M(w),M(S,!0)})),t.each((function(t,n){var r=o.get(n),a=r.dataIdx,s=r.regionModel;Te(e,t,n,s,i,a),De(e,t,n,s,i),Ge(e,t,n,s,i)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,o=e.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var n=this._svgDispatcherMap=s.createHashMap(),r=!1;s.each(this._svgGraphicRecord.named,(function(t){var o=t.name,i=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,p=a?a.indexOfName(o):null,c=i.getRegionModel(o);null!=fe.get(s)&&l instanceof ge.ZP&&xe(e,l,p,c),l instanceof ge.ZP&&(l.culling=!0),l.z2EmphasisLift=0,t.namedFrom||(null!=ve.get(s)&&Me(e,l,o,c,i,p,null),Te(e,l,o,c,i,p),De(e,l,o,c,i),null!=ye.get(s)&&("self"===Ge(e,l,o,c,i)&&(r=!0),(n.get(o)||n.set(o,[])).push(l)))}),this),this._enableBlurEntireSVG(r,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var o=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){(0,f.MA)(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=o&&(t.opacity=o),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var o=t.coordinateSystem;if("geoJSON"===o.resourceType){var n=this._regionsGroupByName;if(n){var r=n.get(e);return r?[r]:[]}}else if("geoSVG"===o.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=le.getGeoResource(e);if(t&&"geoSVG"===t.type){var o=t.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=le.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,o){var n=e.coordinateSystem,r=this._controller,i=this._controllerHost;i.zoomLimit=e.get("scaleLimit"),i.zoom=n.getZoom(),r.enable(e.get("roam")||!1);var a=e.mainType;function l(){var t={type:"geoRoam",componentType:a};return t[a+"Id"]=e.id,t}r.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,function(e,t,o){var n=e.target;n.x+=t,n.y+=o,n.dirty()}(i,e.dx,e.dy),o.dispatchAction(s.extend(l(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),r.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,function(e,t,o,n){var r=e.target,i=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(l,a),s)}var p=a/e.zoom;e.zoom=a,r.x-=(o-r.x)*(p-1),r.y-=(n-r.y)*(p-1),r.scaleX*=p,r.scaleY*=p,r.dirty()}(i,e.scale,e.originX,e.originY),o.dispatchAction(s.extend(l(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(t,r,i){return n.containPoint([r,i])&&!(0,p.l)(t,o,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=_e(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,o,n){var r=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){r._mouseDownFlag=!0})),t.on("click",(function(e){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},e}();function xe(e,t,o,n){var r=n.getModel("itemStyle"),i=n.getModel(["emphasis","itemStyle"]),a=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=be(r),p=be(i),c=be(s),u=be(a),h=e.data;if(h){var g=h.getItemVisual(o,"style"),d=h.getItemVisual(o,"decal");e.isVisualEncodedByVisualMap&&g.fill&&(l.fill=g.fill),d&&(l.decal=(0,he.I)(d,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=p,t.ensureState("select").style=c,t.ensureState("blur").style=u,(0,f.MA)(t)}function Me(e,t,o,n,r,i,a){var s=e.data,l=e.isGeo,p=s&&isNaN(s.get(s.mapDimension("value"),i)),c=s&&s.getItemLayout(i);if(l||p||c&&c.showLabel){var u=l?o:i,h=void 0;(!s||i>=0)&&(h=r);var g=a?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,ce.ni)(t,(0,ce.k3)(n),{labelFetcher:h,labelDataIndex:u,defaultText:o},g);var d=t.getTextContent();if(d&&(_e(d).ignore=d.ignore,t.textConfig&&a)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(a[0]-m.x)/m.width*100+"%",(a[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function Te(e,t,o,n,r,i){e.data?e.data.setItemGraphicEl(i,t):(0,ue.A)(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:o,region:n&&n.option||{}}}function De(e,t,o,n,r){e.data||m.setTooltipConfig({el:t,componentModel:r,itemName:o,itemTooltipOption:n.get("tooltip")})}function Ge(e,t,o,n,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var i=n.getModel("emphasis"),a=i.get("focus");return(0,f.k5)(t,a,i.get("blurScope"),i.get("disabled")),e.isGeo&&(0,f.th)(t,r,o),a}function Ce(e,t,o){var n,r=[];function i(){n=[]}function a(){n.length&&(r.push(n),n=[])}var l=t({polygonStart:i,polygonEnd:a,lineStart:i,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&n.push([e,t])},sphere:function(){}});return!o&&l.polygonStart(),s.each(e,(function(e){l.lineStart();for(var t=0;t<e.length;t++)l.point(e[t][0],e[t][1]);l.lineEnd()})),!o&&l.polygonEnd(),r}const Ae=Se;var Re=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,i.ZT)(t,e),t.prototype.render=function(e,t,o,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var r=this.group;if(r.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id)(i=this._mapDraw)&&r.add(i.group);else if(e.needsDrawMap){var i=this._mapDraw||new Ae(o);r.add(i.group),i.draw(e,t,o,this,n),this._mapDraw=i}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,o)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,o){var n=e.originalData,r=this.group;n.each(n.mapDimension("value"),(function(t,o){if(!isNaN(t)){var i=n.getItemLayout(o);if(i&&i.point){var s=i.point,l=i.offset,p=new a.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*l,cy:s[1],r:3},silent:!0,z2:8+(l?0:f.zr+1)});if(!l){var c=e.mainSeries.getData(),u=n.getName(o),h=c.indexOfName(u),g=n.getItemModel(o),d=g.getModel("label"),m=c.getItemGraphicEl(h);(0,ce.ni)(p,(0,ce.k3)(g),{labelFetcher:{getFormattedLabel:function(t,o){return e.getFormattedLabel(h,o)}},defaultText:u}),p.disableLabelAnimation=!0,d.get("position")||p.setTextConfig({position:"bottom"}),m.onHoverStateChange=function(e){(0,f.Gl)(p,e)}}r.add(p)}}}))},t.type="map",t}(o("../node_modules/echarts/lib/view/Chart.js").Z);const Fe=Re;var Ne=o("../node_modules/echarts/lib/data/helper/createDimensions.js"),je=o("../node_modules/echarts/lib/data/SeriesData.js"),Ze=o("../node_modules/echarts/lib/model/Series.js"),Pe=o("../node_modules/echarts/lib/data/helper/sourceHelper.js"),ze=o("../node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),Le=o("../node_modules/echarts/lib/util/symbol.js"),Ie=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.needsDrawMap=!1,o.seriesGroup=[],o.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),o=this.coordinateSystem,n=o.getRegion(t);return n&&o.dataToPoint(n.getCenter())}},o}return(0,i.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=function(e,t,o){t=(0,s.isArray)(t)&&{coordDimensions:t}||(0,s.extend)({encodeDefine:e.getEncode()},t);var n=e.getSource(),r=(0,Ne.Z)(n,t).dimensions,i=new je.Z(r,e);return i.initData(n,void 0),i}(this,{coordDimensions:["value"],encodeDefaulter:s.curry(Pe.Ss,this)}),o=s.createHashMap(),n=[],r=0,i=t.count();r<i;r++){var a=t.getName(r);o.set(a,!0)}var l=le.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return s.each(l.regions,(function(e){var t=e.name;o.get(t)||n.push(t)})),t.appendValues([],n),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,o){for(var n=this.getData(),r=this.getRawValue(e),i=n.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var p=a[l].originalData.indexOfName(i),c=n.mapDimension("value");isNaN(a[l].originalData.get(c,p))||s.push(a[l].name)}return(0,ze.TX)("section",{header:s.join(", "),noHeader:!s.length,blocks:[(0,ze.TX)("nameValue",{name:i,value:r})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",o=(0,Le.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return o.setStyle(e.itemStyle),o.style.stroke="none",t.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),o},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Ze.Z);const Oe=Ie;function ke(e){var t={};e.eachSeriesByType("map",(function(e){var o=e.getHostGeoModel(),n=o?"o"+o.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),s.each(t,(function(e,t){for(var o,n,r,i=(o=s.map(e,(function(e){return e.getData()})),n=e[0].get("mapValueCalculation"),r={},s.each(o,(function(e){e.each(e.mapDimension("value"),(function(t,o){var n="ec-"+e.getName(o);r[n]=r[n]||[],isNaN(t)||r[n].push(t)}))})),o[0].map(o[0].mapDimension("value"),(function(e,t){for(var i="ec-"+o[0].getName(t),a=0,s=1/0,l=-1/0,p=r[i].length,c=0;c<p;c++)s=Math.min(s,r[i][c]),l=Math.max(l,r[i][c]),a+=r[i][c];return 0===p?NaN:"min"===n?s:"max"===n?l:"average"===n?a/p:a}))),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]}))}function He(e){var t={};e.eachSeriesByType("map",(function(o){var n=o.getMapType();if(!o.getHostGeoModel()&&!t[n]){var r={};s.each(o.seriesGroup,(function(t){var o=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var i=n.getName(t),a=o.getRegion(i);if(a&&!isNaN(e)){var s=r[i]||0,l=o.dataToPoint(a.getCenter());r[i]=s+1,n.setItemLayout(t,{point:l,offset:s})}}))}));var i=o.getData();i.each((function(e){var t=i.getName(e),o=i.getItemLayout(e)||{};o.showLabel=!r[t],i.setItemLayout(e,o)})),t[n]=!0}}))}var Ve=o("../node_modules/echarts/lib/legacy/dataSelectAction.js"),Be=o("../node_modules/echarts/lib/model/Component.js"),Xe=o("../node_modules/echarts/lib/model/Model.js"),Ye=o("../node_modules/zrender/lib/core/vector.js"),Je=o("../node_modules/zrender/lib/core/Transformable.js"),Ue=o("../node_modules/echarts/lib/util/number.js"),Ee=Ye.applyTransform;function We(e){var t=e.seriesModel;return t?t.coordinateSystem:null}const qe=function(e){function t(t){var o=e.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Je.ZP,o._rawTransformable=new Je.ZP,o.name=t,o}return(0,i.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,o,n){return this._rect=new U.Z(e,t,o,n),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,o,n){this._transformTo(e,t,o,n),this._viewRect=new U.Z(e,t,o,n)},t.prototype._transformTo=function(e,t,o,n){var r=this.getBoundingRect(),i=this._rawTransformable;i.transform=r.calculateTransform(new U.Z(e,t,o,n));var a=i.parent;i.parent=null,i.decomposeTransform(),i.parent=a,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[(0,Ue.GM)(e[0],t.getWidth()),(0,Ue.GM)(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,o=this.getDefaultCenter(),n=this.getCenter(),r=this.getZoom();n=Ye.applyTransform([],n,e),o=Ye.applyTransform([],o,e),t.originX=n[0],t.originY=n[1],t.x=o[0]-n[0],t.y=o[1]-n[1],t.scaleX=t.scaleY=r,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),w.copy(this.transform||(this.transform=[]),t.transform||w.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],w.invert(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,o=new Je.ZP;return o.transform=t.transform,o.decomposeTransform(),{roam:{x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,o){var n=t?this._rawTransform:this.transform;return o=o||[],n?Ee(o,e,n):Ye.copy(o,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?Ee([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,o){var n=We(t);return n===this?n.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,t,o){var n=We(t);return n===this?n.pointToData(o):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(Je.ZP);var Ke={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Qe=["lng","lat"],$e=function(e){function t(t,o,n){var r=e.call(this,t)||this;r.dimensions=Qe,r.type="geo",r._nameCoordMap=s.createHashMap(),r.map=o;var i,a=n.projection,l=le.load(o,n.nameMap,n.nameProperty),p=le.getGeoResource(o),c=(r.resourceType=p?p.type:null,r.regions=l.regions),u=Ke[p.type];if(r._regionsMap=l.regionsMap,r.regions=l.regions,r.projection=a,a)for(var h=0;h<c.length;h++){var g=c[h].getBoundingRect(a);(i=i||g.clone()).union(g)}else i=l.boundingRect;return r.setBoundingRect(i.x,i.y,i.width,i.height),r.aspectScale=a?1:s.retrieve2(n.aspectScale,u.aspectScale),r._invertLongitute=!a&&u.invertLongitute,r}return(0,i.ZT)(t,e),t.prototype._transformTo=function(e,t,o,n){var r=this.getBoundingRect(),i=this._invertLongitute;r=r.clone(),i&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new U.Z(e,t,o,n));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,i&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,o=0;o<t.length;o++){var n=t[o];if("geoJSON"===n.type&&n.contain(e))return t[o]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,o){if(s.isString(e)&&(e=this.getGeoCoord(e)),e){var n=this.projection;return n&&(e=n.project(e)),e&&this.projectedToPoint(e,t,o)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,o,n){return e.prototype.dataToPoint.call(this,t,o,n)},t.prototype.convertToPixel=function(e,t,o){var n=et(t);return n===this?n.dataToPoint(o):null},t.prototype.convertFromPixel=function(e,t,o){var n=et(t);return n===this?n.pointToData(o):null},t}(qe);function et(e){var t=e.geoModel,o=e.seriesModel;return t?t.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo",de.C6).models[0]||{}).coordinateSystem:null}s.mixin($e,qe);const tt=$e;var ot=o("../node_modules/echarts/lib/util/layout.js");function nt(e,t){var o=e.get("boundingCoords");if(null!=o){var n=o[0],r=o[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])){var i=this.projection;if(i){var a=n[0],s=n[1],l=r[0],p=r[1];n=[1/0,1/0],r=[-1/0,-1/0];var c=function(e,t,o,a){for(var s=o-e,l=a-t,p=0;p<=100;p++){var c=p/100,u=i.project([e+s*c,t+l*c]);Ye.min(n,n,u),Ye.max(r,r,u)}};c(a,s,l,s),c(l,s,l,p),c(l,p,a,p),c(a,p,l,s)}this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}}var u,h,g,d=this.getBoundingRect(),m=e.get("layoutCenter"),f=e.get("layoutSize"),y=t.getWidth(),v=t.getHeight(),_=d.width/d.height*this.aspectScale,b=!1;if(m&&f&&(u=[Ue.GM(m[0],y),Ue.GM(m[1],v)],h=Ue.GM(f,Math.min(y,v)),isNaN(u[0])||isNaN(u[1])||isNaN(h)||(b=!0)),b)g={},_>1?(g.width=h,g.height=h/_):(g.height=h,g.width=h*_),g.y=u[1]-g.height/2,g.x=u[0]-g.width/2;else{var w=e.getBoxLayoutParams();w.aspect=_,g=ot.ME(w,{width:y,height:v})}this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}var rt=function(){function e(){this.dimensions=Qe}return e.prototype.create=function(e,t){var o=[];function n(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,r){var i=e.get("map"),a=new tt(i+r,i,s.extend({nameMap:e.get("nameMap")},n(e)));a.zoomLimit=e.get("scaleLimit"),o.push(a),e.coordinateSystem=a,a.model=e,a.resize=nt,a.resize(e,t)})),e.eachSeries((function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=o[t]}}));var r={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();r[t]=r[t]||[],r[t].push(e)}})),s.each(r,(function(e,r){var i=s.map(e,(function(e){return e.get("nameMap")})),a=new tt(r,r,s.extend({nameMap:s.mergeAll(i)},n(e[0])));a.zoomLimit=s.retrieve.apply(null,s.map(e,(function(e){return e.get("scaleLimit")}))),o.push(a),a.resize=nt,a.resize(e[0],t),s.each(e,(function(e){e.coordinateSystem=a,function(e,t){s.each(t.get("geoCoord"),(function(t,o){e.addGeoCoord(o,t)}))}(a,e)}))})),o},e.prototype.getFilledRegions=function(e,t,o,n){for(var r=(e||[]).slice(),i=s.createHashMap(),a=0;a<r.length;a++)i.set(r[a].name,r[a]);var l=le.load(t,o,n);return s.each(l.regions,(function(e){var t=e.name;!i.get(t)&&r.push({name:t})})),r},e}();const it=new rt,at=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o}return(0,i.ZT)(t,e),t.prototype.init=function(e,t,o){var n=le.getGeoResource(e.map);if(n&&"geoJSON"===n.type){var r=e.itemStyle=e.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(e,o),de.Cc(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=it.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var o={};this._optionModelMap=s.reduce(t.regions||[],(function(t,n){var r=n.name;return r&&(t.set(r,new Xe.Z(n,e,e.ecModel)),n.selected&&(o[r]=!0)),t}),s.createHashMap()),t.selectedMap||(t.selectedMap=o)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Xe.Z(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var o=this.getRegionModel(e),n="normal"===t?o.get(["label","formatter"]):o.get(["emphasis","label","formatter"]),r={name:e};return s.isFunction(n)?(r.status=t,n(r)):s.isString(n)?n.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,o=t.selectedMode;o&&("multiple"!==o&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Be.Z);function st(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}var lt=o("../node_modules/echarts/lib/view/Component.js"),pt=o("../node_modules/echarts/lib/util/event.js");const ct=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.type=t.type,o.focusBlurEnabled=!0,o}return(0,i.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,o,n){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new Ae(o));var r=this._mapDraw;r.draw(e,t,o,this,n),r.group.on("click",this._handleRegionClick,this),r.group.silent=e.get("silent"),this.group.add(r.group),this.updateSelectStatus(e,t,o)},t.prototype._handleRegionClick=function(e){var t;(0,pt.o)(e.target,(function(e){return null!=(t=(0,ue.A)(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,o){var n=this;this._mapDraw.group.traverse((function(e){var t=(0,ue.A)(e).eventData;if(t)return n._model.isSelected(t.name)?o.enterSelect(e):o.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(lt.Z);function ut(e,t,o){le.registerMap(e,t,o)}function ht(e){function t(t,o){o.update="geo:updateSelectStatus",e.registerAction(o,(function(e,o){var n={},r=[];return o.eachComponent({mainType:"geo",query:e},(function(o){o[t](e.name);var i=o.coordinateSystem;(0,s.each)(i.regions,(function(e){n[e.name]=o.isSelected(e.name)||!1}));var a=[];(0,s.each)(n,(function(e,t){n[t]&&a.push(t)})),r.push({geoIndex:o.componentIndex,name:a})})),{selected:n,allSelected:r,name:e.name}}))}e.registerCoordinateSystem("geo",it),e.registerComponentModel(at),e.registerComponentView(ct),e.registerImpl("registerMap",ut),e.registerImpl("getMap",(function(e){return le.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,o){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){var r=t.coordinateSystem;if("geo"===r.type){var i=function(e,t,o,n){var r=e.getZoom(),i=e.getCenter(),a=t.zoom,s=e.projectedToPoint?e.projectedToPoint(i):e.dataToPoint(i);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(st(e,s),n)),null!=a){if(o){var l=o.min||0,p=o.max||1/0;a=Math.max(Math.min(r*a,p),l)/r}e.scaleX*=a,e.scaleY*=a;var c=(t.originX-e.x)*(a-1),u=(t.originY-e.y)*(a-1);e.x-=c,e.y-=u,e.updateTransform(),e.setCenter(st(e,s),n),e.setZoom(a*r)}return{center:e.getCenter(),zoom:e.getZoom()}}(r,e,t.get("scaleLimit"),o);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom),"series"===n&&(0,s.each)(t.seriesGroup,(function(e){e.setCenter(i.center),e.setZoom(i.zoom)}))}}))}))}(0,r.D)((function(e){(0,r.D)(ht),e.registerChartView(Fe),e.registerSeriesModel(Oe),e.registerLayout(He),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,ke),(0,Ve.y)("map",e.registerAction)}))}}]);
//# sourceMappingURL=../sourcemaps/vendors-node_modules_echarts_lib_chart_map_js.3cb9360bc12d1af81022cdc07e788a20.js.map