"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_profiling_profileEventsTable_tsx-app_utils_profiling_hooks_useProfileFilters_t-3f10e8"],{"./app/components/performanceDuration.tsx":(e,t,i)=>{i.d(t,{Z:()=>a});var n=i("./app/components/duration.tsx"),s=i("./app/utils.tsx"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){const t=function(e){return(0,s.ri)(e.nanoseconds)}(e)?e.nanoseconds/1e9:function(e){return(0,s.ri)(e.milliseconds)}(e)?e.milliseconds/1e3:e.seconds;return(0,r.tZ)(n.Z,{abbreviation:e.abbreviation,seconds:t,fixedDigits:2})}o.displayName="PerformanceDuration";const a=o},"./app/components/profiling/functionsMiniGrid.tsx":(e,t,i)=>{i.d(t,{EA:()=>h,nL:()=>f,q8:()=>g});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=i("../node_modules/react/index.js"),r=i("./app/components/links/link.tsx"),o=i("./app/components/loadingIndicator.tsx"),a=i("./app/components/performanceDuration.tsx"),l=i("./app/components/profiling/flex.tsx"),c=i("./app/locale.tsx"),p=i("./app/styles/space.tsx"),u=i("./app/utils.tsx"),d=i("./app/utils/profiling/routes.tsx"),m=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function f(e){const{organization:t,project:i,functions:n,onLinkClick:o}=e;return(0,m.BX)(x,{children:[(0,m.tZ)(y,{children:(0,c.t)("Slowest app functions")}),(0,m.tZ)(y,{align:"right",children:(0,c.t)("Total Self Time")}),(0,m.tZ)(y,{align:"right",children:(0,c.t)("Count")}),n&&n.map(((e,n)=>{if(!(0,u.ri)(e))return null;const l=e["examples()"][0].replaceAll("-","");return(0,m.BX)(s.Fragment,{children:[(0,m.tZ)(v,{title:e.function,children:(0,m.tZ)(Z,{children:(0,m.tZ)(r.Z,{to:(c=l,p=e.function,f=e.package,(0,d.u$)({orgSlug:t.slug,projectSlug:i.slug,profileId:c,frameName:p,framePackage:f})),onClick:o,children:e.function})})}),(0,m.tZ)(v,{align:"right",children:(0,m.tZ)(a.Z,{nanoseconds:e["sum()"],abbreviation:!0})}),(0,m.tZ)(v,{align:"right",children:(0,m.tZ)(w,{children:e["count()"]})})]},n);var c,p,f}))]})}function g(){return(0,m.tZ)(l.k,{align:"stretch",justify:"center",column:!0,h:"100%",children:(0,m.tZ)(l.k,{align:"center",justify:"center",children:(0,m.tZ)(o.Z,{mini:!0})})})}function h(){return(0,m.tZ)(l.k,{align:"stretch",justify:"center",column:!0,h:"100%",children:(0,m.tZ)(l.k,{align:"center",justify:"center",children:(0,c.t)("No functions data")})})}f.displayName="FunctionsMiniGrid",g.displayName="FunctionsMiniGridLoading",h.displayName="FunctionsMiniGridEmptyState";const x=(0,n.Z)("div",{target:"e1f47tm54"})({name:"z3l44r",styles:"display:grid;grid-template-columns:60% 20% 20%"}),y=(0,n.Z)("span",{target:"e1f47tm53"})("text-transform:uppercase;font-size:",(e=>e.theme.fontSizeExtraSmall),";font-weight:600;color:",(e=>e.theme.subText),";text-align:",(e=>e.align),";"),v=(0,n.Z)("div",{target:"e1f47tm52"})("font-size:",(e=>e.theme.fontSizeSmall),";text-align:",(e=>e.align),";padding:",(0,p.D)(.5)," 0px;"),w=(0,n.Z)("div",{target:"e1f47tm51"})({name:"2qga7i",styles:"text-align:right"}),Z=(0,n.Z)("div",{target:"e1f47tm50"})({name:"btttr4",styles:"min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis"})},"./app/components/profiling/profileEventsTable.tsx":(e,t,i)=>{i.d(t,{Q:()=>H});var n=i("../node_modules/react/index.js"),s=i("./app/components/count.tsx"),r=i("./app/components/dateTime.tsx"),o=i("./app/components/gridEditable/index.tsx"),a=i("./app/components/idBadge/projectBadge.tsx"),l=i("./app/components/links/link.tsx"),c=i("./app/components/performanceDuration.tsx"),p=i("./app/components/userMisery.tsx"),u=i("./app/components/version.tsx"),d=i("./app/locale.tsx"),m=i("./app/utils.tsx"),f=i("./app/utils/discover/fieldRenderers.tsx"),g=i("./app/utils/discover/styles.tsx"),h=i("./app/utils/events.tsx"),x=i("./app/utils/profiling/routes.tsx"),y=i("./app/utils/profiling/tableRenderer.tsx"),v=i("./app/utils/useLocation.tsx"),w=i("./app/utils/useOrganization.tsx"),Z=i("./app/utils/useProjects.tsx"),b=i("./app/views/discover/table/quickContext/quickContextWrapper.tsx"),k=i("./app/views/discover/table/quickContext/utils.tsx"),j=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),S=i("./app/components/hovercard.tsx"),_=i("./app/components/profiling/flex.tsx"),z=i("./app/components/profiling/functionsMiniGrid.tsx"),P=i("./app/components/profiling/textTruncateOverflow.tsx"),C=i("./app/styles/space.tsx"),F=i("./app/utils/analytics.tsx"),T=i("./app/utils/profiling/hooks/useProfilingTransactionQuickSummary.tsx"),q=i("./app/components/button.tsx"),E=i("./app/components/loadingIndicator.tsx"),L=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function I(e){const{project:t,transaction:i,organization:n}=e,{query:s}=(0,v.T)(),r=(0,x.R0)({query:s,orgSlug:n.slug,projectSlug:t.slug,transaction:i}),o=(0,L.tZ)(l.Z,{to:r,onClick:()=>(0,F.Gi)("profiling_views.go_to_transaction",{organization:n,source:"transaction_hovercard.trigger"}),children:i});return(0,L.tZ)(R,{delay:250,header:(0,L.BX)(_.k,{justify:"space-between",align:"center",children:[(0,L.tZ)(P.W,{children:i}),(0,L.tZ)(q.zx,{to:r,size:"xs",children:(0,d.t)("View Profiles")})]}),body:(0,L.tZ)(A,{transaction:i,project:t,organization:n}),showUnderline:!0,children:o})}function A(e){let{transaction:t,project:i,organization:s}=e;const{slowestProfile:r,slowestProfileQuery:o,slowestProfileDurationMultiplier:a,latestProfileQuery:p,latestProfile:u,functionsQuery:m,functions:f}=(0,T.d)({transaction:t,project:i,referrer:"api.profiling.transaction-hovercard"}),g=(e,t)=>(0,x.TH)({orgSlug:s.slug,projectSlug:i.slug,profileId:e,query:t});return(0,n.useEffect)((()=>{(0,F.Gi)("profiling_ui_events.transaction_hovercard_view",{organization:s})}),[s]),(0,L.BX)(_.k,{gap:(0,C.D)(3),column:!0,children:[(0,L.BX)(_.k,{justify:"space-between",children:[(0,L.tZ)(M,{title:(0,d.t)("Latest profile"),isLoading:p.isLoading,children:u?(0,L.tZ)(l.Z,{to:g(String(u["profile.id"])),onClick:()=>(0,F.Gi)("profiling_views.go_to_flamegraph",{organization:s,source:"transaction_hovercard.latest_profile"}),children:(0,h.XQ)(String(u["profile.id"]))}):"-"}),(0,L.tZ)(M,{title:(0,d.t)("Slowest profile"),isLoading:o.isLoading,children:r?(0,L.BX)(_.k,{gap:(0,C.D)(1),children:[(0,L.tZ)(c.Z,{milliseconds:a*r["transaction.duration"],abbreviation:!0}),(0,L.BX)(l.Z,{to:g(String(r["profile.id"])),onClick:()=>(0,F.Gi)("profiling_views.go_to_flamegraph",{organization:s,source:"transaction_hovercard.slowest_profile"}),children:["(",(0,h.XQ)(String(r["profile.id"])),")"]})]}):"-"})]}),(0,L.tZ)(_.k,{column:!0,h:125,children:(0,L.tZ)(D,{isLoading:m.isLoading,functions:f??[],organization:s,project:i,onLinkClick:()=>(0,F.Gi)("profiling_views.go_to_flamegraph",{organization:s,source:"transaction_hovercard.suspect_function"})})})]})}function D(e){return e.isLoading?(0,L.tZ)(z.q8,{}):e.functions&&0!==e.functions?.length?(0,L.tZ)(z.nL,{...e}):(0,L.tZ)(z.EA,{})}function M(e){const{title:t,children:i,isLoading:s}=e;return(0,L.BX)(_.k,{column:!0,gap:(0,C.D)(1),children:[t&&(0,L.tZ)(B,{children:t}),(0,L.tZ)(n.Fragment,{children:s?(0,L.tZ)(_.k,{align:"center",justify:"center",h:"1em",children:(0,L.tZ)(E.Z,{mini:!0})}):i})]})}I.displayName="ProfilingTransactionHovercard",A.displayName="ProfilingTransactionHovercardBody",D.displayName="ProfilingTransactionHovercardFunctions",M.displayName="ContextDetail";const B=(0,j.Z)("span",{target:"e1gnxyp31"})("text-transform:uppercase;font-size:",(e=>e.theme.fontSizeExtraSmall),";font-weight:600;color:",(e=>e.theme.subText),";"),R=(0,j.Z)(S.uI,{target:"e1gnxyp30"})({name:"3s4yqf",styles:"width:400px"});function H(e){const t=(0,v.T)(),i=(0,w.Z)(),{projects:s}=(0,Z.Z)(),r=(0,n.useCallback)((i=>()=>{let n="desc";return i===e.sort.key&&e.sort.order===n&&(n="asc"),{...t,query:{...t.query,sort:"asc"===n?i:`-${i}`}}}),[t,e.sort]);return(0,L.tZ)(o.ZP,{isLoading:e.isLoading,error:e.error,data:e.data?.data??[],columnOrder:e.columns.map((e=>function(e){return G[e]?G[e]:{key:e,name:e,width:o.z7}}(e))),columnSortBy:[e.sort],grid:{renderHeadCell:(0,y.w)({currentSort:e.sort,generateSortLink:r,rightAlignedColumns:(c=e.columns,new Set(c.filter((e=>X.has(e))))),sortableColumns:e.sortableColumns}),renderBodyCell:(a=e.data?.meta??{fields:{},units:{}},l={location:t,organization:i,projects:s},function(e,t,i,n){return(0,L.tZ)(O,{meta:a,baggage:l,column:e,dataRow:t,rowIndex:i,columnIndex:n})})},location:t});var a,l,c}function O(e){const t=e.column.key,i=e.dataRow[t],n=e.meta.fields[t],o=e.meta.units[t];if("id"===t||"profile.id"===t){const t=N(e.baggage,e.dataRow);if(!(0,m.ri)(t))return(0,L.tZ)(g.W2,{children:(0,h.XQ)(i)});const n=(0,x.O$)({orgSlug:e.baggage.organization.slug,projectSlug:t.slug,profileId:i});return(0,L.tZ)(g.W2,{children:(0,L.tZ)(l.Z,{to:n,children:(0,h.XQ)(i)})})}if("project.id"===t||"project"===t||"project.name"===t){const t=N(e.baggage,e.dataRow);return(0,m.ri)(t)?(0,L.tZ)(g.W2,{children:(0,L.tZ)(a.Z,{project:t,avatarSize:16})}):(0,L.tZ)(g.W2,{children:(0,d.t)("n/a")})}if("transaction"===t){const t=N(e.baggage,e.dataRow);if((0,m.ri)(t))return(0,L.tZ)(g.W2,{children:(0,L.tZ)(I,{transaction:i,project:t,organization:e.baggage.organization})})}if("release"===t&&i)return(0,L.tZ)(b.VB,{dataRow:e.dataRow,contextType:k.z.RELEASE,organization:e.baggage.organization,children:(0,L.tZ)(u.Z,{version:i,truncate:!0})});if("user_misery()"===t)return(0,L.tZ)(p.Z,{bars:10,barHeight:20,miserableUsers:void 0,miseryLimit:void 0,totalUsers:void 0,userMisery:i||0});switch(n){case"integer":case"number":return(0,L.tZ)(g.Hw,{children:(0,L.tZ)(s.Z,{value:i})});case"duration":const e=o?f.a_[o]??1:1;return(0,L.tZ)(g.Hw,{children:(0,L.tZ)(c.Z,{milliseconds:i*e,abbreviation:!0})});case"date":return(0,L.tZ)(g.W2,{children:(0,L.tZ)(r.Z,{date:i,year:!0,seconds:!0,timeZone:!0})});default:return(0,L.tZ)(g.W2,{children:i})}}function N(e,t){let i;if((0,m.ri)(t["project.id"])){const n=t["project.id"].toString();i=e.projects.find((e=>e.id===n))}else if((0,m.ri)(t.project)){const n=t.project;i=e.projects.find((e=>e.slug===n))}else if((0,m.ri)(t["project.name"])){const n=t["project.name"];i=e.projects.find((e=>e.slug===n))}return i??null}H.displayName="ProfileEventsTable";const X=new Set(["transaction.duration","profile.duration","p75()","p95()","p99()","count()"]),G={id:{key:"id",name:(0,d.t)("Profile ID"),width:o.z7},"profile.id":{key:"profile.id",name:(0,d.t)("Profile ID"),width:o.z7},trace:{key:"trace",name:(0,d.t)("Trace ID"),width:o.z7},"trace.transaction":{key:"trace.transaction",name:(0,d.t)("Transaction ID"),width:o.z7},transaction:{key:"transaction",name:(0,d.t)("Transaction"),width:o.z7},"transaction.duration":{key:"transaction.duration",name:(0,d.t)("Duration"),width:o.z7},"profile.duration":{key:"profile.duration",name:(0,d.t)("Duration"),width:o.z7},project:{key:"project",name:(0,d.t)("Project"),width:o.z7},"project.id":{key:"project.id",name:(0,d.t)("Project"),width:o.z7},"project.name":{key:"project.name",name:(0,d.t)("Project"),width:o.z7},environment:{key:"environment",name:(0,d.t)("Environment"),width:o.z7},timestamp:{key:"timestamp",name:(0,d.t)("Timestamp"),width:o.z7},release:{key:"release",name:(0,d.t)("Release"),width:o.z7},"platform.name":{key:"platform.name",name:(0,d.t)("Platform"),width:o.z7},"device.arch":{key:"device.arch",name:(0,d.t)("Device Architecture"),width:o.z7},"device.classification":{key:"device.classification",name:(0,d.t)("Device Classification"),width:o.z7},"device.locale":{key:"device.locale",name:(0,d.t)("Device Locale"),width:o.z7},"device.manufacturer":{key:"device.manufacturer",name:(0,d.t)("Device Manufacturer"),width:o.z7},"device.model":{key:"device.model",name:(0,d.t)("Device Model"),width:o.z7},"os.build":{key:"os.build",name:(0,d.t)("OS Build"),width:o.z7},"os.name":{key:"os.name",name:(0,d.t)("OS Name"),width:o.z7},"os.version":{key:"os.version",name:(0,d.t)("OS Version"),width:o.z7},"last_seen()":{key:"last_seen()",name:(0,d.t)("Last Seen"),width:o.z7},"p75()":{key:"p75()",name:(0,d.t)("P75"),width:o.z7},"p95()":{key:"p95()",name:(0,d.t)("P95()"),width:o.z7},"p99()":{key:"p99()",name:(0,d.t)("P99()"),width:o.z7},"count()":{key:"count()",name:(0,d.t)("Count()"),width:o.z7},"user_misery()":{key:"user_misery()",name:(0,d.t)("User Misery"),width:110}}},"./app/components/profiling/suspectFunctions/suspectFunctionsTable.tsx":(e,t,i)=>{i.d(t,{f:()=>R});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/core-js/modules/es.array.push.js"),i("../node_modules/react/index.js")),r=i("../node_modules/react-router/es/index.js"),o=i("./app/components/compactSelect/index.tsx"),a=i("./app/components/pagination.tsx"),l=i("./app/components/count.tsx"),c=i("./app/components/gridEditable/index.tsx"),p=i("./app/components/performanceDuration.tsx"),u=i("./app/components/links/link.tsx"),d=i("./app/locale.tsx"),m=i("./app/styles/space.tsx"),f=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){let{items:t}=e;const[i,n]=(0,s.useState)(!1),r=t[0];return(0,f.BX)(x,{expanded:i,children:[r&&(0,f.tZ)(h,{item:r}),t.length>1&&i&&t.slice(1,t.length).map((e=>(0,f.tZ)(h,{item:e},e.value))),t.length>1?(0,f.tZ)(v,{children:(0,f.tZ)("button",{onClick:()=>n(!i),children:i?(0,d.t)("[collapse]"):(0,d.t)("[+%s more]",t.length-1)})}):null]})}function h(e){let{item:t}=e;return(0,f.tZ)(y,{children:(0,f.tZ)(u.Z,{to:t.target,onClick:t?.onClick,children:t.value})})}g.displayName="ArrayLinks",h.displayName="LinkedItem";const x=(0,n.Z)("div",{target:"e153a8kj2"})("display:flex;flex-direction:",(e=>e.expanded?"column":"row"),";"),y=(0,n.Z)("span",{target:"e153a8kj1"})("flex-shrink:1;display:block;",(e=>e.theme.overflowEllipsis),";width:unset;"),v=(0,n.Z)("div",{target:"e153a8kj0"})("white-space:nowrap;& button{background:none;border:0;outline:none;padding:0;cursor:pointer;color:",(e=>e.theme.linkColor),";margin-left:",(0,m.D)(.5),";}");var w=i("./app/utils/analytics.tsx"),Z=i("./app/utils/discover/styles.tsx"),b=i("./app/utils/events.tsx"),k=i("./app/utils/profiling/routes.tsx"),j=i("./app/utils/profiling/tableRenderer.tsx"),S=i("./app/utils/useLocation.tsx"),_=i("./app/utils/useOrganization.tsx");function z(e){const t=(0,S.T)(),i=(0,_.Z)(),n=(0,s.useMemo)((()=>{const t=e.project;return t?e.functions.map((n=>{const s=n["examples()"]||[];return{...n,"examples()":s.map((s=>({value:(0,b.XQ)(s),onClick:()=>(0,w.Gi)("profiling_views.go_to_flamegraph",{organization:i,source:`${e.analyticsPageSource}.suspect_functions_table`}),target:(0,k.TH)({orgSlug:i.slug,projectSlug:t.slug,profileId:s,query:{frameName:n.function,framePackage:n.package}})})))}})):[]}),[i,e.project,e.functions,e.analyticsPageSource]),r=(0,s.useCallback)((i=>{if(!C.has(i))return()=>{};const n=e.sort.key!==i?"desc":"desc"===e.sort.order?"asc":"desc";return()=>({...t,query:{...t.query,functionsSort:`${"desc"===n?"-":""}${i}`}})}),[t,e.sort]);return(0,f.tZ)(c.ZP,{isLoading:e.isLoading,error:e.error,data:n,columnOrder:E.map((e=>L[e])),columnSortBy:[],grid:{renderHeadCell:(0,j.w)({currentSort:e.sort,rightAlignedColumns:P,sortableColumns:C,generateSortLink:r}),renderBodyCell:F},location:t})}z.displayName="FunctionsTable";const P=new Set(["p75()","sum()","count()"]),C=P;function F(e,t,i,n){return(0,f.tZ)(q,{column:e,dataRow:t,rowIndex:i,columnIndex:n})}F.displayName="renderFunctionsTableCell";const T=(0,n.Z)("span",{target:"e13dbyps0"})("color:",(e=>e.theme.gray300),";");function q(e){let{column:t,dataRow:i}=e;const n=i[t.key];switch(t.key){case"count()":return(0,f.tZ)(Z.Hw,{children:(0,f.tZ)(l.Z,{value:n})});case"p75()":case"sum()":return(0,f.tZ)(Z.Hw,{children:(0,f.tZ)(p.Z,{nanoseconds:n,abbreviation:!0})});case"examples()":return(0,f.tZ)(g,{items:n});case"function":case"package":const e=n||(0,f.tZ)(T,{children:(0,d.t)("Unknown")});return(0,f.tZ)(Z.W2,{children:e});default:return(0,f.tZ)(Z.W2,{children:n})}}const E=["function","package","count()","p75()","sum()","examples()"],L={function:{key:"function",name:(0,d.t)("Name"),width:c.z7},package:{key:"package",name:(0,d.t)("Package"),width:c.z7},"p75()":{key:"p75()",name:(0,d.t)("P75 Self Time"),width:c.z7},"sum()":{key:"sum()",name:(0,d.t)("Total Self Time"),width:c.z7},"count()":{key:"count()",name:(0,d.t)("Occurrences"),width:c.z7},"examples()":{key:"examples()",name:(0,d.t)("Example Profiles"),width:c.z7}};var I=i("./app/utils/profiling/hooks/useProfileFunctions.tsx"),A=i("./app/utils/profiling/hooks/utils.tsx"),D=i("./app/utils/queryString.tsx"),M=i("./app/utils/tokenizeSearch.tsx");const B="functionsCursor";function R(e){let{analyticsPageSource:t,project:i,transaction:n}=e;const[a,l]=(0,s.useState)("application"),c=(0,S.T)(),p=(0,s.useMemo)((()=>(0,D.ro)(c.query[B])),[c.query]),u=(0,s.useMemo)((()=>(0,A.k)((0,D.ro)(c.query.functionsSort),H,{key:"sum()",order:"desc"})),[c.query.functionsSort]),m=(0,s.useCallback)(((e,t,i)=>{r.browserHistory.push({pathname:t,query:{...i,[B]:e}})}),[]),g=(0,s.useMemo)((()=>{const e=new M.MY("");return e.setFilterValues("transaction",[n]),"application"===a?e.setFilterValues("is_application",["1"]):"system"===a&&e.setFilterValues("is_application",["0"]),e.formatString()}),[a,n]),h=(0,I.W)({fields:H,referrer:"api.profiling.profile-summary-functions-table",sort:u,query:g,limit:5,cursor:p});return(0,f.BX)(s.Fragment,{children:[(0,f.BX)(O,{children:[(0,f.tZ)(o.Z,{triggerProps:{prefix:(0,d.t)("Suspect Functions"),size:"xs"},value:a,options:[{label:(0,d.t)("All"),value:"all"},{label:(0,d.t)("Application"),value:"application"},{label:(0,d.t)("System"),value:"system"}],onChange:e=>{let{value:t}=e;return l(t)}}),(0,f.tZ)(N,{pageLinks:h.getResponseHeader?.("Link"),onCursor:m,size:"xs"})]}),(0,f.tZ)(z,{analyticsPageSource:t,error:h.isError?h.error.message:null,isLoading:h.isLoading,functions:h.isFetched?h.data?.data??[]:[],project:i,sort:u})]})}R.displayName="SuspectFunctionsTable";const H=["package","function","count()","p75()","sum()","examples()"],O=(0,n.Z)("div",{target:"e1qpwo4s1"})("display:flex;justify-content:space-between;margin-bottom:",(0,m.D)(1),";"),N=(0,n.Z)(a.Z,{target:"e1qpwo4s0"})("margin:0 0 0 ",(0,m.D)(1),";")},"./app/components/profiling/textTruncateOverflow.tsx":(e,t,i)=>{i.d(t,{W:()=>a});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=i("./app/styles/space.tsx"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){const{children:t,as:i="div",...n}=e;return(0,r.tZ)(i,{...n,title:t,children:t})}o.displayName="TextOverflow";const a=(0,n.Z)(o,{target:"eihcg730"})("min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:",(0,s.D)(1),";")},"./app/components/switchButton.tsx":(e,t,i)=>{i.d(t,{Z:()=>m});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=i("../node_modules/react/index.js"),r=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function o(e){let{forwardedRef:t,size:i="sm",isActive:n,forceActiveColor:s,isLoading:o,isDisabled:a,toggle:l,id:c,name:p,className:m,...f}=e;return(0,r.tZ)(u,{ref:t,id:c,name:p,type:"button",className:m,onClick:a?void 0:l,role:"checkbox","aria-checked":n,isLoading:o,disabled:a,isActive:n,size:i,"data-test-id":"switch",...f,children:(0,r.tZ)(d,{isDisabled:a,isActive:n,forceActiveColor:s,size:i})})}o.displayName="Switch";const a=e=>"sm"===e.size?16:24,l=e=>a(e)-("sm"===e.size?4:8),c=e=>"sm"===e.size?1:3,p=e=>e.isActive?c(e)+.875*a(e):c(e),u=(0,n.Z)("button",{target:"e1slsb9u1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset ",(e=>e.theme.dropShadowMedium),";height:",a,"px;width:",(e=>1.875*a(e)),"px;border-radius:",a,"px;transition:border 0.1s,box-shadow 0.1s;&[disabled]{cursor:not-allowed;}&:focus,&.focus-visible{outline:none;border-color:",(e=>e.theme.focusBorder),";box-shadow:",(e=>e.theme.focusBorder)," 0 0 0 1px;}"),d=(0,n.Z)("span",{target:"e1slsb9u0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",c,"px;transform:translateX(",p,"px);width:",l,"px;height:",l,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),m=(0,s.forwardRef)(((e,t)=>(0,r.tZ)(o,{...e,forwardedRef:t})))},"./app/utils/profiling/hooks/useProfileEvents.tsx":(e,t,i)=>{i.d(t,{G:()=>a});var n=i("./app/components/organizations/pageFilters/parse.tsx"),s=(i("./app/locale.tsx"),i("./app/utils.tsx"),i("./app/utils/queryClient.tsx")),r=i("./app/utils/useOrganization.tsx"),o=i("./app/utils/usePageFilters.tsx");function a(e){let{fields:t,limit:i,referrer:a,query:l,sort:c,cursor:p,enabled:u=!0,refetchOnMount:d=!0,datetime:m,projects:f}=e;const g=(0,r.Z)(),{selection:h}=(0,o.Z)();let x="profiles";g.features.includes("profiling-using-transactions")&&(x="discover",l=`has:profile.id ${l??""}`);const y=`/organizations/${g.slug}/events/`,v={query:{dataset:x,referrer:a,project:f||h.projects,environment:h.environments,...(0,n.fK)(m??h.datetime),field:t,per_page:i,query:l,sort:"asc"===c.order?c.key:`-${c.key}`,cursor:p}};return(0,s.WE)([y,v],{staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:d,retry:!1,enabled:u})}},"./app/utils/profiling/hooks/useProfileEventsStats.tsx":(e,t,i)=>{i.d(t,{z:()=>p}),i("../node_modules/core-js/modules/es.error.cause.js"),i("../node_modules/core-js/modules/es.array.push.js");var n=i("../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),s=i("./app/components/organizations/pageFilters/parse.tsx"),r=i("./app/utils/discover/fields.tsx"),o=i("./app/utils/profiling/units/units.ts"),a=i("./app/utils/useApi.tsx"),l=i("./app/utils/useOrganization.tsx"),c=i("./app/utils/usePageFilters.tsx");function p(e){let{yAxes:t,interval:i,query:r,referrer:o}=e;const p=(0,a.Z)(),d=(0,l.Z)(),{selection:m}=(0,c.Z)();let f="profiles";d.features.includes("profiling-using-transactions")&&(f="discover",r=`has:profile.id ${r??""}`);const g=`/organizations/${d.slug}/events-stats/`,h={query:{dataset:f,referrer:o,project:m.projects,environment:m.environments,...(0,s.fK)(m.datetime),yAxis:t,interval:i,query:r}},x=[g,h];return(0,n.a)({queryKey:x,queryFn:()=>p.requestPromise(g,{method:"GET",includeAllArgs:!0,query:h.query}).then((e=>function(e,t){if(0===e.length)return[{data:[],meta:{dataset:"profiles",end:0,start:0},timestamps:[]},t[1],t[2]];if(1===e.length){const{series:i,meta:n,timestamps:s}=u(e[0],t[0]);return[{data:[i],meta:n,timestamps:s},t[1],t[2]]}const i=[];let n={dataset:"profiles",end:-1,start:-1},s=[],r=!0;for(const o of e){const e=u(o,t[0][o]);if(r)n=e.meta,s=e.timestamps;else{if(n.start!==e.meta.start||n.end!==e.meta.end)throw new Error("Mismatching start/end times");if(s.length!==e.timestamps.length||s.some(((t,i)=>t!==e.timestamps[i])))throw new Error("Mismatching timestamps")}i.push(e.series),r=!1}return[{data:i,meta:n,timestamps:s},t[1],t[2]]}(t,e))),refetchOnWindowFocus:!1,retry:!1})}function u(e,t){const i="duration"===(t.meta.fields[e]??t.meta.fields[(0,r.LY)(e)])?(0,o.fr)(t.meta.units[e]??t.meta.units[(0,r.LY)(e)]??"nanoseconds","milliseconds"):e=>e,n={axis:e,values:[]},s={dataset:"profiles",end:t.end,start:t.start},a=[];for(let e=0;e<t.data.length;e++){const[s,r]=t.data[e];n.values.push(i(r[0].count)),a.push(s)}return{series:n,meta:s,timestamps:a}}},"./app/utils/profiling/hooks/useProfileFilters.tsx":(e,t,i)=>{i.d(t,{J:()=>a});var n=i("../node_modules/react/index.js"),s=i("./app/components/organizations/pageFilters/parse.tsx"),r=i("./app/utils/useApi.tsx"),o=i("./app/utils/useOrganization.tsx");function a(e){let{query:t,selection:i,disabled:a}=e;const c=(0,r.Z)(),p=(0,o.Z)(),[u,d]=(0,n.useState)({});return(0,n.useEffect)((()=>{if(!a&&i)return function(e,t,i,n){return e.requestPromise(`/organizations/${t.slug}/profiling/filters/`,{method:"GET",query:{query:i,project:n.projects,environment:n.environments,...(0,s.fK)(n.datetime)}})}(c,p,t,i).then((e=>{const t=e.reduce(((e,t)=>(l[t.key]&&(t.key=l[t.key],e[t.key]={...t,predefined:!0}),e)),{});d(t)})),()=>c.clear()}),[c,p,t,i,a]),u}const l={version:"release",device_locale:"device.locale",platform:"platform.name",transaction_name:"transaction",device_os_build_number:"os.build",device_os_name:"os.name",device_os_version:"os.version",device_model:"device.model",device_manufacturer:"device.manufacturer",device_classification:"device.classification"}},"./app/utils/profiling/hooks/useProfileFunctions.tsx":(e,t,i)=>{i.d(t,{W:()=>a});var n=i("./app/components/organizations/pageFilters/parse.tsx"),s=i("./app/utils/queryClient.tsx"),r=i("./app/utils/useOrganization.tsx"),o=i("./app/utils/usePageFilters.tsx");function a(e){let{fields:t,referrer:i,sort:a,cursor:l,datetime:c,enabled:p,limit:u,projects:d,query:m,refetchOnMount:f}=e;const g=(0,r.Z)(),{selection:h}=(0,o.Z)(),x=`/organizations/${g.slug}/events/`,y={query:{dataset:"profileFunctions",referrer:i,project:d||h.projects,environment:h.environments,...(0,n.fK)(c??h.datetime),field:t,per_page:u,query:m,sort:"asc"===a.order?a.key:`-${a.key}`,cursor:l}};return(0,s.WE)([x,y],{staleTime:0,refetchOnWindowFocus:!1,refetchOnMount:f,retry:!1,enabled:p})}},"./app/utils/profiling/hooks/useProfilingTransactionQuickSummary.tsx":(e,t,i)=>{i.d(t,{d:()=>c});var n=i("../node_modules/react/index.js"),s=i("./app/utils/discover/fieldRenderers.tsx"),r=i("./app/utils/profiling/hooks/useProfileEvents.tsx"),o=i("./app/utils/profiling/hooks/useProfileFunctions.tsx"),a=i("./app/utils/tokenizeSearch.tsx"),l=i("./app/views/profiling/profileSummary/content.tsx");function c(e){const{transaction:t,project:i,referrer:c,skipFunctions:u=!1,skipLatestProfile:d=!1,skipSlowestProfile:m=!1}=e,f={query:`transaction:"${t}"`,fields:(0,l.H)(i.platform),enabled:Boolean(t),limit:1,refetchOnMount:!1,projects:[i.id]},g=(0,r.G)({...f,referrer:`${c}.slowest`,sort:{key:"transaction.duration",order:"desc"},enabled:!m}),h=(0,r.G)({...f,referrer:`${c}.latest`,sort:{key:"timestamp",order:"desc"},enabled:!d}),x=(0,n.useMemo)((()=>{const e=new a.MY("");return e.setFilterValues("transaction",[t]),e.setFilterValues("is_application",["1"]),e.formatString()}),[t]),y=(0,o.W)({fields:p,referrer:`${c}.functions`,sort:{key:"sum()",order:"desc"},query:x,limit:5,enabled:!u}),v=g?.data?.data[0]??null,w=g.data?.meta.units["transaction.duration"],Z=w?s.a_[w]??1:1,b=h?.data?.data[0]??null,k=y?.data?.data;return{slowestProfileQuery:g,slowestProfile:v,slowestProfileDurationMultiplier:Z,latestProfileQuery:h,latestProfile:b,functionsQuery:y,functions:k,isLoading:g.isLoading||h.isLoading||y.isLoading}}const p=["package","function","count()","sum()","examples()"]},"./app/utils/profiling/hooks/utils.tsx":(e,t,i)=>{i.d(t,{Z:()=>o,k:()=>r});var n=i("./app/locale.tsx"),s=i("./app/utils.tsx");function r(e,t,i){const n="-"===(e=e||"")[0]?"desc":"asc",s="asc"===n?e:e.substring(1);return t.includes(s)?{key:s,order:n}:i}function o(e){if(!(0,s.ri)(e))return null;const t=e.responseJSON?.detail;if("string"==typeof t)return t;const i=t?.message;return"string"==typeof i?i:(0,n.t)("An unknown error occurred.")}},"./app/utils/profiling/tableRenderer.tsx":(e,t,i)=>{i.d(t,{w:()=>r});var n=i("./app/components/gridEditable/sortLink.tsx"),s=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{currentSort:t,generateSortLink:i,rightAlignedColumns:r,sortableColumns:o,onClick:a}=e;return function(e,l){return(0,s.tZ)(n.Z,{onClick:t=>a?.(e,t),align:r?.has(e.key)?"right":"left",title:e.name,direction:t?.key===e.key?t?.order:void 0,canSort:o?.has(e.key)||!1,generateSortLink:i?.(e.key)??(()=>{}),replace:!0})}}},"./app/views/profiling/landing/profileCharts.tsx":(e,t,i)=>{i.d(t,{A:()=>y});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/core-js/modules/es.error.cause.js"),i("../node_modules/react/index.js")),r=i("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),o=i("./app/components/charts/areaChart.tsx"),a=i("./app/components/charts/chartZoom.tsx"),l=i("./app/components/charts/styles.tsx"),c=i("./app/components/panels/panel.tsx"),p=i("./app/locale.tsx"),u=i("./app/styles/space.tsx"),d=i("./app/utils/discover/charts.tsx"),m=i("./app/utils/discover/fields.tsx"),f=i("./app/utils/profiling/hooks/useProfileEventsStats.tsx"),g=i("./app/utils/useRouter.tsx"),h=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=["count()","p99()","p95()","p75()"];function y(e){let{query:t,referrer:i,selection:n,hideCount:l,compact:c=!1}=e;const u=(0,g.Z)(),y=(0,r.u)(),b=(0,s.useMemo)((()=>l?x.filter((e=>"count()"!==e)):x),[l]),k=(0,f.z)({query:t,referrer:i,yAxes:b}),j=(0,s.useMemo)((()=>{if("success"!==k.status)return[];const e=k.data[0].timestamps.map((e=>1e3*e)),t=k.data[0].data.filter((e=>b.includes(e.axis))).map((t=>{if(e.length!==t.values.length)throw new Error("Invalid stats response");return"count()"===t.axis?{data:t.values.map(((t,i)=>({name:e[i],value:t??0}))),seriesName:t.axis,xAxisIndex:0,yAxisIndex:0}:{data:t.values.map(((t,i)=>({name:e[i],value:t??0}))),seriesName:t.axis,xAxisIndex:1,yAxisIndex:1}}));return t.sort(((e,t)=>b.indexOf(e.seriesName)-b.indexOf(t.seriesName))),t}),[k,b]);return(0,h.tZ)(a.Z,{router:u,...n?.datetime,children:e=>(0,h.BX)(v,{children:[(0,h.BX)(w,{children:[!l&&(0,h.tZ)(Z,{compact:!0,children:(0,p.t)("Profiles by Count")}),(0,h.tZ)(Z,{compact:!0,children:(0,p.t)("Profiles Duration")})]}),(0,h.tZ)(o.T,{height:c?150:300,series:j,grid:[{top:"32px",left:"24px",right:"52%",bottom:"16px"},{top:"32px",left:l?"24px":"52%",right:"24px",bottom:"16px"}],legend:{right:16,top:12,data:b.slice()},axisPointer:{link:[{xAxisIndex:[0,1]}]},xAxes:[{show:!l,gridIndex:0,type:"time"},{gridIndex:1,type:"time"}],yAxes:[{gridIndex:0,scale:!0,axisLabel:{color:y.chartLabel,formatter:e=>(0,d.gu)(e,"integer")}},{gridIndex:1,scale:!0,axisLabel:{color:y.chartLabel,formatter:e=>(0,d.gu)(e,"duration")}}],tooltip:{valueFormatter:(e,t)=>(0,d.CX)(e,(0,m.Px)(t))},isGroupedByDate:!0,showTimeInTooltip:!0,...e})]})})}y.displayName="ProfileCharts";const v=(0,n.Z)(c.Z,{target:"e1xfi5vp2"})("padding-top:",(0,u.D)(2),";"),w=(0,n.Z)("div",{target:"e1xfi5vp1"})({name:"ai16bo",styles:"width:100%;display:flex;flex-direction:row"}),Z=(0,n.Z)(l.Gh,{target:"e1xfi5vp0"})("flex-grow:1;margin-left:",(0,u.D)(2),";font-size:",(e=>e.compact?e.theme.fontSizeSmall:void 0),";")},"./app/views/profiling/profileSummary/content.tsx":(e,t,i)=>{i.d(t,{J:()=>se,H:()=>re});var n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/core-js/modules/es.array.push.js"),i("../node_modules/react/index.js")),r=i("../node_modules/react-router/es/index.js"),o=i("./app/components/compactSelect/index.tsx"),a=i("./app/components/layouts/thirds.tsx"),l=i("./app/components/pagination.tsx"),c=i("./app/components/emptyStateWarning.tsx"),p=i("./app/components/loadingIndicator.tsx"),u=i("./app/components/panels/panel.tsx"),d=i("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),m=i("../node_modules/gl-matrix/esm/vec2.js"),f=i("./app/components/button.tsx"),g=i("./app/components/profiling/flamegraph/flamegraphZoomView.tsx"),h=i("./app/components/profiling/flex.tsx"),x=i("./app/components/switchButton.tsx"),y=i("./app/locale.tsx"),v=i("./app/styles/space.tsx"),w=i("./app/utils.tsx"),Z=i("./app/utils/profiling/canvasScheduler.tsx"),b=i("./app/utils/profiling/canvasView.tsx"),k=i("./app/utils/profiling/flamegraph.ts"),j=i("./app/utils/profiling/flamegraph/hooks/useFlamegraphPreferences.ts"),S=i("./app/utils/profiling/flamegraph/hooks/useFlamegraphProfiles.tsx"),_=i("./app/utils/profiling/flamegraph/hooks/useFlamegraphState.ts"),z=i("./app/utils/profiling/flamegraph/useFlamegraphTheme.ts"),P=i("./app/utils/profiling/flamegraphCanvas.tsx"),C=i("./app/utils/profiling/gl/utils.ts"),F=i("./app/utils/profiling/renderers/flamegraphRendererWebGL.tsx"),T=i("./app/utils/profiling/speedscope.tsx"),q=i("./app/utils/useDevicePixelRatio.tsx"),E=i("./app/views/profiling/profileGroupProvider.tsx"),L=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const I=k.O.Empty();function A(e){const t=(0,q.j)(),i=(0,_.T)(),n=(0,E.A)(),r=(0,z.W)(),o=(0,z.P)(),a=(0,S.X)(),{colorCoding:l,sorting:c,view:p}=(0,j.K)(),{threadId:u}=a,[A,M]=(0,s.useState)(null),[B,R]=(0,s.useState)(null),H=(0,s.useMemo)((()=>new Z.o$),[]),O=(0,Z.IZ)(H),N=(0,s.useMemo)((()=>n.profiles.find((e=>e.threadId===u))),[n,u]),X=(0,s.useMemo)((()=>{if("number"!=typeof u)return I;if(!N)return I;const e=d.Yr({op:"import",name:"flamegraph.constructor"});e.setTag("sorting",c.split(" ").join("_")),e.setTag("view",p.split(" ").join("_"));const t=new k.O(N,u,{inverted:"bottom up"===p,sort:c,configSpace:void 0});return e.finish(),t}),[N,c,u,p]),G=(0,s.useMemo)((()=>{if(!A)return null;const e=r.SIZES.TIMELINE_HEIGHT*t;return new P.c(A,m.al(0,e))}),[t,A,r]),W=(0,s.useMemo)((()=>{if(!G)return null;const e=new b.i({canvas:G,model:X,options:{inverted:X.inverted,minWidth:X.profile.minFrameDuration,barHeight:r.SIZES.BAR_HEIGHT,depthOffset:r.SIZES.FLAMEGRAPH_DEPTH_OFFSET,configSpaceTransform:void 0}});return e.setConfigView(e.configView.withY(.75*e.configView.height)),e}),[X,G,r]);(0,s.useEffect)((()=>{const e=G?.logicalSpace.height;e&&o((t=>{const i=e/X.depth/t.SIZES.BAR_HEIGHT,n=Math.min(Math.max(.8,i),1.2);return t.SIZES.FLAMEGRAPH_DEPTH_OFFSET=2.5,t.SIZES.BAR_HEIGHT=t.SIZES.BAR_HEIGHT*n,t.SIZES.BAR_FONT_SIZE=t.SIZES.BAR_FONT_SIZE*n,t}))}),[X,o,G?.logicalSpace.height]),(0,s.useLayoutEffect)((()=>{if(!G||!W)return;const e=(e,t)=>{t===W&&W.setConfigView(e.withHeight(W.configView.height)),H.draw()},t=(e,t)=>{t===W&&W.transformConfigView(e),H.draw()},i=()=>{W.resetConfigView(G),H.draw()},n=(e,t)=>{const i=(0,C.SO)(t,W.configView,new T.UL(e.start,e.depth,e.end-e.start,1)).transformRect(W.configSpaceTransform);W.setConfigView(i),H.draw()};return O.on("set config view",e),O.on("transform config view",t),O.on("reset zoom",i),O.on("zoom at frame",n),()=>{O.off("set config view",e),O.off("transform config view",t),O.off("reset zoom",i),O.off("zoom at frame",n)}}),[H,G,W,O]);const V=(0,s.useMemo)((()=>[A,B]),[A,B]),$=(0,C.DB)(V,H,G,W),Q=(0,s.useMemo)((()=>A?new F.l(A,X,r,{colorCoding:l,draw_border:!0}):null),[l,X,A,r]);return(0,s.useEffect)((()=>{if((0,w.ri)(a.threadId))return;const e="number"==typeof n.activeProfileIndex?n.profiles[n.activeProfileIndex]?.threadId:null;(0,w.ri)(e)&&i({type:"set thread id",payload:e})}),[n,a.threadId,i]),(0,L.BX)(s.Fragment,{children:[(0,L.tZ)(g.L,{canvasBounds:$,canvasPoolManager:H,flamegraph:X,flamegraphRenderer:Q,flamegraphCanvas:G,flamegraphCanvasRef:A,flamegraphOverlayCanvasRef:B,flamegraphView:W,setFlamegraphCanvasRef:M,setFlamegraphOverlayCanvasRef:R,disablePanX:!0,disableZoom:!0,disableGrid:!0,disableCallOrderSort:!0}),(0,L.tZ)(D,{children:(0,L.BX)(h.k,{justify:"space-between",align:"center",children:[(0,L.tZ)(f.zx,{size:"xs",onClick:()=>O.dispatch("reset zoom"),children:(0,y.t)("Reset Zoom")}),(0,L.BX)(h.k,{align:"center",gap:(0,v.D)(1),children:[(0,L.tZ)("span",{children:(0,y.t)("Hide System Frames")}),(0,L.tZ)(x.Z,{toggle:()=>e.setHideSystemFrames(!e.hideSystemFrames),isActive:e.hideSystemFrames})]})]})})]})}A.displayName="AggregateFlamegraph";const D=(0,n.Z)("div",{target:"e18qe88l0"})("position:absolute;left:0;top:0;padding:",(0,v.D)(1),";padding-left:",(0,v.D)(1),";background-color:rgba(255, 255, 255, 0.6);width:100%;");var M=i("./app/components/questionTooltip.tsx"),B=i("./app/utils/profiling/flamegraph/flamegraphStateProvider/flamegraphContextProvider.tsx"),R=i("./app/utils/profiling/flamegraph/flamegraphThemeProvider.tsx"),H=i("./app/components/organizations/pageFilters/parse.tsx"),O=i("./app/utils/queryClient.tsx"),N=i("./app/utils/tokenizeSearch.tsx"),X=i("./app/utils/useOrganization.tsx"),G=i("./app/utils/usePageFilters.tsx"),W=i("./app/utils/useLocalStorageState.ts");function V(e){let{transaction:t}=e;const[i,n]=(0,W.R)("profiling-flamegraph-collapsed-frames",!0),{data:r,isLoading:o}=function(e){let{transaction:t}=e;const i=(0,X.Z)(),{selection:n}=(0,G.Z)(),r=`/organizations/${i.slug}/profiling/flamegraph/`,o=(0,s.useMemo)((()=>{const e=new N.MY([]);return e.setFilterValues("transaction",[t]),e.formatString()}),[t]),a={query:{project:n.projects,environment:n.environments,...(0,H.fK)(n.datetime),query:o}};return(0,O.WE)([r,a],{staleTime:0,retry:!1})}({transaction:t}),a=0===r?.shared.frames.length;return(0,L.BX)(h.k,{column:!0,gap:(0,v.D)(1),children:[(0,L.BX)(h.k,{align:"center",gap:(0,v.D)(.5),children:[(0,L.tZ)(Q,{children:(0,y.t)("Flamegraph")}),(0,L.tZ)(M.Z,{size:"sm",position:"right",isHoverable:!0,title:(0,L.BX)(K,{children:[(0,L.tZ)("p",{children:(0,y.t)("An aggregate of profiles for this transaction.")}),(0,L.tZ)("p",{children:(0,y.t)("Navigate the flamegraph by scrolling and by double clicking a frame to zoom.")})]})})]}),(0,L.tZ)(E.D,{type:"flamegraph",input:r??null,traceID:"",frameFilter:i?$:void 0,children:(0,L.tZ)(B.H,{initialState:{preferences:{sorting:"alphabetical",view:"bottom up"}},children:(0,L.tZ)(R.s6,{children:(0,L.tZ)(u.Z,{children:(0,L.tZ)(h.k,{h:400,column:!0,justify:"center",children:o?(0,L.tZ)(p.Z,{children:(0,y.t)("Loading Flamegraph")}):a?(0,L.tZ)(c.Z,{children:(0,L.tZ)("p",{children:(0,y.t)("A flamegraph isn't available for your query")})}):(0,L.tZ)(A,{hideSystemFrames:i,setHideSystemFrames:n})})})})})})]})}function $(e){return e.is_application}V.displayName="AggregateFlamegraphPanel";const Q=(0,n.Z)("span",{target:"ec362bp1"})((e=>e.theme.text.cardTitle),";color:",(e=>e.theme.headingColor),";font-size:",(e=>e.theme.fontSizeMedium),";"),K=(0,n.Z)("div",{target:"ec362bp0"})({name:"ukj0u0",styles:"& p{text-align:left;}& p:last-child{margin-bottom:0;}"});var U=i("./app/components/profiling/profileEventsTable.tsx"),Y=i("./app/components/profiling/suspectFunctions/suspectFunctionsTable.tsx"),J=i("./app/data/platformCategories.tsx"),ee=i("./app/utils/profiling/hooks/useProfileEvents.tsx"),te=i("./app/utils/profiling/hooks/utils.tsx"),ie=i("./app/utils/queryString.tsx"),ne=i("./app/views/profiling/landing/profileCharts.tsx");function se(e){const t=(0,s.useMemo)((()=>re(e.project.platform)),[e.project]),i=(0,s.useMemo)((()=>(0,ie.ro)(e.location.query.cursor)),[e.location.query.cursor]),n=(0,te.k)((0,ie.ro)(e.location.query.sort),t,{key:"timestamp",order:"desc"}),l=(0,ee.G)({cursor:i,fields:t,query:e.query,sort:n,limit:5,referrer:"api.profiling.profile-summary-table"}),c=(0,s.useCallback)((t=>{r.browserHistory.push({...e.location,query:{...e.location.query,cursor:void 0,sort:t}})}),[e.location]);return(0,L.tZ)(s.Fragment,{children:(0,L.BX)(a.or,{fullWidth:!0,children:[(0,L.tZ)(ne.A,{referrer:"api.profiling.profile-summary-chart",query:e.query,hideCount:!0,compact:!0}),(0,L.tZ)(V,{transaction:e.transaction}),(0,L.tZ)(Y.f,{project:e.project,transaction:e.transaction,analyticsPageSource:"profiling_transaction"}),(0,L.BX)(ce,{children:[(0,L.tZ)(o.Z,{triggerProps:{prefix:(0,y.t)("Filter"),size:"xs"},value:"asc"===n.order?n.key:`-${n.key}`,options:le,onChange:e=>c(e.value)}),(0,L.tZ)(pe,{pageLinks:"success"===l.status?l.getResponseHeader?.("Link")??null:null,size:"xs"})]}),(0,L.tZ)(U.Q,{columns:t,data:"success"===l.status?l.data:null,error:"error"===l.status?(0,y.t)("Unable to load profiles"):null,isLoading:"loading"===l.status,sort:n})]})})}function re(e){return J.ai.includes(e)?oe:ae}se.displayName="ProfileSummaryContent";const oe=["profile.id","timestamp","release","device.model","device.classification","device.arch","transaction.duration"],ae=["profile.id","timestamp","release","transaction.duration"],le=[{label:(0,y.t)("Recent Profiles"),value:"-timestamp"},{label:(0,y.t)("Slowest Profiles"),value:"-transaction.duration"},{label:(0,y.t)("Fastest Profiles"),value:"transaction.duration"}],ce=(0,n.Z)("div",{target:"etsf1iv1"})("display:flex;justify-content:space-between;margin-bottom:",(0,v.D)(1),";"),pe=(0,n.Z)(l.Z,{target:"etsf1iv0"})("margin:0 0 0 ",(0,v.D)(1),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_profiling_profileEventsTable_tsx-app_utils_profiling_hooks_useProfileFilters_t-3f10e8.23fe4657d6f72094358634687476fa88.js.map