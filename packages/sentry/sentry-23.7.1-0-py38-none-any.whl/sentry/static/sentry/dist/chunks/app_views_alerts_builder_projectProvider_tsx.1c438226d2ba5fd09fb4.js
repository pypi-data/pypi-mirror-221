"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_alerts_builder_projectProvider_tsx"],{"./app/views/alerts/builder/projectProvider.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r("../node_modules/react/index.js"),s=r("./app/actionCreators/members.tsx"),i=r("./app/actionCreators/navigation.tsx"),n=r("./app/components/alert.tsx"),a=r("./app/components/loadingIndicator.tsx"),l=r("./app/locale.tsx"),p=r("./app/utils/useApi.tsx"),c=r("./app/utils/useIsMountedRef.tsx"),u=r("./app/utils/useProjects.tsx"),d=r("./app/utils/useScrollToTop.tsx"),m=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function g(e){const t=(0,p.Z)(),r=(0,c.X)(),[g,j]=(0,o.useState)(void 0);(0,d.Z)({location:e.location});const{children:x,params:f,organization:h,...b}=e,v=f.projectId||e.location.query.project,w=void 0===v,{projects:Z,initiallyLoaded:_,fetching:y,fetchError:T}=(0,u.Z)(),k=w?Z.find((e=>e.isMember))??(Z.length&&Z[0]):Z.find((e=>{let{slug:t}=e;return t===v}));return(0,o.useEffect)((()=>{k&&(0,s.MA)(t,h.slug,[k.id]).then((e=>{r.current&&j(e)}))}),[t,h,r,k]),!_||y?(0,m.tZ)(a.Z,{}):(k||T||(0,i.T)(`/organizations/${h.slug}/alerts/wizard/?referrer=${e.location.query.referrer}&project=:projectId`,e.router),!k||T?(0,m.tZ)(n.bZ,{type:"warning",children:(0,l.t)("The project you were looking for was not found.")}):(0,m.tZ)(o.Fragment,{children:x&&(0,o.isValidElement)(x)?(0,o.cloneElement)(x,{...b,...x.props,project:k,projectId:w?k.slug:v,organization:h,members:g}):x}))}g.displayName="AlertBuilderProjectProvider";const j=g}}]);
//# sourceMappingURL=../sourcemaps/app_views_alerts_builder_projectProvider_tsx.47173346c7ab120b48e99a30f898a71c.js.map