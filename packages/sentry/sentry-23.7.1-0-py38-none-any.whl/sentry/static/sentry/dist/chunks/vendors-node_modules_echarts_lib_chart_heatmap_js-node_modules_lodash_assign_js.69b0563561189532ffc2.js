(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_echarts_lib_chart_heatmap_js-node_modules_lodash_assign_js"],{"../node_modules/echarts/lib/chart/heatmap.js":(e,t,a)=>{"use strict";var i=a("../node_modules/echarts/lib/extension.js"),n=a("../node_modules/echarts/node_modules/tslib/tslib.es6.js"),r=a("../node_modules/echarts/lib/util/graphic.js"),s=a("../node_modules/zrender/lib/graphic/shape/Rect.js"),o=a("../node_modules/zrender/lib/graphic/Image.js"),l=a("../node_modules/echarts/lib/util/states.js"),d=a("../node_modules/zrender/lib/core/platform.js");const h=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=d.qW.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,a,i,n,r){var s=this._getBrush(),o=this._getGradient(n,"inRange"),l=this._getGradient(n,"outOfRange"),d=this.pointSize+this.blurSize,h=this.canvas,u=h.getContext("2d"),p=e.length;h.width=t,h.height=a;for(var c=0;c<p;++c){var g=e[c],m=g[0],y=g[1],v=i(g[2]);u.globalAlpha=v,u.drawImage(s,m-d,y-d)}if(!h.width||!h.height)return h;for(var f=u.getImageData(0,0,h.width,h.height),_=f.data,b=0,S=_.length,x=this.minOpacity,j=this.maxOpacity-x;b<S;){v=_[b+3]/256;var O=4*Math.floor(255*v);if(v>0){var C=r(v)?o:l;v>0&&(v=v*j+x),_[b++]=C[O],_[b++]=C[O+1],_[b++]=C[O+2],_[b++]=C[O+3]*v*256}else b+=4}return u.putImageData(f,0,0),h},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=d.qW.createCanvas()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var i=e.getContext("2d");return i.clearRect(0,0,a,a),i.shadowOffsetX=a,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),e},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,i=a[t]||(a[t]=new Uint8ClampedArray(1024)),n=[0,0,0,0],r=0,s=0;s<256;s++)e[t](s/255,!0,n),i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],i[r++]=n[3];return i},e}();var u=a("../node_modules/zrender/lib/core/util.js"),p=a("../node_modules/echarts/lib/view/Chart.js"),c=a("../node_modules/echarts/lib/coord/CoordinateSystem.js"),g=a("../node_modules/echarts/lib/label/labelStyle.js");function m(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}const y=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.render=function(e,t,a){var i;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(a){a===e&&(i=t)}))})),this._progressiveEls=null,this.group.removeAll();var n=e.coordinateSystem;"cartesian2d"===n.type||"calendar"===n.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):m(n)&&this._renderOnGeo(n,e,i,a)},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,a,i){var n=t.coordinateSystem;n&&(m(n)?this.render(t,a,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,i,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){r.traverseElements(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,a,i,n){var r,o,d,h,u=e.coordinateSystem,p=(0,c.H)(u,"cartesian2d");if(p){var m=u.getAxis("x"),y=u.getAxis("y");r=m.getBandWidth()+.5,o=y.getBandWidth()+.5,d=m.scale.getExtent(),h=y.scale.getExtent()}for(var v=this.group,f=e.getData(),_=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),x=e.get(["itemStyle","borderRadius"]),j=(0,g.k3)(e),O=e.getModel("emphasis"),C=O.get("focus"),w=O.get("blurScope"),z=O.get("disabled"),M=p?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],I=a;I<i;I++){var R=void 0,D=f.getItemVisual(I,"style");if(p){var A=f.get(M[0],I),P=f.get(M[1],I);if(isNaN(f.get(M[2],I))||A<d[0]||A>d[1]||P<h[0]||P>h[1])continue;var k=u.dataToPoint([A,P]);R=new s.Z({shape:{x:k[0]-r/2,y:k[1]-o/2,width:r,height:o},style:D})}else{if(isNaN(f.get(M[1],I)))continue;R=new s.Z({z2:1,shape:u.dataToRect([f.get(M[0],I)]).contentShape,style:D})}if(f.hasItemOption){var T=f.getItemModel(I),E=T.getModel("emphasis");_=E.getModel("itemStyle").getItemStyle(),b=T.getModel(["blur","itemStyle"]).getItemStyle(),S=T.getModel(["select","itemStyle"]).getItemStyle(),x=T.get(["itemStyle","borderRadius"]),C=E.get("focus"),w=E.get("blurScope"),z=E.get("disabled"),j=(0,g.k3)(T)}R.shape.r=x;var Z=e.getRawValue(I),V="-";Z&&null!=Z[2]&&(V=Z[2]+""),(0,g.ni)(R,j,{labelFetcher:e,labelDataIndex:I,defaultOpacity:D.opacity,defaultText:V}),R.ensureState("emphasis").style=_,R.ensureState("blur").style=b,R.ensureState("select").style=S,(0,l.k5)(R,C,w,z),R.incremental=n,n&&(R.states.emphasis.hoverLayer=!0),v.add(R),f.setItemGraphicEl(I,R),this._progressiveEls&&this._progressiveEls.push(R)}},t.prototype._renderOnGeo=function(e,t,a,i){var n=a.targetVisuals.inRange,r=a.targetVisuals.outOfRange,s=t.getData(),l=this._hmLayer||this._hmLayer||new h;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var d=e.getViewRect().clone(),p=e.getRoamTransform();d.applyTransform(p);var c=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,i.getWidth()),y=Math.min(d.height+d.y,i.getHeight()),v=m-c,f=y-g,_=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],b=s.mapArray(_,(function(t,a,i){var n=e.dataToPoint([t,a]);return n[0]-=c,n[1]-=g,n.push(i),n})),S=a.getExtent(),x="visualMap.continuous"===a.type?function(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}(S,a.option.range):function(e,t,a){var i=e[1]-e[0],n=(t=u.map(t,(function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}))).length,r=0;return function(e){var i;for(i=r;i<n;i++)if((s=t[i].interval)[0]<=e&&e<=s[1]){r=i;break}if(i===n)for(i=r-1;i>=0;i--){var s;if((s=t[i].interval)[0]<=e&&e<=s[1]){r=i;break}}return i>=0&&i<n&&a[i]}}(S,a.getPieceList(),a.option.selected);l.update(b,v,f,n.color.getNormalizer(),{inRange:n.color.getColorMapper(),outOfRange:r.color.getColorMapper()},x);var j=new o.ZP({style:{width:v,height:f,x:c,y:g,image:l.canvas},silent:!0});this.group.add(j)},t.type="heatmap",t}(p.Z);var v=a("../node_modules/echarts/lib/model/Series.js"),f=a("../node_modules/echarts/lib/chart/helper/createSeriesData.js"),_=a("../node_modules/echarts/lib/core/CoordinateSystem.js");const b=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,f.Z)(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=_.Z.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(v.Z);(0,i.D)((function(e){e.registerChartView(y),e.registerSeriesModel(b)}))},"../node_modules/lodash/assign.js":(e,t,a)=>{var i=a("../node_modules/lodash/_assignValue.js"),n=a("../node_modules/lodash/_copyObject.js"),r=a("../node_modules/lodash/_createAssigner.js"),s=a("../node_modules/lodash/isArrayLike.js"),o=a("../node_modules/lodash/_isPrototype.js"),l=a("../node_modules/lodash/keys.js"),d=Object.prototype.hasOwnProperty,h=r((function(e,t){if(o(t)||s(t))n(t,l(t),e);else for(var a in t)d.call(t,a)&&i(e,a,t[a])}));e.exports=h}}]);
//# sourceMappingURL=../sourcemaps/vendors-node_modules_echarts_lib_chart_heatmap_js-node_modules_lodash_assign_js.31a4fcd17f83bf3ae7f729645f29f557.js.map