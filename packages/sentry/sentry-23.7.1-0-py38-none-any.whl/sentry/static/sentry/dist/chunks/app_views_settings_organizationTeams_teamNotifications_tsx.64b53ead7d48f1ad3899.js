"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationTeams_teamNotifications_tsx"],{"./app/components/panels/panelHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a=n("./app/styles/space.tsx");const o=e=>{let{disablePadding:t,hasButtons:n}=e;return(0,i.iv)("padding:",n?(0,a.D)(1):(0,a.D)(2)," ",t?0:(0,a.D)(2),";","")},r=(0,s.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",o,";")},"./app/views/deprecatedAsyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var s=n("./app/components/deprecatedAsyncComponent.tsx"),i=n("./app/components/sentryDocumentTitle.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends s.Z{getTitle(){return""}render(){return(0,a.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}o.displayName="DeprecatedAsyncView"},"./app/views/settings/organizationTeams/teamNotifications.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=n("../node_modules/react/index.js"),o=n("./app/actionCreators/indicator.tsx"),r=n("./app/components/acl/access.tsx"),l=n("./app/components/button.tsx"),c=n("./app/components/confirm.tsx"),d=n("./app/components/emptyMessage.tsx"),p=n("./app/components/forms/fields/textField.tsx"),m=n("./app/components/links/externalLink.tsx"),h=n("./app/components/panels/panel.tsx"),u=n("./app/components/panels/panelBody.tsx"),g=n("./app/components/panels/panelHeader.tsx"),x=n("./app/components/tooltip.tsx"),Z=n("./app/icons/index.tsx"),y=n("./app/locale.tsx"),f=n("./app/styles/space.tsx"),b=n("./app/utils.tsx"),w=n("./app/utils/withOrganization.tsx"),k=n("./app/views/deprecatedAsyncView.tsx"),v=n("./app/views/settings/project/permissionAlert.tsx"),j=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const z="https://docs.sentry.io/product/integrations/notification-incidents/slack/#team-notifications",D=["slack"];class T extends k.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleDelete",(async e=>{try{const{organization:t,team:n}=this.props,s=`/teams/${t.slug}/${n.slug}/external-teams/${e.id}/`;await this.api.requestPromise(s,{method:"DELETE"}),(0,o.S9)((0,y.t)("Deletion successful")),this.fetchData()}catch{(0,o.Iw)((0,y.t)("An error occurred"))}}))}getTitle(){return"Team Notification Settings"}getEndpoints(){const{organization:e,team:t}=this.props;return[["teamDetails",`/teams/${e.slug}/${t.slug}/`,{query:{expand:["externalTeams"]}}],["integrations",`/organizations/${e.slug}/integrations/`,{query:{includeConfig:0}}]]}renderBody(){const{team:e}=this.props;return(0,j.BX)(a.Fragment,{children:[(0,j.tZ)(v.Z,{access:["team:write"],team:e}),(0,j.BX)(h.Z,{children:[(0,j.tZ)(g.Z,{children:(0,y.t)("Notifications")}),(0,j.tZ)(u.Z,{children:this.renderPanelBody()})]})]})}renderPanelBody(){const{organization:e,team:t}=this.props,{teamDetails:n,integrations:s}=this.state,i=s.filter((e=>D.includes(e.provider.key)));if(!i.length)return(0,j.tZ)(d.Z,{children:(0,y.t)("No Notification Integrations have been installed yet.")});const a=(n.externalTeams||[]).filter((e=>D.includes(e.provider)));if(!a.length)return(0,j.BX)(d.Z,{children:[(0,j.tZ)("div",{children:(0,y.t)("No teams have been linked yet.")}),(0,j.tZ)(N,{children:(0,y._N)("Head over to Slack and type [code] to get started. [link].",{code:(0,j.tZ)("code",{children:"/sentry link team"}),link:(0,j.tZ)(m.Z,{href:z,children:(0,y.t)("Learn more")})})})]});const o=Object.fromEntries(i.map((e=>[e.id,e]))),p=(0,r.d)(["team:write"],{organization:e,team:t});return a.map((e=>(0,j.BX)(S,{children:[(0,j.tZ)(A,{disabled:!0,label:(0,j.BX)("div",{children:[(0,j.BX)(B,{children:[(0,b.LF)(e.provider),":",o[e.integrationId].name]}),(0,j.tZ)(N,{children:(0,y._N)("Unlink this channel in Slack with [code]. [link].",{code:(0,j.tZ)("code",{children:"/sentry unlink team"}),link:(0,j.tZ)(m.Z,{href:z,children:(0,y.t)("Learn more")})})})]}),labelText:(0,y.t)("Unlink this channel in slack with `/slack unlink team`"),name:"externalName",value:e.externalName}),(0,j.tZ)(C,{children:(0,j.tZ)(x.u,{title:(0,y.t)("You must be an organization owner, manager or admin to remove a Slack team link"),disabled:p,children:(0,j.tZ)(c.Z,{disabled:!p,onConfirm:()=>this.handleDelete(e),message:(0,y.t)("Are you sure you want to remove this Slack team link?"),children:(0,j.tZ)(l.zx,{size:"sm",icon:(0,j.tZ)(Z.Fz,{size:"md"}),"aria-label":(0,y.t)("delete"),disabled:!p})})})})]},e.id)))}}const _=(0,w.Z)(T),B=(0,i.Z)("div",{target:"e84f6wt4"})("color:",(e=>e.theme.textColor),";line-height:",(0,f.D)(2),";"),N=(0,i.Z)("div",{target:"e84f6wt3"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;margin-top:",(0,f.D)(1),";"),S=(0,i.Z)("div",{target:"e84f6wt2"})({name:"1dmiggy",styles:"display:flex;align-items:center;justify-content:flex-start"}),A=(0,i.Z)(p.Z,{target:"e84f6wt1"})({name:"82a6rk",styles:"flex:1"}),C=(0,i.Z)("div",{target:"e84f6wt0"})("margin-right:",(0,f.D)(4),";padding-right:",(0,f.D)(.5),";")},"./app/views/settings/project/permissionAlert.tsx":(e,t,n)=>{n.d(t,{Z:()=>c});var s=n("./app/components/acl/access.tsx"),i=n("./app/components/alert.tsx"),a=n("./app/locale.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=(0,a.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.");function l(e){let{access:t=["project:write"],project:n,team:a,...l}=e;return(0,o.tZ)(s.Z,{access:t,project:n,team:a,children:e=>{let{hasAccess:t}=e;return!t&&(0,o.tZ)(i.bZ,{"data-test-id":"project-permission-alert",type:"warning",...l,children:r})}})}l.displayName="PermissionAlert";const c=l}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationTeams_teamNotifications_tsx.d3059766dd291cd10eba11da1e16c685.js.map