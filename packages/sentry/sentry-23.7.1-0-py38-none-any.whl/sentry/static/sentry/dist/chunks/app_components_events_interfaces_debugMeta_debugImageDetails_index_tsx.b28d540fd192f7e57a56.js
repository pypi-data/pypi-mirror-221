"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_interfaces_debugMeta_debugImageDetails_index_tsx"],{"./app/components/events/interfaces/debugMeta/debugImageDetails/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{DebugImageDetails:()=>tt,modalCss:()=>ot});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=s("../node_modules/lodash/partition.js"),l=s.n(r),d=s("../node_modules/lodash/sortBy.js"),c=s.n(d),u=s("./app/actionCreators/indicator.tsx"),p=s("./app/components/button.tsx"),m=s("./app/components/buttonBar.tsx"),h=s("./app/components/deprecatedAsyncComponent.tsx"),g=s("./app/locale.tsx"),f=s("./app/styles/space.tsx"),b=s("./app/types/debugFiles.tsx"),y=s("./app/types/debugImage.tsx"),Z=s("./app/utils/displayReprocessEventAction.tsx"),w=s("./app/utils/theme.tsx"),v=s("./app/views/settings/projectDebugFiles/utils.tsx"),x=s("./app/components/events/interfaces/debugMeta/utils.tsx"),D=s("../node_modules/lodash/debounce.js"),S=s.n(D),_=s("../node_modules/lodash/isEqual.js"),E=s.n(_),T=s("../node_modules/lodash/pick.js"),B=s.n(T),F=s("./app/components/links/externalLink.tsx"),k=s("./app/components/panels/panelTable.tsx"),C=s("./app/components/questionTooltip.tsx"),N=s("./app/utils.tsx"),O=s("./app/components/events/interfaces/searchBarAction.tsx"),R=(s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js")),I=s("./app/components/tag.tsx"),U=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j=function(e){let{status:t,...s}=e;switch(t){case y.il.OK:return(0,U.tZ)(I.Z,{type:"success",...s,children:(0,g.t)("Ok")});case y.il.ERROR:case y.il.MALFORMED:return(0,U.tZ)(I.Z,{type:"error",...s,children:(0,g.t)("Failed")});case y.il.NOT_FOUND:return(0,U.tZ)(I.Z,{...s,children:(0,g.t)("Not Found")});case y.il.NO_PERMISSION:return(0,U.tZ)(I.Z,{type:"highlight",...s,children:(0,g.t)("Permissions")});case y.il.DELETED:return(0,U.tZ)(I.Z,{type:"success",...s,children:(0,g.t)("Deleted")});case y.il.UNAPPLIED:return(0,U.tZ)(I.Z,{type:"warning",...s,children:(0,g.t)("Unapplied")});default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate download status"))})),(0,U.tZ)(I.Z,{...s,children:(0,g.t)("Unknown")})}},z="sentry:project",A="sentry://project_debug_file/";var L=s("./app/components/tooltip.tsx");function P(e){let{candidate:t,hasReprocessWarning:s}=e;const{download:n}=t,{label:i,description:a,disabled:o}=function(e,t){const{download:s,location:n,source:i}=e;switch(s.status){case y.il.OK:return{label:(0,g.t)("Download Details"),description:n,disabled:!n||i===z};case y.il.ERROR:case y.il.MALFORMED:{const{details:e}=s;return{label:(0,g.t)("Download Details"),description:e,disabled:!e}}case y.il.NOT_FOUND:return{};case y.il.NO_PERMISSION:{const{details:e}=s;return{label:(0,g.t)("Permission Error"),description:e,disabled:!e}}case y.il.DELETED:return{label:(0,g.t)("This file was deleted after the issue was processed.")};case y.il.UNAPPLIED:return{label:t?(0,g.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,g.t)("This issue was processed before this debug information file was available")};default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,s);return(0,U.tZ)(L.u,{title:i&&(0,U.BX)($,{children:[(0,U.tZ)(X,{children:i}),a&&(0,U.tZ)("div",{children:a})]}),disabled:o,children:(0,U.tZ)(j,{"data-test-id":"status",status:n.status})})}P.displayName="StatusTooltip";const M=P,$=(0,i.Z)("div",{target:"efog0sy1"})({name:"1flj9lk",styles:"text-align:left"}),X=(0,i.Z)("div",{target:"efog0sy0"})("display:inline-block;margin-bottom:",(0,f.D)(.25),";");var q=s("./app/components/acl/access.tsx"),W=s("./app/components/acl/role.tsx"),K=s("./app/components/actions/button.tsx"),H=s("./app/components/actions/menuItemActionLink.tsx"),G=s("./app/components/confirm.tsx"),Y=s("./app/components/dropdownLink.tsx"),Q=s("./app/icons/index.tsx");const V=(0,g.t)("You do not have permission to download debug files"),J=(0,g.t)("You do not have permission to delete debug files"),ee=(0,g.t)("Are you sure you wish to delete this file?");function te(e){let{candidate:t,organization:s,isInternalSource:n,baseUrl:i,projSlug:o,onDelete:r}=e;const{download:l,location:d}=t,{status:c}=l;if(!d||!n)return null;const u=c===y.il.DELETED,m=`${i}/projects/${s.slug}/${o}/files/dsyms/?id=${d}`,h=(0,U.tZ)(W.u,{role:s.debugFilesRole,organization:s,children:e=>{let{hasRole:t}=e;return(0,U.tZ)(q.Z,{access:["project:write"],children:e=>{let{hasAccess:s}=e;return(0,U.BX)(a.Fragment,{children:[(0,U.BX)(ne,{caret:!1,customTitle:(0,U.tZ)(K.Z,{"aria-label":(0,g.t)("Actions"),disabled:u,icon:(0,U.tZ)(Q.YR,{size:"sm"})}),anchorRight:!0,children:[(0,U.tZ)(L.u,{disabled:t,title:V,children:(0,U.tZ)(H.Z,{shouldConfirm:!1,icon:(0,U.tZ)(Q.Dj,{size:"xs"}),href:m,onClick:e=>{u&&e.preventDefault()},disabled:!t||u,children:(0,g.t)("Download")})}),(0,U.tZ)(L.u,{disabled:s,title:J,children:(0,U.tZ)(H.Z,{onAction:()=>r(d),message:ee,disabled:!s||u,shouldConfirm:!0,children:(0,g.t)("Delete")})})]}),(0,U.BX)(ie,{gap:1,children:[(0,U.tZ)(L.u,{disabled:t,title:V,children:(0,U.tZ)(p.zx,{size:"xs",icon:(0,U.tZ)(Q.Dj,{size:"xs"}),href:m,disabled:!t,children:(0,g.t)("Download")})}),(0,U.tZ)(L.u,{disabled:s,title:J,children:(0,U.tZ)(G.Z,{confirmText:(0,g.t)("Delete"),message:ee,onConfirm:()=>r(d),disabled:!s,children:(0,U.tZ)(p.zx,{priority:"danger",icon:(0,U.tZ)(Q.Fz,{size:"xs"}),size:"xs",disabled:!s,"aria-label":(0,g.t)("Delete")})})})]})]})}})}});return u?(0,U.tZ)(L.u,{title:(0,g.t)("Actions not available because this debug file was deleted"),children:h}):h}te.displayName="Actions";const se=te,ne=(0,i.Z)(Y.Z,{target:"eac5buq1"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){display:flex;align-items:center;transition:none;}"),ie=(0,i.Z)(m.ZP,{target:"eac5buq0"})("@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){display:none;}");var ae=s("../node_modules/lodash/capitalize.js"),oe=s.n(ae),re=s("../node_modules/moment-timezone/index.js"),le=s.n(re),de=s("./app/components/dateTime.tsx"),ce=s("./app/components/fileSize.tsx"),ue=s("./app/components/timeSince.tsx"),pe=s("./app/components/events/interfaces/debugMeta/processing/item.tsx"),me=s("./app/components/events/interfaces/debugMeta/processing/list.tsx");function he(){return(0,U.tZ)(fe,{children:"|"})}he.displayName="Divider";const ge=he,fe=(0,i.Z)("div",{target:"e1l3qt800"})("color:",(e=>e.theme.gray200),";");function be(e){let{download:t}=e,s=[];return t.status!==y.il.OK&&t.status!==y.il.DELETED&&t.status!==y.il.UNAPPLIED||(s=Object.keys(t.features).filter((e=>t.features[e]))),(0,U.tZ)(a.Fragment,{children:Object.values(y.xe).map((e=>{const{label:t,description:n}=function(e){switch(e){case y.xe.HAS_DEBUG_INFO:return{label:(0,g.t)("debug"),description:(0,g.t)("Debug information provides function names and resolves inlined frames during symbolication")};case y.xe.HAS_SOURCES:return{label:(0,g.t)("sources"),description:(0,g.t)("Source code information allows Sentry to display source code context for stack frames")};case y.xe.HAS_SYMBOLS:return{label:(0,g.t)("symtab"),description:(0,g.t)("Symbol tables are used as a fallback when full debug information is not available")};case y.xe.HAS_UNWIND_INFO:return{label:(0,g.t)("unwind"),description:(0,g.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),i=!s.includes(e);return(0,U.tZ)(Ze,{disabled:i,tooltipText:i?void 0:n,children:t},t)}))})}be.displayName="Features";const ye=be,Ze=(0,i.Z)(I.Z,{target:"elbog5x0"})("opacity:",(e=>e.disabled?"0.35":1),";"),we=function(e){let{processingInfo:t}=e;switch(t.status){case y.kJ.OK:return(0,U.tZ)(Q.DL,{color:"successText",size:"xs"});case y.kJ.ERROR:{const{details:e}=t;return(0,U.tZ)(L.u,{title:e,disabled:!e,children:(0,U.tZ)(Q.bM,{color:"dangerText",size:"xs"})})}case y.kJ.MALFORMED:{const{details:e}=t;return(0,U.tZ)(L.u,{title:e,disabled:!e,children:(0,U.tZ)(Q.FC,{color:"warningText",size:"xs"})})}default:return R.$e((e=>{e.setLevel("warning"),R.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function ve(e){let{candidate:t,isInternalSource:s,hasReprocessWarning:n,eventDateReceived:i}=e;const{source_name:o,source:r,location:l,download:d}=t,c=function(){if(t.download.status===y.il.UNAPPLIED||t.download.status===y.il.OK&&s){const{symbolType:e,filename:s}=t;return e===y.Ko.PROGUARD&&"proguard-mapping"===s?null:s}return l&&!s?l:null}();return(0,U.BX)(De,{children:[(0,U.BX)("div",{children:[(0,U.tZ)("strong",{"data-test-id":"source-name",children:o?oe()(o):(0,g.t)("Unknown")}),c&&(0,U.tZ)(Se,{"data-test-id":"filename-or-location",children:c})]}),(0,U.BX)(_e,{children:[function(){if(t.download.status!==y.il.UNAPPLIED&&t.download.status!==y.il.OK||r!==z)return null;const{prettyFileType:e,size:s,dateCreated:o}=t,{tooltipDesc:l,displayIcon:d}=function(e){const s=(0,U.tZ)(de.Z,{date:e});return t.download.status!==y.il.UNAPPLIED?{tooltipDesc:s,displayIcon:!1}:le()(e).isBefore(i)?n?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:le()(i).from(e,!0)}),(0,U.tZ)(Te,{children:s})]}),displayIcon:!0}:le()(i).diff(e,"minutes")>=60?{tooltipDesc:s,displayIcon:!1}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:le()(i).from(e,!0)}),(0,U.tZ)(Te,{children:s})]}),displayIcon:!0}:n?{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:le()(e).from(i,!0)}),(0,U.tZ)(Te,{children:s})]}),displayIcon:!0}:{tooltipDesc:(0,U.BX)(a.Fragment,{children:[(0,g._N)("This debug file was uploaded [when] after this event.",{when:le()(i).from(e,!0)}),(0,U.tZ)(Te,{children:s})]}),displayIcon:!0}}(o);return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(L.u,{title:l,children:(0,U.BX)(Ee,{children:[d&&(0,U.tZ)(Q.FC,{color:"errorText",size:"xs"}),(0,g._N)("Uploaded [timesince]",{timesince:(0,U.tZ)(ue.Z,{disabledAbsoluteTooltip:!0,date:o})})]})}),(0,U.tZ)(ge,{}),(0,U.tZ)(ce.Z,{bytes:s}),(0,U.tZ)(ge,{}),(0,U.tZ)("span",{children:e}),(0,U.tZ)(ge,{})]})}(),function(){if(t.download.status!==y.il.OK&&t.download.status!==y.il.DELETED)return null;const e=[],{debug:s,unwind:n}=t;return s&&e.push((0,U.tZ)(pe.Z,{type:"symbolication",icon:(0,U.tZ)(we,{processingInfo:s})},"symbolication")),n&&e.push((0,U.tZ)(pe.Z,{type:"stack_unwinding",icon:(0,U.tZ)(we,{processingInfo:n})},"stack_unwinding")),e.length?(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Be,{items:e}),(0,U.tZ)(ge,{})]}):null}(),(0,U.tZ)(ye,{download:d})]})]})}ve.displayName="Information";const xe=ve,De=(0,i.Z)("div",{target:"el89e585"})({name:"2w899g",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%"}),Se=(0,i.Z)("span",{target:"el89e584"})("padding-left:",(0,f.D)(1),";font-size:",(e=>e.theme.fontSizeSmall),";"),_e=(0,i.Z)("div",{target:"el89e583"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.D)(1),";color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ee=(0,i.Z)("div",{target:"el89e582"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;gap:",(0,f.D)(.5),";font-variant-numeric:tabular-nums;"),Te=(0,i.Z)("div",{target:"el89e581"})("padding-top:",(0,f.D)(1),";font-variant-numeric:tabular-nums;"),Be=(0,i.Z)(me.Z,{target:"el89e580"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;gap:",(0,f.D)(1),";");function Fe(e){let{candidate:t,organization:s,projSlug:n,baseUrl:i,haveCandidatesAtLeastOneAction:o,hasReprocessWarning:r,onDelete:l,eventDateReceived:d}=e;const{source:c}=t,u=c===z;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(Ce,{children:(0,U.tZ)(M,{candidate:t,hasReprocessWarning:r})}),(0,U.tZ)(Ne,{children:(0,U.tZ)(xe,{candidate:t,isInternalSource:u,eventDateReceived:d,hasReprocessWarning:r})}),o&&(0,U.tZ)(Oe,{children:(0,U.tZ)(se,{onDelete:l,baseUrl:i,projSlug:n,organization:s,candidate:t,isInternalSource:u})})]})}Fe.displayName="Candidate";const ke=Fe,Ce=(0,i.Z)("div",{target:"ebg9tn82"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Ne=(0,i.Z)(Ce,{target:"ebg9tn81"})({name:"1ejri1g",styles:"flex-direction:column;align-items:flex-start"}),Oe=(0,i.Z)(Ce,{target:"ebg9tn80"})({name:"1f60if8",styles:"justify-content:flex-end"}),Re={status:(0,g.t)("Status"),source:(0,g.t)("Source")};class Ie extends a.Component{constructor(){var e;super(...arguments),e=this,(0,n.Z)(this,"state",{searchTerm:"",filterOptions:[],filterSelections:[],filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,n.Z)(this,"doSearch",S()(this.filterCandidatesBySearch,300)),(0,n.Z)(this,"handleChangeSearchTerm",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})})),(0,n.Z)(this,"handleChangeFilter",(e=>{const{filteredCandidatesBySearch:t}=this.state,s=this.getFilteredCandidatedByFilter(t,e);this.setState({filterSelections:e,filteredCandidatesByFilter:s})})),(0,n.Z)(this,"handleResetFilter",(()=>{this.setState({filterSelections:[]},this.filterCandidatesBySearch)})),(0,n.Z)(this,"handleResetSearchBar",(()=>{const{candidates:e}=this.props;this.setState({searchTerm:"",filteredCandidatesByFilter:e,filteredCandidatesBySearch:e})}))}componentDidMount(){this.getFilters()}componentDidUpdate(e,t){E()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}filterCandidatesBySearch(){const{searchTerm:e,filterSelections:t}=this.state,{candidates:s}=this.props;if(!e.trim()){const e=this.getFilteredCandidatedByFilter(s,t);return void this.setState({filteredCandidatesBySearch:s,filteredCandidatesByFilter:e})}const n=JSON.stringify(e).replace(/((^")|("$))/g,"").toLocaleLowerCase(),i=s.filter((e=>Object.keys(B()(e,["source_name","location"])).some((t=>{const s=e[t];return("location"!==t||"number"!=typeof Number(s))&&!(!(0,N.ri)(s)||!String(s).trim())&&JSON.stringify(s).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(n)})))),a=this.getFilteredCandidatedByFilter(i,t);this.setState({filteredCandidatesBySearch:i,filteredCandidatesByFilter:a})}getFilters(){const{imageStatus:e}=this.props,t=[...this.props.candidates],s=this.getFilterOptions(t),n=(s.find((e=>"status"===e.key))?.options??[]).filter((t=>t.value!==`status-${y.il.NOT_FOUND}`||e===y.zu.MISSING));this.setState({filterOptions:s,filterSelections:n,filteredCandidatesBySearch:t,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(t,n)})}getFilterOptions(e){const t=[],s=[...new Set(e.map((e=>e.download.status)))];s.length>1&&t.push({key:"status",label:Re.status,options:s.map((e=>({value:`status-${e}`,textValue:e,label:(0,U.tZ)(j,{status:e})})))});const n=[...new Set(e.map((e=>e.source_name??(0,g.t)("Unknown"))))];return n.length>1&&t.push({key:"source",label:Re.source,options:n.map((e=>({value:`source-${e}`,label:e})))}),t}getFilteredCandidatedByFilter(e,t){const s=new Set(t.filter((e=>"status"===e.value.split("-")[0])).map((e=>e.value.split("-")[1]))),n=new Set(t.filter((e=>"source"===e.value.split("-")[0])).map((e=>e.value.split("-")[1])));if(0===t.length)return e;if(s.size>0){const t=e.filter((e=>s.has(e.download.status)));return 0===n.size?t:t.filter((e=>n.has(e?.source_name??"")))}return e.filter((e=>n.has(e?.source_name??"")))}getEmptyMessage(){const{searchTerm:e,filteredCandidatesByFilter:t,filterSelections:s}=this.state;if(t.length)return{};const n=s.length>0;return e||n?{emptyMessage:(0,g.t)("Sorry, no debug files match your search query"),emptyAction:n?(0,U.tZ)(p.zx,{onClick:this.handleResetFilter,priority:"primary",children:(0,g.t)("Reset filter")}):(0,U.tZ)(p.zx,{onClick:this.handleResetSearchBar,priority:"primary",children:(0,g.t)("Clear search bar")})}:{emptyMessage:(0,g.t)("There are no debug files to be displayed")}}render(){const{organization:e,projSlug:t,baseUrl:s,onDelete:n,isLoading:i,candidates:a,eventDateReceived:o,hasReprocessWarning:r}=this.props,{searchTerm:l,filterOptions:d,filterSelections:c,filteredCandidatesByFilter:u}=this.state,p=a.some((e=>e.download.status===y.il.OK&&e.source===z||e.download.status===y.il.DELETED))||r;return(0,U.BX)(je,{children:[(0,U.BX)(ze,{children:[(0,U.BX)(Ae,{children:[(0,g.t)("Debug File Candidates"),(0,U.tZ)(C.Z,{title:(0,g._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,U.tZ)(F.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})]}),!!a.length&&(0,U.tZ)(Pe,{query:l,onChange:e=>this.handleChangeSearchTerm(e),placeholder:(0,g.t)("Search debug file candidates"),filterOptions:d,filterSelections:c,onFilterChange:this.handleChangeFilter})]}),(0,U.tZ)(Le,{headers:p?[(0,g.t)("Status"),(0,g.t)("Information"),""]:[(0,g.t)("Status"),(0,g.t)("Information")],isEmpty:!u.length,isLoading:i,...this.getEmptyMessage(),children:u.map(((i,a)=>(0,U.tZ)(ke,{candidate:i,organization:e,baseUrl:s,projSlug:t,eventDateReceived:o,hasReprocessWarning:r,haveCandidatesAtLeastOneAction:p,onDelete:n},a)))})]})}}Ie.displayName="Candidates";const Ue=Ie,je=(0,i.Z)("div",{target:"e6qivrv4"})({name:"vetbs0",styles:"display:grid"}),ze=(0,i.Z)("div",{target:"e6qivrv3"})("display:flex;flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex-wrap:wrap;flex-direction:row;}"),Ae=(0,i.Z)("div",{target:"e6qivrv2"})("padding-right:",(0,f.D)(4),";display:grid;gap:",(0,f.D)(.5),";grid-template-columns:repeat(2, max-content);align-items:center;font-weight:600;color:",(e=>e.theme.gray400),";height:32px;flex:1;@media (min-width: ",(e=>e.theme.breakpoints.small),"){margin-bottom:",(0,f.D)(1),";}"),Le=(0,i.Z)(k.Z,{target:"e6qivrv1"})("grid-template-columns:",(e=>3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"),";height:100%;@media (min-width: ",(e=>e.theme.breakpoints.xxlarge),"){overflow:visible;}"),Pe=(0,i.Z)(O.Z,{target:"e6qivrv0"})("margin-bottom:",(0,f.D)(1.5),";");var Me=s("./app/components/notAvailable.tsx"),$e=s("./app/components/events/interfaces/debugMeta/debugImage/processings.tsx");function Xe(e){let{image:t}=e;const{debug_id:s,debug_file:n,code_id:i,code_file:a,arch:o,unwind_status:r,debug_status:l}=t??{},d=t?(0,x.a$)(t):void 0;return(0,U.BX)(We,{children:[(0,U.tZ)(Ke,{coloredBg:!0,children:(0,g.t)("Address Range")}),(0,U.tZ)(He,{coloredBg:!0,children:d??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{children:(0,g.t)("Debug ID")}),(0,U.tZ)(He,{children:s??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{coloredBg:!0,children:(0,g.t)("Debug File")}),(0,U.tZ)(He,{coloredBg:!0,children:n??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{children:(0,g.t)("Code ID")}),(0,U.tZ)(He,{children:i??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{coloredBg:!0,children:(0,g.t)("Code File")}),(0,U.tZ)(He,{coloredBg:!0,children:a??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{children:(0,g.t)("Architecture")}),(0,U.tZ)(He,{children:o??(0,U.tZ)(Me.Z,{})}),(0,U.tZ)(Ke,{coloredBg:!0,children:(0,g.t)("Processing")}),(0,U.tZ)(He,{coloredBg:!0,children:r||l?(0,U.tZ)($e.Z,{unwind_status:r,debug_status:l}):(0,U.tZ)(Me.Z,{})})]})}Xe.displayName="GeneralInfo";const qe=Xe,We=(0,i.Z)("div",{target:"eyywb372"})({name:"24qvpm",styles:"display:grid;grid-template-columns:max-content 1fr"}),Ke=(0,i.Z)("div",{target:"eyywb371"})("color:",(e=>e.theme.textColor),";padding:",(0,f.D)(1)," ",(0,f.D)(1.5)," ",(0,f.D)(1)," ",(0,f.D)(1),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";"),He=(0,i.Z)(Ke,{target:"eyywb370"})("white-space:pre-wrap;word-break:break-all;color:",(e=>e.theme.subText),";padding:",(0,f.D)(1),";font-family:",(e=>e.theme.text.familyMono),";",(e=>e.coloredBg&&`background-color: ${e.theme.backgroundSecondary};`),";");var Ge,Ye=s("./app/components/alert.tsx"),Qe=s("./app/components/alertLink.tsx");function Ve(e){let{onReprocessEvent:t,api:s,orgSlug:n,projSlug:i,eventId:o}=e;const[r,l]=(0,a.useState)(),d=(0,a.useCallback)((async()=>{try{const e=await s.requestPromise(`/projects/${n}/${i}/events/${o}/reprocessable/`);l(e)}catch{}}),[s,o,n,i]);if((0,a.useEffect)((()=>{d()}),[d]),!r)return null;const{reprocessable:c,reason:u}=r;return c?(0,U.tZ)(Qe.Z,{priority:"warning",size:"small",onClick:t,withoutMarginBottom:!0,children:(0,g.t)("Youâ€™ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")}):(0,U.tZ)(et,{type:"info",children:function(){switch(u){case Ge.EVENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because the event has not been found");case Ge.ATTACHMENT_NOT_FOUND:return(0,g.t)("This event cannot be reprocessed because a required attachment is missing");case Ge.UNPROCESSED_EVENT_NOT_FOUND:default:return(0,g.t)("This event cannot be reprocessed")}}()})}!function(e){e.UNPROCESSED_EVENT_NOT_FOUND="unprocessed_event.not_found",e.EVENT_NOT_FOUND="event.not_found",e.ATTACHMENT_NOT_FOUND="attachment.not_found"}(Ge||(Ge={})),Ve.displayName="ReprocessAlert";const Je=Ve,et=(0,i.Z)(Ye.bZ,{target:"e1o18cty0"})({name:"1ykowef",styles:"margin-bottom:0"});class tt extends h.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleDelete",(async e=>{const{organization:t,projSlug:s}=this.props;this.setState({loading:!0});try{await this.api.requestPromise(`/projects/${t.slug}/${s}/files/dsyms/?id=${e}`,{method:"DELETE"}),this.fetchData()}catch{(0,u.Iw)((0,g.t)("An error occurred while deleting the debug file.")),this.setState({loading:!1})}}))}getDefaultState(){return{...super.getDefaultState(),debugFiles:[]}}componentDidUpdate(e,t){!e.image&&this.props.image&&this.remountComponent(),super.componentDidUpdate(e,t)}getUploadedDebugFiles(e){return e.find((e=>e.source===z))}getEndpoints(){const{organization:e,projSlug:t,image:s}=this.props;if(!s)return[];const{debug_id:n,candidates:i=[]}=s,a=[];return this.getUploadedDebugFiles(i)&&a.push(["debugFiles",`/projects/${e.slug}/${t}/files/dsyms/?debug_id=${n}`,{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle","wasm","portablepdb"]}}]),a}sortCandidates(e,t){const[s,n]=l()(e,(e=>e.download.status===y.il.NO_PERMISSION)),[i,a]=l()(n,(e=>e.download.status===y.il.MALFORMED)),[o,r]=l()(a,(e=>e.download.status===y.il.ERROR)),[d,u]=l()(r,(e=>e.download.status===y.il.OK)),[p,m]=l()(u,(e=>e.download.status===y.il.DELETED));return[...c()(s,["source_name","location"]),...c()(i,["source_name","location"]),...c()(o,["source_name","location"]),...c()(d,["source_name","location"]),...c()(p,["source_name","location"]),...c()(t,["source_name","location"]),...c()(m,["source_name","location"])]}getCandidates(){const{debugFiles:e,loading:t}=this.state,{image:s}=this.props,{candidates:n=[]}=s??{};if(!e||t)return n;const i=n.map((e=>{let{location:t,...s}=e;return{...s,location:t?.includes(A)?t.split(A)[1]:t}})),a=new Set(i.map((e=>{let{location:t}=e;return t})).filter((e=>!!e))),[o,r]=l()(e,(e=>!a.has(e.id))),d=o.map((e=>{const{data:t,symbolType:s,objectName:n,id:i,size:a,dateCreated:o,cpuName:r}=e,l=t?.features??[];return{download:{status:y.il.UNAPPLIED,features:{has_sources:l.includes(b.Wi.SOURCES),has_debug_info:l.includes(b.Wi.DEBUG),has_unwind_info:l.includes(b.Wi.UNWIND),has_symbols:l.includes(b.Wi.SYMTAB)}},cpuName:r,location:i,filename:n,size:a,dateCreated:o,symbolType:s,fileType:(0,v.Q)(e),source:z,source_name:(0,g.t)("Sentry")}})),[c,u]=l()(i,(e=>e.download.status===y.il.OK&&e.source===z)),p=c.map((e=>{const t=r.find((t=>t.id===e.location));if(!t)return{...e,download:{...e.download,status:y.il.DELETED}};const{symbolType:s,objectName:n,id:i,size:a,dateCreated:o}=t;return{...e,location:i,filename:n,size:a,dateCreated:o,symbolType:s,prettyFileType:(0,v.Q)(t)}}));return this.sortCandidates([...p,...u],d)}getDebugFilesSettingsLink(){const{organization:e,projSlug:t,image:s}=this.props,n=e.slug,i=s?.debug_id;if(n&&t&&i)return`/settings/${n}/projects/${t}/debug-symbols/?query=${i}`}renderBody(){const{Header:e,Body:t,Footer:s,image:n,organization:i,projSlug:o,event:r,onReprocessEvent:l}=this.props,{loading:d}=this.state,{code_file:c,status:u}=n??{},m=this.getDebugFilesSettingsLink(),h=this.getCandidates(),f=this.api.baseUrl,b=(0,x.UO)(c),w=h.some((e=>e.download.status===y.il.UNAPPLIED))&&(0,Z.B)(i.features,r)&&!!l;return(0,U.BX)(a.Fragment,{children:[(0,U.tZ)(e,{closeButton:!0,children:(0,U.BX)(nt,{children:[(0,g.t)("Image"),(0,U.tZ)(it,{children:b??(0,g.t)("Unknown")})]})}),(0,U.tZ)(t,{children:(0,U.BX)(st,{children:[(0,U.tZ)(qe,{image:n}),w&&(0,U.tZ)(Je,{api:this.api,orgSlug:i.slug,projSlug:o,eventId:r.id,onReprocessEvent:l}),(0,U.tZ)(Ue,{imageStatus:u,candidates:h,organization:i,projSlug:o,baseUrl:f,isLoading:d,eventDateReceived:r.dateReceived,onDelete:this.handleDelete,hasReprocessWarning:w})]})}),(0,U.tZ)(s,{children:(0,U.BX)(at,{gap:1,children:[(0,U.tZ)(p.zx,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0,children:(0,g.t)("Read the docs")}),m&&(0,U.tZ)(p.zx,{title:(0,g.t)("Search for this debug file in all images for the %s project",o),to:m,children:(0,g.t)("Open in Settings")})]})})]})}}const st=(0,i.Z)("div",{target:"e1x2aw853"})("display:grid;gap:",(0,f.D)(3),";font-size:",(e=>e.theme.fontSizeMedium),";"),nt=(0,i.Z)("div",{target:"e1x2aw852"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,f.D)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeExtraLarge),";max-width:calc(100% - 40px);word-break:break-all;"),it=(0,i.Z)("span",{target:"e1x2aw851"})("font-family:",(e=>e.theme.text.familyMono),";"),at=(0,i.Z)(m.ZP,{target:"e1x2aw850"})({name:"1bmnxg7",styles:"white-space:nowrap"}),ot=(0,o.iv)("[role='document']{overflow:initial;}@media (min-width: ",w.ZP.breakpoints.small,"){width:90%;}@media (min-width: ",w.ZP.breakpoints.xlarge,"){width:70%;}@media (min-width: ",w.ZP.breakpoints.xxlarge,"){width:50%;}","")},"./app/utils/displayReprocessEventAction.tsx":(e,t,s)=>{s.d(t,{B:()=>o});var n=s("./app/types/index.tsx");const i=["cocoa","native"];function a(e){const t=e?.frames??[],s=e?.stacktrace?.frames??[];return t.length||s.length?[...t,...s].map((e=>e.platform)).filter((e=>!!e)):[]}function o(e,t){if(!t||!e.includes("reprocessing-v2"))return!1;const{entries:s}=t,o=s.find((e=>e.type===n.UZ.EXCEPTION));return!!o&&!!(function(e){const{data:t}=e;return(t.values??[]).some((e=>"minidump"===e.mechanism?.type))}(o)||function(e){const{data:t}=e;return(t.values??[]).some((e=>"applecrashreport"===e.mechanism?.type))}(o)||function(e,t){const{platform:s}=e;if(s&&i.includes(s))return!0;const o=function(e,t){const s=(t.data.values??[]).flatMap(a),i=e.entries.find((e=>e.type===n.UZ.STACKTRACE))?.data??{},o=Object.keys(i).flatMap((e=>a(i[e]))),r=(e.entries.find((e=>e.type===n.UZ.THREADS))?.data.values??[]).flatMap((e=>{let{stacktrace:t}=e;return a(t)}));return new Set([...s,...o,...r])}(e,t);return i.some((e=>o.has(e)))}(t,o))}},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,s)=>{s.d(t,{Q:()=>r,V:()=>l});var n=s("./app/locale.tsx"),i=s("./app/types/debugFiles.tsx");const a={proguard:(0,n.t)("ProGuard mapping"),breakpad:(0,n.t)("Breadpad"),macho:(0,n.t)("Mach-O"),elf:(0,n.t)("ELF"),pe:(0,n.t)("PE"),pdb:(0,n.t)("PDB"),portablepdb:(0,n.t)("Portable PDB"),sourcebundle:(0,n.t)("SourceBundle"),wasm:(0,n.t)("WebAssembly"),bcsymbolmap:(0,n.t)("BCSymbolMap"),il2cpp:(0,n.t)("IL2CPP mapping")},o={[i.BQ.EXE]:(0,n.t)("executable"),[i.BQ.DBG]:(0,n.t)("debug companion"),[i.BQ.LIB]:(0,n.t)("dynamic library")};function r(e){const{symbolType:t,data:s,cpuName:n}=e;return[a[t]??t,o[s?.type??"_"],n&&"any"!==n&&"unknown"!==n?`(${n})`:null].filter(Boolean).join(" ")}function l(e){switch(e){case i.Wi.SYMTAB:return(0,n.t)("Symbol tables are used as a fallback when full debug information is not available");case i.Wi.DEBUG:return(0,n.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.Wi.UNWIND:return(0,n.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.Wi.SOURCES:return(0,n.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_debugMeta_debugImageDetails_index_tsx.842a8e4bee548c72be69061175eb9cec.js.map