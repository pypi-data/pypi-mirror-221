"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_panels_panelHeader_tsx-app_components_repositoryRow_tsx-app_views_deprecatedAs-f94885"],{"./app/actionCreators/integrations.tsx":(e,t,n)=>{n.d(t,{Ag:()=>d,W6:()=>i,eg:()=>c,qU:()=>a});var s=n("./app/actionCreators/indicator.tsx"),o=n("./app/api.tsx"),r=n("./app/locale.tsx");function a(e,t,n){(0,s.E3)();const o=e.requestPromise(`/organizations/${t}/repos/${n}/`,{method:"PUT",data:{status:"visible"}});return o.then((()=>(0,s.B8)()),(()=>(0,s.Iw)((0,r.t)("Unable to cancel deletion.")))),o}function i(e,t,n){(0,s.E3)();const o=e.requestPromise(`/organizations/${t}/repos/${n}/`,{method:"PUT",data:{status:"hidden"}});return o.then((()=>(0,s.B8)()),(()=>(0,s.Iw)((0,r.t)("Unable to delete repository.")))),o}function l(e){return e.then((e=>{const t=(0,r._N)("[repo] has been successfully added.",{repo:e.name});(0,s.S9)(t)}),(e=>{const t=e.responseJSON.errors?e.responseJSON.errors.__all__:(0,r.t)("Unable to add repository.");(0,s.Iw)(t)})),e}function d(e,t,n,o){const r={integrationId:o.id};return(0,s.E3)(),l(e.requestPromise(`/organizations/${t}/repos/${n}/`,{data:r,method:"PUT"}))}function c(e,t,n,o){const r={installation:o.id,identifier:n,provider:`integrations:${o.provider.key}`};return(0,s.E3)(),l(e.requestPromise(`/organizations/${t}/repos/`,{method:"POST",data:r}))}new o.KU},"./app/components/panels/panelHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("./app/styles/space.tsx");const a=e=>{let{disablePadding:t,hasButtons:n}=e;return(0,o.iv)("padding:",n?(0,r.D)(1):(0,r.D)(2)," ",t?0:(0,r.D)(2),";","")},i=(0,s.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",a,";")},"./app/components/repositoryRow.tsx":(e,t,n)=>{n.d(t,{Z:()=>N});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),r=n("./app/actionCreators/integrations.tsx"),a=n("./app/actionCreators/modal.tsx"),i=n("./app/components/acl/access.tsx"),l=n("./app/components/button.tsx"),d=n("./app/components/confirm.tsx"),c=n("./app/components/links/externalLink.tsx"),p=n("./app/components/panels/panelItem.tsx"),m=n("./app/components/alert.tsx"),u=n("./app/components/forms/fieldFromConfig.tsx"),h=n("./app/components/forms/form.tsx"),g=n("./app/locale.tsx"),y=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=[{name:"name",type:"string",required:!0,label:(0,g.t)("Name of your repository.")},{name:"url",type:"string",required:!1,label:(0,g.t)("Full URL to your repository."),placeholder:(0,g.t)("https://github.com/my-org/my-repo/")}];function b(e){let{repository:t,onCancel:n,orgSlug:s,onSubmitSuccess:o,closeModal:r}=e;const a={name:t.name,url:t.url||""};return(0,y.BX)(h.Z,{initialData:a,onSubmitSuccess:e=>{o(e),r()},apiEndpoint:`/organizations/${s}/repos/${t.id}/`,apiMethod:"PUT",onCancel:n,children:[(0,y.tZ)(m.bZ,{type:"warning",showIcon:!0,children:(0,g._N)("Changing the [name:repo name] may have consequences if it no longer matches the repo name used when [link:sending commits with releases].",{link:(0,y.tZ)(c.Z,{href:"https://docs.sentry.io/product/cli/releases/#sentry-cli-commit-integration"}),name:(0,y.tZ)("strong",{children:"repo name"})})}),x.map((e=>(0,y.tZ)(u.Z,{field:e,inline:!1,stacked:!0,flexibleControlStateSize:!0},e.name)))]})}b.displayName="RepositoryEditForm";const f=b;var Z=n("./app/components/tooltip.tsx"),w=n("./app/icons/index.tsx"),v=n("./app/styles/space.tsx"),D=n("./app/types/index.tsx"),_=n("./app/utils/withOrganization.tsx");function S(e){switch(e.status){case D.Fr.PENDING_DELETION:return"Deletion Queued";case D.Fr.DELETION_IN_PROGRESS:return"Deletion in Progress";case D.Fr.DISABLED:case D.Fr.HIDDEN:return"Disabled";default:return null}}function E(e){let{api:t,repository:n,onRepositoryChange:s,organization:l,orgId:p,showProvider:m=!1}=e;const u=l.features.includes("integrations-custom-scm")&&"integrations:custom_scm"===n.provider.id,h=n.status===D.Fr.ACTIVE,x=()=>(0,r.qU)(t,p,n.id).then((e=>{s&&s(e)}),(()=>{})),b=()=>(0,r.W6)(t,p,n.id).then((e=>{s&&s(e)}),(()=>{})),v=e=>{s?.(e)},_=e=>(0,y.tZ)(Z.u,{title:(0,g.t)("You must be an organization owner, manager or admin to remove a repository."),disabled:e,children:(0,y.tZ)(d.Z,{disabled:!e||!h&&n.status!==D.Fr.DISABLED,onConfirm:b,message:(0,g.t)("Are you sure you want to remove this repository? All associated commit data will be removed in addition to the repository."),children:(0,y.tZ)(z,{size:"xs",icon:(0,y.tZ)(w.Fz,{size:"xs"}),"aria-label":(0,g.t)("delete"),disabled:!e})})}),E=()=>(0,a.openModal)((e=>{let{Body:t,Header:s,closeModal:r}=e;return(0,y.BX)(o.Fragment,{children:[(0,y.tZ)(s,{closeButton:!0,children:(0,g.t)("Edit Repository")}),(0,y.tZ)(t,{children:(0,y.tZ)(f,{orgSlug:p,repository:n,onSubmitSuccess:v,closeModal:r,onCancel:r})})]})}));return(0,y.tZ)(i.Z,{access:["org:integrations"],children:e=>{let{hasAccess:t}=e;return(0,y.BX)(k,{status:n.status,children:[(0,y.BX)(C,{children:[(0,y.BX)(I,{children:[(0,y.tZ)("strong",{children:n.name}),!h&&(0,y.BX)("small",{children:[" — ",S(n)]}),n.status===D.Fr.PENDING_DELETION&&(0,y.tZ)(z,{size:"xs",onClick:x,disabled:!t,"data-test-id":"repo-cancel",children:(0,g.t)("Cancel")})]}),(0,y.BX)("div",{children:[m&&(0,y.tZ)("small",{children:n.provider.name}),m&&n.url&&(0,y.tZ)("span",{children:" — "}),n.url&&(0,y.tZ)("small",{children:(0,y.tZ)(c.Z,{href:n.url,children:n.url.replace("https://","")})})]})]}),u?(0,y.BX)(B,{children:[(0,y.tZ)(z,{size:"xs",icon:(0,y.tZ)(w.yl,{size:"xs"}),"aria-label":(0,g.t)("edit"),disabled:!t||!h&&n.status!==D.Fr.DISABLED,onClick:E}),_(t)]}):_(t)]})}})}E.displayName="RepositoryRow";const k=(0,s.Z)(p.Z,{target:"e11kudvl4"})("padding:",(0,v.D)(1)," ",(0,v.D)(2)," ",(0,v.D)(2),";justify-content:space-between;align-items:center;flex:1;",(e=>e.status===D.Fr.DISABLED&&"\n    filter: grayscale(1);\n    opacity: 0.4;\n  "),";&:last-child{border-bottom:none;}"),z=(0,s.Z)(l.zx,{target:"e11kudvl3"})("margin-left:",(0,v.D)(1),";"),C=(0,s.Z)("div",{target:"e11kudvl2"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),B=(0,s.Z)("div",{target:"e11kudvl1"})("display:flex;margin-left:",(0,v.D)(1),";"),I=(0,s.Z)("div",{target:"e11kudvl0"})({name:"3gzcvg",styles:"line-height:26px"}),N=(0,_.Z)(E)},"./app/views/deprecatedAsyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>a});var s=n("./app/components/deprecatedAsyncComponent.tsx"),o=n("./app/components/sentryDocumentTitle.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends s.Z{getTitle(){return""}render(){return(0,r.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="DeprecatedAsyncView"}}]);
//# sourceMappingURL=../sourcemaps/app_components_panels_panelHeader_tsx-app_components_repositoryRow_tsx-app_views_deprecatedAs-f94885.7a525f03200d575c3f1fc3e1e9c8b9fe.js.map