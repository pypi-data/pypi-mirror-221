"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_organizationStats_index_tsx"],{"./app/components/charts/optionSelector.tsx":(t,e,a)=>{a.d(e,{Z:()=>h});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("../node_modules/react/index.js"),o=a("./app/components/compactSelect/index.tsx"),i=a("./app/components/featureBadge.tsx"),n=a("./app/components/truncate.tsx"),l=a("./app/utils.tsx"),c=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(t){let{options:e,onChange:a,selected:r,title:i,featureType:d,multiple:h,defaultValue:u,closeOnSelect:g,...m}=t;const y=(0,s.useMemo)((()=>e.map((t=>({...t,textValue:String(t.label),label:(0,c.tZ)(n.Z,{value:String(t.label),maxLength:60,expandDirection:"left"})})))),[e]),f=(0,s.useMemo)((()=>h?{multiple:h,value:r,defaultValue:u,onChange:t=>{a?.(t.map((t=>t.value)))},closeOnSelect:g}:{multiple:h,value:r,defaultValue:u,onChange:t=>a?.(t.value),closeOnSelect:g}),[h,r,u,a,g]);return(0,c.tZ)(o.Z,{...m,...f,size:"sm",options:y,isOptionDisabled:function(t){return t.disabled||h&&3===r.length&&!r.includes(t.value)},position:"bottom-end",triggerProps:{borderless:!0,prefix:(0,c.BX)(s.Fragment,{children:[i,(0,l.ri)(d)?(0,c.tZ)(p,{type:d}):null]})}})}d.displayName="OptionSelector";const p=(0,r.Z)(i.Z,{target:"e56rtee0"})({name:"6og82r",styles:"margin-left:0px"}),h=d},"./app/components/gridEditable/sortLink.tsx":(t,e,a)=>{a.d(e,{Z:()=>h});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("../node_modules/react-router/es/index.js"),o=a("./app/components/links/link.tsx"),i=a("./app/icons/index.tsx"),n=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(t){let{align:e,title:a,canSort:r,generateSortLink:o,onClick:i,direction:l,replace:h}=t;const u=o();if(!u||!r)return(0,n.tZ)(d,{align:e,children:a});const g=l?(0,n.tZ)(p,{size:"xs",direction:"desc"===l?"down":"up"}):null;return(0,n.BX)(c,{align:e,to:u,onClick:t=>{h&&(t.preventDefault(),s.browserHistory.replace(u)),i?.(t)},children:[a," ",g]})}l.displayName="SortLink";const c=(0,r.Z)((t=>{const{align:e,css:a,...r}=t;return(0,n.tZ)(o.Z,{...r})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(t=>t.align?`text-align: ${t.align};`:""),";"),d=(0,r.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(t=>t.align?`text-align: ${t.align};`:""),";"),p=(0,r.Z)(i.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),h=l},"./app/components/notAvailable.tsx":(t,e,a)=>{a.d(e,{Z:()=>l});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("./app/components/tooltip.tsx"),o=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(t){let{tooltip:e,className:a}=t;return(0,o.tZ)(s.u,{title:e,skipWrapper:!0,disabled:void 0===e,children:(0,o.tZ)(n,{className:a,children:"—"})})}i.displayName="NotAvailable";const n=(0,r.Z)("div",{target:"encv6uu0"})("color:",(t=>t.theme.gray200),";"),l=i},"./app/components/pageTimeRangeSelector.tsx":(t,e,a)=>{a.d(e,{Z:()=>h});var r=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=a("./app/components/organizations/timeRangeSelector/index.tsx"),o=a("./app/components/panels/panel.tsx"),i=a("./app/locale.tsx"),n=a("./app/styles/space.tsx"),l=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(t){let{className:e,...a}=t;return(0,l.tZ)(d,{className:e,children:(0,l.tZ)(s.Z,{label:(0,l.tZ)(p,{children:(0,i.t)("Date Range:")}),detached:!0,...a},`period:${a.relative}-start:${a.start}-end:${a.end}-utc:${a.utc}-defaultPeriod:${a.defaultPeriod}`)})}c.displayName="PageTimeRangeSelector";const d=(0,r.Z)(o.Z,{target:"e81ghdn1"})("padding:0;margin:0;display:flex;justify-content:center;align-items:center;height:",(t=>t.theme.form.md.height),"px;background:",(t=>t.theme.background),";border:1px solid ",(t=>t.theme.border),";border-radius:",(t=>t.theme.borderRadius),";font-size:",(t=>t.theme.fontSizeMedium),";color:",(t=>t.theme.textColor),";>div{width:100%;align-self:stretch;}>div>div:first-child>div{padding:0 ",(0,n.D)(2),";}>div>div:last-child:not(:first-child){min-width:calc(100% + 2px);transform:translateX(-1px);right:auto;}"),p=(0,r.Z)("span",{target:"e81ghdn0"})("text-align:left;font-weight:600;color:",(t=>t.theme.textColor),";>span:last-child{font-weight:400;}"),h=c},"./app/views/organizationStats/header.tsx":(t,e,a)=>{a.d(e,{Z:()=>d});var r=a("./app/components/featureFeedback/index.tsx"),s=a("./app/components/layouts/thirds.tsx"),o=a("./app/components/links/link.tsx"),i=a("./app/components/pageHeadingQuestionTooltip.tsx"),n=a("./app/locale.tsx"),l=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(t){let{organization:e,activeTab:a}=t;return(0,l.BX)(s.h4,{children:[(0,l.tZ)(s.oB,{children:(0,l.BX)(s.Dx,{children:[(0,n.t)("Stats"),(0,l.tZ)(i.u,{docsUrl:"https://docs.sentry.io/product/stats/",title:(0,n.t)("A view of the usage data that Sentry has received across your entire organization.")})]})}),(0,l.tZ)(s.kP,{children:"stats"!==a&&(0,l.tZ)(r.z,{buttonProps:{size:"sm"},featureName:"team-stats"})}),(0,l.BX)(s.mL,{underlined:!0,children:[(0,l.tZ)("li",{className:"stats"===a?"active":"",children:(0,l.tZ)(o.Z,{to:`/organizations/${e.slug}/stats/`,children:(0,n.t)("Usage")})}),(0,l.tZ)("li",{className:"issues"===a?"active":"",children:(0,l.tZ)(o.Z,{to:`/organizations/${e.slug}/stats/issues/`,children:(0,n.t)("Issues")})}),(0,l.tZ)("li",{className:"health"===a?"active":"",children:(0,l.tZ)(o.Z,{to:`/organizations/${e.slug}/stats/health/`,children:(0,n.t)("Health")})})]})]})}c.displayName="StatsHeader";const d=c},"./app/views/organizationStats/index.tsx":(t,e,a)=>{a.r(e),a.d(e,{OrganizationStats:()=>pe,PAGE_QUERY_PARAMS:()=>de,default:()=>ue});var r=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(a("../node_modules/core-js/modules/es.array.push.js"),a("../node_modules/react/index.js")),i=a("../node_modules/lodash/omit.js"),n=a.n(i),l=a("../node_modules/lodash/pick.js"),c=a.n(l),d=a("../node_modules/moment/moment.js"),p=a.n(d),h=a("./app/components/compactSelect/index.tsx"),u=a("./app/components/datePageFilter.tsx"),g=a("./app/components/errorBoundary.tsx"),m=a("./app/components/hookOrDefault.tsx"),y=a("./app/components/layouts/thirds.tsx"),f=a("./app/components/links/externalLink.tsx"),x=a("./app/components/organizations/pageFilterBar.tsx"),D=a("./app/components/organizations/pageFilters/container.tsx"),Z=a("./app/components/organizations/pageFilters/parse.tsx"),b=a("./app/components/pageTimeRangeSelector.tsx"),v=a("./app/components/projectPageFilter.tsx"),C=a("./app/components/sentryDocumentTitle.tsx"),S=a("./app/constants/index.tsx"),E=a("./app/constants/pageFilters.tsx"),j=a("./app/locale.tsx"),P=a("./app/styles/space.tsx"),k=a("./app/utils/withOrganization.tsx"),T=a("./app/utils/withPageFilters.tsx"),w=a("./app/views/organizationStats/header.tsx"),O=(a("../node_modules/core-js/modules/es.error.cause.js"),a("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js")),I=a("../node_modules/color/index.js"),A=a.n(I),L=a("./app/components/charts/baseChart.tsx"),z=a("./app/components/charts/components/legend.tsx"),R=a("./app/components/charts/components/xAxis.tsx"),_=a("./app/components/charts/series/barSeries.tsx"),N=a("./app/components/charts/styles.tsx"),U=a("./app/components/loadingIndicator.tsx"),F=a("./app/components/panels/panel.tsx"),M=a("./app/components/placeholder.tsx"),B=a("./app/icons/index.tsx"),G=a("./app/utils/dates.tsx"),q=a("./app/utils/getDynamicText.tsx"),$=a("./app/utils/theme.tsx"),X=a("./app/components/charts/utils.tsx"),Q=a("./app/utils.tsx");const V=10**6,J=10**9,H=10**9;function Y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isAbbreviated:!1,useUnitScaling:!1};if((arguments.length>1?arguments[1]:void 0)!==S.uG.attachment.plural)return e.isAbbreviated?K(t):t.toLocaleString();if(e.useUnitScaling)return(0,Q.E9)(t);const a=t/H;return e.isAbbreviated?`${K(a)} GB`:`${a.toLocaleString(void 0,{maximumFractionDigits:2})} GB`}function W(t){return{isAbbreviated:t!==S.uG.attachment.plural,useUnitScaling:t===S.uG.attachment.plural}}function K(t){return t>=J?(t/J).toLocaleString(void 0,{maximumFractionDigits:2})+"B":t>=V?(t/V).toLocaleString(void 0,{maximumFractionDigits:1})+"M":t>=1e3?(t/1e3).toFixed().toLocaleString()+"K":t.toFixed().toLocaleString()}const tt="MMM D",et="MMM D LT";function at(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1d",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,G.YJ)(e)/24>=1)return a?p().utc(t).format(tt):t.format(tt);const r=(0,Z.su)(e),s=a?p()(t).utc():p()(t).local();return r?`${s.format(et)} - ${s.add(r.period,r.periodLength).format("LT (Z)")}`:s.format(et)}function rt(t,e){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1d";const s=[],o=p()(t).startOf("h"),i=p()(e).startOf("h");if(!o.isValid()||!i.isValid())return s;const{period:n,periodLength:l}=(0,Z.su)(r)??{period:1,periodLength:"d"};for(;!o.isAfter(i);)s.push(at(o,r,a)),o.add(n,l);return s}function st(t){return function(){return Y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t,{useUnitScaling:!0})}}var ot=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const it=A()($.ZP.dataCategory.errors).lighten(.25).string(),nt=A()($.ZP.dataCategory.transactions).lighten(.35).string(),lt=A()($.ZP.dataCategory.attachments).lighten(.65).string(),ct=$.ZP.red300,dt=$.ZP.pink100,pt=[{label:S.uG.error.titleName,value:S.uG.error.plural,disabled:!1,yAxisMinInterval:100},{label:S.uG.transaction.titleName,value:S.uG.transaction.plural,disabled:!1,yAxisMinInterval:100},{label:S.uG.replay.titleName,value:S.uG.replay.plural,disabled:!1,yAxisMinInterval:100},{label:S.uG.attachment.titleName,value:S.uG.attachment.plural,disabled:!1,yAxisMinInterval:.5*H},{label:S.uG.profile.titleName,value:S.uG.profile.plural,disabled:!1,yAxisMinInterval:100}];let ht;!function(t){t.CUMULATIVE="cumulative",t.PERIODIC="periodic"}(ht||(ht={}));const ut=[{label:(0,j.t)("Cumulative"),value:ht.CUMULATIVE,disabled:!1},{label:(0,j.t)("Periodic"),value:ht.PERIODIC,disabled:!1}];let gt;!function(t){t.ACCEPTED="Accepted",t.DROPPED="Dropped",t.PROJECTED="Projected",t.FILTERED="Filtered"}(gt||(gt={}));class mt extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{xAxisDates:[]})}static getDerivedStateFromProps(t,e){const{usageDateStart:a,usageDateEnd:r,usageDateShowUtc:s,usageDateInterval:o}=t;return{...e,xAxisDates:rt(a,r,s,o)}}get chartColors(){const{dataCategory:t,theme:e}=this.props,a=e.chartOther;return t===S.uG.error.plural?[it,dt,ct,a]:t===S.uG.attachment.plural?[lt,dt,ct,a]:[nt,dt,ct,a]}get chartMetadata(){const{categoryOptions:t,usageDateStart:e,usageDateEnd:a}=this.props,{usageDateInterval:r,usageStats:s,dataCategory:o,dataTransform:i,handleDataTransformation:n}=this.props,{xAxisDates:l}=this.state,c=t.find((t=>t.value===o));if(!c)throw new Error("Selected item is not supported");const d={...n(s,i)};Object.keys(d).forEach((t=>{const e=t===gt.PROJECTED;d[t]=d[t].map((t=>({...t,tooltip:{show:!1},itemStyle:{opacity:e?.6:1}})))}));const p=24*(0,G.Ri)(void 0,e,a),h=(0,G.YJ)(r);if(p<0||h<0)throw new Error("UsageChart: Unable to parse data time period");const{xAxisTickInterval:u,xAxisLabelInterval:g}=function(t,e){return t>168?function(t,e){const a=t/24;if(a<=7)throw new Error("This method should be used for periods > 7 days");let r=a,s=r;const o=[2,4,7,14],i=[1,2,7,7];for(let t=0;t<o.length&&s>10;t++)s=r/o[t],r=a/i[t];return{xAxisTickInterval:e/r-1,xAxisLabelInterval:e/s-1}}(t,e):function(t,e){const a=t/24;if(a>7)throw new Error("This method should be used for periods <= 7 days");const r=e/a;return{xAxisTickInterval:r-1,xAxisLabelInterval:r-1}}(t,e)}(p,p/h),{label:m,yAxisMinInterval:y}=c;return{chartLabel:m,chartData:d,xAxisData:l,xAxisTickInterval:u,xAxisLabelInterval:g,yAxisMinInterval:y,yAxisFormatter:t=>Y(t,o,{isAbbreviated:!0,useUnitScaling:!0}),tooltipValueFormatter:st(o)}}get chartSeries(){const{chartSeries:t}=this.props,{chartData:e}=this.chartMetadata;let a=[(0,_.Z)({name:gt.ACCEPTED,data:e.accepted,barMinHeight:1,stack:"usage",legendHoverLink:!1}),(0,_.Z)({name:gt.FILTERED,data:e.filtered,barMinHeight:1,stack:"usage",legendHoverLink:!1}),(0,_.Z)({name:gt.DROPPED,data:e.dropped,stack:"usage",legendHoverLink:!1}),(0,_.Z)({name:gt.PROJECTED,data:e.projected,barMinHeight:1,stack:"usage",legendHoverLink:!1})];return t&&(a=a.concat(t)),a}get chartLegendData(){const{chartSeries:t}=this.props,{chartData:e}=this.chartMetadata,a=[{name:gt.ACCEPTED}];return e.filtered&&e.filtered.length>0&&a.push({name:gt.FILTERED}),e.dropped.length>0&&a.push({name:gt.DROPPED}),e.projected.length>0&&a.push({name:gt.PROJECTED}),t&&t.forEach((t=>{a.push({name:`${t.name}`})})),a}get chartTooltip(){const{chartTooltip:t}=this.props;if(t)return t;const{tooltipValueFormatter:e}=this.chartMetadata;return{trigger:"axis",valueFormatter:e}}renderChart(){const{categoryColors:t,theme:e,title:a,isLoading:r,isError:s,errors:i}=this.props;if(r)return(0,ot.tZ)(M.Z,{height:"200px",children:(0,ot.tZ)(U.Z,{mini:!0})});if(s)return(0,ot.BX)(M.Z,{height:"200px",children:[(0,ot.tZ)(B.FC,{size:"sm"}),(0,ot.tZ)(ft,{"data-test-id":"error-messages",children:i&&Object.keys(i).map((t=>(0,ot.tZ)("span",{children:i[t]?.message},t)))})]});const{xAxisData:n,xAxisTickInterval:l,xAxisLabelInterval:c,yAxisMinInterval:d,yAxisFormatter:p}=this.chartMetadata,h=t?.length?t:this.chartColors;return(0,ot.BX)(o.Fragment,{children:[(0,ot.tZ)(N.ws,{children:a||(0,j.t)("Current Usage Period")}),(0,q.Z)({value:(0,ot.tZ)(L.Z,{colors:h,grid:{bottom:"3px",left:"0px",right:"10px",top:"40px"},xAxis:(0,R.Z)({show:!0,type:"category",name:"Date",data:n,axisTick:{interval:l,alignWithLabel:!0},axisLabel:{interval:c,formatter:t=>t.slice(0,6)},theme:e}),yAxis:{min:0,minInterval:d,axisLabel:{formatter:p,color:e.chartLabel}},series:this.chartSeries,tooltip:this.chartTooltip,onLegendSelectChanged:()=>{},legend:(0,z.Z)({right:10,top:5,data:this.chartLegendData,theme:e})}),fixed:(0,ot.tZ)(M.Z,{height:"200px"})})]})}render(){const{footer:t}=this.props;return(0,ot.BX)(F.Z,{id:"usage-chart","data-test-id":"usage-chart",children:[(0,ot.tZ)(N.BO,{children:this.renderChart()}),t]})}}mt.displayName="UsageChart",(0,r.Z)(mt,"defaultProps",{categoryOptions:pt,usageDateShowUtc:!0,usageDateInterval:"1d",handleDataTransformation:(t,e)=>{const a={accepted:[],dropped:[],projected:[],filtered:[]},r=e===ht.CUMULATIVE;return Object.keys(t).forEach((e=>{let s=0;a[e]=t[e].map((t=>{const[e,a]=t.value;return s=r?s+a:a,{...t,value:[e,s]}}))})),a}});const yt=(0,O.b)(mt),ft=(0,s.Z)("div",{target:"e1m4wy9t0"})("display:flex;flex-direction:column;margin-top:",(0,P.D)(1),";font-size:",(t=>t.theme.fontSizeSmall),";");var xt=a("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),Dt=a("../node_modules/lodash/isEqual.js"),Zt=a.n(Dt),bt=a("./app/components/charts/optionSelector.tsx"),vt=a("./app/components/deprecatedAsyncComponent.tsx"),Ct=a("./app/components/notAvailable.tsx"),St=a("./app/components/scoreCard.tsx"),Et=a("./app/types/index.tsx");class jt extends vt.Z{componentDidUpdate(t){const{projectIds:e}=this.props;t.projectIds!==e&&this.reloadData()}getEndpoints(){return[["orgStats",this.endpointPath,{query:this.endpointQuery}]]}get endpointPath(){const{organization:t}=this.props;return`/organizations/${t.slug}/stats_v2/`}get endpointQuery(){const{projectIds:t}=this.props;return{statsPeriod:"5m",interval:"1m",groupBy:["category","outcome"],project:t,field:["sum(quantity)"]}}get minuteData(){const{dataCategory:t}=this.props,{loading:e,error:a,orgStats:r}=this.state;if(e||a||!r||0===r.intervals.length)return;const{intervals:s,groups:o}=r,i=Math.max(s.length-2,0);return Y(o.reduce(((e,a)=>{const{outcome:r,category:s}=a.by;return t.includes(`${s}`)&&r===Et.kO.ACCEPTED?e+=a.series["sum(quantity)"][i]:e}),0),t,W(t))}renderComponent(){return this.minuteData?(0,ot.BX)(kt,{children:[this.minuteData," ",(0,j.t)("in last min")]}):null}}const Pt=jt,kt=(0,s.Z)("div",{target:"erwmyt20"})("display:inline-block;color:",(t=>t.theme.success),";font-size:",(t=>t.theme.fontSizeMedium),";");class Tt extends vt.Z{constructor(){super(...arguments),(0,r.Z)(this,"renderChartFooter",(()=>{const{handleChangeState:t}=this.props,{loading:e,error:a}=this.state,{chartDateInterval:r,chartTransform:s,chartDateStartDisplay:o,chartDateEndDisplay:i,chartDateTimezoneDisplay:n}=this.chartData;return(0,ot.BX)(Lt,{children:[(0,ot.tZ)(N.m2,{children:(0,ot.BX)(zt,{children:[(0,ot.tZ)(N.OT,{children:(0,j.t)("Date Range:")}),(0,ot.tZ)("span",{children:e||a?(0,ot.tZ)(Ct.Z,{}):(0,j._N)("[start] — [end] ([timezone] UTC, [interval] interval)",{start:o,end:i,timezone:n,interval:r})})]})}),(0,ot.tZ)(N.m2,{children:(0,ot.tZ)(bt.Z,{title:(0,j.t)("Type"),selected:s,options:ut,onChange:e=>t({transform:e})})})]})}))}componentDidUpdate(t){const{dataDatetime:e,projectIds:a}=t,{dataDatetime:r,projectIds:s}=this.props;e.start===r.start&&e.end===r.end&&e.period===r.period&&e.utc===r.utc&&Zt()(a,s)||this.reloadData()}getEndpoints(){return[["orgStats",this.endpointPath,{query:this.endpointQuery}]]}get projectDetails(){return[]}get endpointPath(){const{organization:t}=this.props;return`/organizations/${t.slug}/stats_v2/`}get endpointQueryDatetime(){const{dataDatetime:t}=this.props;return t.start&&t.end?{start:t.start,end:t.end,utc:t.utc}:{statsPeriod:t.period||S.GY}}get endpointQuery(){const{dataDatetime:t,projectIds:e}=this.props;return{...this.endpointQueryDatetime,interval:(0,X.EX)(t),groupBy:["category","outcome"],project:e,field:["sum(quantity)"]}}get chartData(){const{orgStats:t}=this.state;return{...this.mapSeriesToChart(t),...this.chartDateRange,...this.chartTransform}}get chartTransform(){const{chartTransform:t}=this.props;switch(t){case ht.CUMULATIVE:case ht.PERIODIC:return{chartTransform:t};default:return{chartTransform:ht.PERIODIC}}}get chartDateRange(){const{orgStats:t}=this.state,{dataDatetime:e}=this.props,a=(0,X.EX)(e);if(!t||!t.intervals)return{chartDateInterval:a,chartDateStart:"",chartDateEnd:"",chartDateUtc:!0,chartDateStartDisplay:"",chartDateEndDisplay:"",chartDateTimezoneDisplay:""};const{intervals:r}=t,s=(0,G.YJ)(a),o=p()(r[0]).utc(),i=r.length<2?p()(o):p()(r[r.length-1]).utc(),n=function(t){if(t.utc)return!0;const e=(0,X.EX)(t);return(0,G.YJ)(e)>=24}(e),l=s>=24?tt:et,c=p()(o),d=p()(i),h=n?p()(o).utc():p()(o).local(),u=n?p()(i).utc():p()(i).local();return s<24&&u.add(s,"h"),{chartDateInterval:a,chartDateStart:c.format(),chartDateEnd:d.format(),chartDateUtc:n,chartDateStartDisplay:h.format(l),chartDateEndDisplay:u.format(l),chartDateTimezoneDisplay:h.format("Z")}}get chartProps(){const{dataCategory:t}=this.props,{error:e,errors:a,loading:r}=this.state,{chartStats:s,dataError:o,chartDateInterval:i,chartDateStart:n,chartDateEnd:l,chartDateUtc:c,chartTransform:d}=this.chartData;return{isLoading:r,isError:e||!!o,errors:o?{...a,data:o}:a,title:" ",footer:this.renderChartFooter(),dataCategory:t,dataTransform:d,usageDateStart:n,usageDateEnd:l,usageDateShowUtc:c,usageDateInterval:i,usageStats:s}}get cardMetadata(){const{dataCategory:t,dataCategoryName:e,organization:a,projectIds:r}=this.props,{total:s,accepted:o,dropped:i,filtered:n}=this.chartData.cardStats;return{total:{title:(0,j._N)("Total [dataCategory]",{dataCategory:e}),score:s},accepted:{title:(0,j._N)("Accepted [dataCategory]",{dataCategory:e}),help:(0,j._N)("Accepted [dataCategory] were successfully processed by Sentry",{dataCategory:t}),score:o,trend:(0,ot.tZ)(Pt,{dataCategory:t,organization:a,projectIds:r})},filtered:{title:(0,j._N)("Filtered [dataCategory]",{dataCategory:e}),help:(0,j._N)("Filtered [dataCategory] were blocked due to your inbound data filter rules",{dataCategory:t}),score:n},dropped:{title:(0,j._N)("Dropped [dataCategory]",{dataCategory:e}),help:(0,j._N)("Dropped [dataCategory] were discarded due to invalid data, rate-limits, quota limits, or spike protection",{dataCategory:t}),score:i}}}mapSeriesToChart(t){const e={total:void 0,accepted:void 0,dropped:void 0,filtered:void 0},a={accepted:[],dropped:[],projected:[],filtered:[]};if(!t)return{cardStats:e,chartStats:a};try{const{dataCategory:e}=this.props,{chartDateInterval:r,chartDateUtc:s}=this.chartDateRange,o=t.intervals.map((t=>({date:at(p()(t),r,s),total:0,accepted:0,filtered:0,dropped:{total:0}}))),i={total:0,[Et.kO.ACCEPTED]:0,[Et.kO.FILTERED]:0,[Et.kO.DROPPED]:0,[Et.kO.INVALID]:0,[Et.kO.RATE_LIMITED]:0,[Et.kO.CLIENT_DISCARD]:0};return t.groups.forEach((t=>{const{outcome:a,category:r}=t.by;e.includes(`${r}`)&&(a!==Et.kO.CLIENT_DISCARD&&(i.total+=t.totals["sum(quantity)"]),i[a]+=t.totals["sum(quantity)"],t.series["sum(quantity)"].forEach(((t,e)=>{switch(a){case Et.kO.ACCEPTED:case Et.kO.FILTERED:return void(o[e][a]+=t);case Et.kO.DROPPED:case Et.kO.RATE_LIMITED:case Et.kO.INVALID:return void(o[e].dropped.total+=t);default:return}})))})),i[Et.kO.DROPPED]+=i[Et.kO.INVALID],i[Et.kO.DROPPED]+=i[Et.kO.RATE_LIMITED],o.forEach((t=>{t.total=t.accepted+t.filtered+t.dropped.total,a.accepted.push({value:[t.date,t.accepted]}),a.dropped.push({value:[t.date,t.dropped.total]}),a.filtered?.push({value:[t.date,t.filtered]})})),{cardStats:{total:Y(i.total,e,W(e)),accepted:Y(i[Et.kO.ACCEPTED],e,W(e)),filtered:Y(i[Et.kO.FILTERED],e,W(e)),dropped:Y(i[Et.kO.DROPPED],e,W(e))},chartStats:a}}catch(r){return xt.$e((e=>{e.setContext("query",this.endpointQuery),e.setContext("body",{...t}),xt.Tb(r)})),{cardStats:e,chartStats:a,dataError:new Error("Failed to parse stats data")}}}renderCards(){const{loading:t}=this.state;return Object.values(this.cardMetadata).map(((e,a)=>(0,ot.tZ)(It,{title:e.title,score:t?void 0:e.score,help:e.help,trend:e.trend},a)))}renderChart(){const{loading:t}=this.state;return(0,ot.tZ)(yt,{...this.chartProps,isLoading:t})}renderProjectDetails(){const{isSingleProject:t}=this.props,e=this.projectDetails.map(((t,e)=>(0,ot.tZ)(g.Z,{mini:!0,children:t},e)));return t?e:null}renderComponent(){return(0,ot.BX)(o.Fragment,{children:[(0,ot.BX)(Ot,{children:[this.renderCards(),(0,ot.tZ)(At,{"data-test-id":"usage-stats-chart",children:this.renderChart()})]}),this.renderProjectDetails()]})}}const wt=Tt,Ot=(0,s.Z)("div",{target:"etr2f1k4"})("display:grid;grid-template-columns:1fr;gap:",(0,P.D)(2),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:repeat(2, 1fr);}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-template-columns:repeat(4, 1fr);}"),It=(0,s.Z)(St.ZP,{target:"etr2f1k3"})({name:"14rqsjo",styles:"grid-column:auto/span 1;margin:0"}),At=(0,s.Z)("div",{target:"etr2f1k2"})({name:"18iuzk9",styles:"grid-column:1/-1"}),Lt=(0,s.Z)("div",{target:"etr2f1k1"})("display:flex;flex-direction:row;justify-content:space-between;padding:",(0,P.D)(1)," ",(0,P.D)(3),";border-top:1px solid ",(t=>t.theme.border),";"),zt=(0,s.Z)("div",{target:"etr2f1k0"})("display:flex;flex-direction:row;align-items:center;>",N.OT,"{margin-right:",(0,P.D)(1.5),";}>span:last-child{font-weight:400;font-size:",(t=>t.theme.fontSizeMedium),";}");var Rt=a("./app/components/gridEditable/sortLink.tsx"),_t=a("./app/components/pagination.tsx"),Nt=a("./app/components/searchBar.tsx"),Ut=a("./app/utils/withProjects.tsx"),Ft=a("./app/actionCreators/pageFilters.tsx"),Mt=a("./app/components/button.tsx"),Bt=a("./app/components/charts/errorPanel.tsx"),Gt=a("./app/components/emptyMessage.tsx"),qt=a("./app/components/idBadge/index.tsx"),$t=a("./app/components/links/link.tsx"),Xt=a("./app/components/panels/panelTable.tsx"),Qt=a("./app/utils/withSentryRouter.tsx");class Vt extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"getErrorMessage",(t=>"No projects available"===t.projectStats.responseJSON.detail?(0,ot.tZ)(Gt.Z,{icon:(0,ot.tZ)(B.FC,{color:"gray300",legacySize:"48px"}),title:(0,j.t)("You don't have access to any projects, or your organization has no projects."),description:(0,j._N)("Learn more about [link:Project Access]",{link:(0,ot.tZ)(f.Z,{href:"https://docs.sentry.io/product/accounts/membership/#restricting-access"})})}):(0,ot.tZ)(B.FC,{color:"gray300",legacySize:"48px"})))}loadProject(t){(0,Ft.id)([t],this.props.router,{save:!0,environments:[]}),window.scrollTo({top:0,left:0,behavior:"smooth"})}renderTableRow(t){const{dataCategory:e}=this.props,{project:a,total:r,accepted:s,filtered:o,dropped:i}=t;return[(0,ot.tZ)(Wt,{children:(0,ot.tZ)($t.Z,{to:t.projectLink,children:(0,ot.tZ)(Kt,{avatarSize:16,disableLink:!0,hideOverflow:!0,project:a,displayName:a.slug})})},0),(0,ot.tZ)(Yt,{children:Y(r,e,W(e))},1),(0,ot.tZ)(Yt,{children:Y(s,e,W(e))},2),(0,ot.tZ)(Yt,{children:Y(o,e,W(e))},3),(0,ot.tZ)(Yt,{children:Y(i,e,W(e))},4),(0,ot.BX)(Yt,{children:[(0,ot.BX)(Mt.zx,{title:"Go to project level stats","data-test-id":a.slug,size:"xs",onClick:()=>{this.loadProject(parseInt(t.project.id,10))},children:[(0,ot.tZ)(ee,{type:"bar",size:"sm"}),(0,ot.tZ)("span",{children:"View Stats"})]}),(0,ot.tZ)($t.Z,{to:t.projectSettingsLink,children:(0,ot.tZ)(ae,{size:"xs",title:"Go to project settings",children:(0,ot.tZ)(te,{size:"sm"})})})]},5)]}render(){const{isEmpty:t,isLoading:e,isError:a,errors:r,headers:s,usageStats:o}=this.props;return a?(0,ot.tZ)(F.Z,{children:(0,ot.tZ)(Bt.Z,{height:"256px",children:this.getErrorMessage(r)})}):(0,ot.tZ)(Ht,{isLoading:e,isEmpty:t,headers:s,children:o.map((t=>this.renderTableRow(t)))})}}Vt.displayName="UsageTable";const Jt=(0,Qt.Z)(Vt),Ht=(0,s.Z)(Xt.Z,{target:"ecrx8ca6"})("grid-template-columns:repeat(6, auto);@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:1fr repeat(5, minmax(0, auto));}",Xt.z,"{height:45px;}"),Yt=(0,s.Z)("div",{target:"ecrx8ca5"})({name:"eos4ds",styles:"display:flex;align-items:center;font-variant-numeric:tabular-nums;justify-content:right;padding-top:9px;padding-bottom:9px"}),Wt=(0,s.Z)(Yt,{target:"ecrx8ca4"})({name:"1rk70o",styles:"justify-content:left"}),Kt=(0,s.Z)(qt.Z,{target:"ecrx8ca3"})({name:"ri00hy",styles:"overflow:hidden;white-space:nowrap;flex-shrink:1"}),te=(0,s.Z)(B.iC,{target:"ecrx8ca2"})("color:",(t=>t.theme.gray300),";align-items:center;display:inline-flex;justify-content:space-between;margin-right:",(0,P.D)(1),";margin-left:",(0,P.D)(1),";transition:0.5s opacity ease-out;&:hover{color:",(t=>t.theme.textColor),";}"),ee=(0,s.Z)(B.TX,{target:"ecrx8ca1"})("color:",(t=>t.theme.gray300),";margin-right:5px;&:hover{color:",(t=>t.theme.textColor),";cursor:pointer;}"),ae=(0,s.Z)(Mt.zx,{target:"ecrx8ca0"})({name:"r79mrd",styles:"padding:0px;margin-left:7px"});let re;!function(t){t.PROJECT="project",t.TOTAL="total",t.ACCEPTED="accepted",t.FILTERED="filtered",t.DROPPED="dropped",t.INVALID="invalid",t.RATE_LIMITED="rate_limited"}(re||(re={}));class se extends vt.Z{constructor(){super(...arguments),(0,r.Z)(this,"handleChangeSort",(t=>{const{handleChangeState:e}=this.props,{key:a,direction:r}=this.tableSort;let s=1;return a===t?s=-1*r:t===re.PROJECT&&(s=-1),e({sort:`${s>0?"-":""}${t}`},{willUpdateRouter:!1})})),(0,r.Z)(this,"handleSearch",(t=>{const{handleChangeState:e,tableQuery:a}=this.props;t!==a&&e(t?{query:t,cursor:void 0}:{query:void 0,cursor:void 0})}))}componentDidUpdate(t){const{dataDatetime:e,dataCategory:a,projectIds:r}=t,{dataDatetime:s,dataCategory:o,projectIds:i}=this.props;e.start===s.start&&e.end===s.end&&e.period===s.period&&e.utc===s.utc&&a===o&&Zt()(r,i)||this.reloadData()}getEndpoints(){return[["projectStats",this.endpointPath,{query:this.endpointQuery}]]}get endpointPath(){const{organization:t}=this.props;return`/organizations/${t.slug}/stats_v2/`}get endpointQuery(){const{dataDatetime:t,dataCategory:e,projectIds:a,isSingleProject:r}=this.props;return{...t.start&&t.end?{start:t.start,end:t.end,utc:t.utc}:{statsPeriod:t.period||S.GY},interval:(0,X.EX)(t),groupBy:["outcome","project"],field:["sum(quantity)"],project:r?[E.mP]:a,category:e.slice(0,-1)}}get tableData(){const{projectStats:t}=this.state;return{headers:this.tableHeader,...this.mapSeriesToTable(t)}}get tableSort(){const{tableSort:t}=this.props;if(!t)return{key:re.TOTAL,direction:1};let e=t,a=-1;switch("-"===t.charAt(0)&&(e=e.slice(1),a=1),e){case re.PROJECT:case re.TOTAL:case re.ACCEPTED:case re.FILTERED:case re.DROPPED:return{key:e,direction:a};default:return{key:re.ACCEPTED,direction:-1}}}get tableOffset(){const{tableCursor:t}=this.props;return function(t){const e=Number(t?.split(":")[1]);return isNaN(e)?0:e}(t)}get pageLink(){const t=this.tableOffset;return function(t){let{numRows:e,pageSize:a,offset:r}=t;const s=r-a,o=r+a;return`<link>; rel="previous"; results="${s>=0}"; cursor="0:${Math.max(0,s)}:1", <link>; rel="next"; results="${o<e}"; cursor="0:${o}:0"`}({numRows:this.filteredProjects.length,pageSize:se.MAX_ROWS_USAGE_TABLE,offset:t})}get projectSelectionFilter(){const{projectIds:t,isSingleProject:e}=this.props,a=new Set(t.map((t=>`${t}`)));return 0===a.size||a.has("-1")||e?t=>!0:t=>a.has(t.id)}get filteredProjects(){const{projects:t,tableQuery:e}=this.props;return e?t.filter((t=>t.slug.includes(e)&&t.hasAccess&&this.projectSelectionFilter(t))):t.filter((t=>t.hasAccess&&this.projectSelectionFilter(t)))}get tableHeader(){const{key:t,direction:e}=this.tableSort,a=a=>{if(a===t)return e>0?"desc":"asc"};return[{key:re.PROJECT,title:(0,j.t)("Project"),align:"left",direction:a(re.PROJECT),onClick:()=>this.handleChangeSort(re.PROJECT)},{key:re.TOTAL,title:(0,j.t)("Total"),align:"right",direction:a(re.TOTAL),onClick:()=>this.handleChangeSort(re.TOTAL)},{key:re.ACCEPTED,title:(0,j.t)("Accepted"),align:"right",direction:a(re.ACCEPTED),onClick:()=>this.handleChangeSort(re.ACCEPTED)},{key:re.FILTERED,title:(0,j.t)("Filtered"),align:"right",direction:a(re.FILTERED),onClick:()=>this.handleChangeSort(re.FILTERED)},{key:re.DROPPED,title:(0,j.t)("Dropped"),align:"right",direction:a(re.DROPPED),onClick:()=>this.handleChangeSort(re.DROPPED)}].map((t=>{const e=t.key===re.PROJECT?Wt:Yt;return(0,ot.tZ)(e,{children:(0,ot.tZ)(Rt.Z,{canSort:!0,title:t.title,align:t.align,direction:t.direction,generateSortLink:t.onClick})},t.key)})).concat([(0,ot.tZ)(Yt,{},"empty")])}getProjectLink(t){const{dataCategory:e,getNextLocations:a,organization:r}=this.props,{performance:s,projectDetail:o,settings:i}=a(t);return e===S.uG.transaction.plural&&r.features.includes("performance-view")?{projectLink:s,projectSettingsLink:i}:{projectLink:o,projectSettingsLink:i}}mapSeriesToTable(t){if(!t)return{tableStats:[]};const e={};try{const a={[re.TOTAL]:0,[re.ACCEPTED]:0,[re.FILTERED]:0,[re.DROPPED]:0},r=this.filteredProjects,s=new Set(r.map((t=>t.id)));t.groups.forEach((t=>{const{outcome:r,project:o}=t.by;s.has(o.toString())&&(e[o]||(e[o]={...a}),r!==Et.kO.CLIENT_DISCARD&&(e[o].total+=t.totals["sum(quantity)"]),r===Et.kO.ACCEPTED||r===Et.kO.FILTERED?e[o][r]+=t.totals["sum(quantity)"]:r!==Et.kO.RATE_LIMITED&&r!==Et.kO.INVALID&&r!==Et.kO.DROPPED||(e[o][re.DROPPED]+=t.totals["sum(quantity)"]))}));const o=r.map((t=>{const r=e[t.id]??{...a};return{project:{...t},...this.getProjectLink(t),...r}})),{key:i,direction:n}=this.tableSort;o.sort(((t,e)=>i===re.PROJECT?e.project.slug.localeCompare(t.project.slug)*n:t[i]!==e[i]?(e[i]-t[i])*n:t.project.slug.localeCompare(e.project.slug)));const l=this.tableOffset;return{tableStats:o.slice(l,l+se.MAX_ROWS_USAGE_TABLE)}}catch(e){return xt.$e((a=>{a.setContext("query",this.endpointQuery),a.setContext("body",{...t}),xt.Tb(e)})),{tableStats:[],error:e}}}renderComponent(){const{error:t,errors:e,loading:a}=this.state,{dataCategory:r,loadingProjects:s,tableQuery:i,isSingleProject:n}=this.props,{headers:l,tableStats:c}=this.tableData;return(0,ot.BX)(o.Fragment,{children:[n&&(0,ot.tZ)(le,{children:(0,ot.tZ)(ne,{children:(0,j.t)("All Projects")})}),!n&&(0,ot.tZ)(ie,{children:(0,ot.tZ)(Nt.Z,{defaultQuery:"",query:i,placeholder:(0,j.t)("Filter your projects"),onSearch:this.handleSearch})}),(0,ot.BX)(ie,{"data-test-id":"usage-stats-table",children:[(0,ot.tZ)(Jt,{isLoading:a||s,isError:t,errors:e,isEmpty:0===c.length,headers:l,dataCategory:r,usageStats:c}),(0,ot.tZ)(_t.Z,{pageLinks:this.pageLink})]})]})}}(0,r.Z)(se,"MAX_ROWS_USAGE_TABLE",25);const oe=(0,Ut.Z)(se),ie=(0,s.Z)("div",{target:"e8xgzyn2"})("margin-bottom:",(0,P.D)(2),";"),ne=(0,s.Z)("div",{target:"e8xgzyn1"})("font-weight:bold;font-size:",(t=>t.theme.fontSizeLarge),";color:",(t=>t.theme.gray400),";display:flex;flex:1;align-items:center;"),le=(0,s.Z)("div",{target:"e8xgzyn0"})("display:flex;margin-bottom:",(0,P.D)(2),";align-items:center;"),ce=(0,m.Z)({hookName:"component:org-stats-banner"}),de=["statsPeriod","start","end","utc","pageEnd","pageStart","pageStatsPeriod","pageStatsUtc","dataCategory","transform","sort","query","cursor","spikeCursor"];class pe extends o.Component{constructor(){var t;super(...arguments),t=this,(0,r.Z)(this,"getNextLocations",(t=>{const{location:e,organization:a}=this.props,r={...e,query:{...e.query,project:t.id}};return r.query=n()(r.query,de),{performance:{...r,pathname:`/organizations/${a.slug}/performance/`},projectDetail:{...r,pathname:`/organizations/${a.slug}/projects/${t.slug}/`},issueList:{...r,pathname:`/organizations/${a.slug}/issues/`},settings:{pathname:`/settings/${a.slug}/projects/${t.slug}/`}}})),(0,r.Z)(this,"setStateOnUrl",(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{willUpdateRouter:!0};const{location:r,router:s}=t.props,o=c()(e,de),i={...r,query:{...r?.query,...o}};return a.willUpdateRouter&&s.push(i),i})),(0,r.Z)(this,"renderProjectPageControl",(()=>{const{organization:t}=this.props;if(!this.hasProjectStats)return null;const e=t.features.includes("session-replay")?pt:pt.filter((t=>t.value!==S.uG.replay.plural));return(0,ot.tZ)(De,{children:(0,ot.BX)(x.Z,{children:[(0,ot.tZ)(v.Z,{}),(0,ot.tZ)(me,{triggerProps:{prefix:(0,j.t)("Category")},value:this.dataCategory,options:e,onChange:t=>this.setStateOnUrl({dataCategory:String(t.value)})}),(0,ot.tZ)(u.Z,{alignDropdown:"left"})]})})})),(0,r.Z)(this,"handleUpdateDatetime",(t=>{const{start:e,end:a,relative:r,utc:s}=t;if(e&&a){const t=s?p().utc:p();return this.setStateOnUrl({pageStatsPeriod:void 0,pageStart:t(e).format(),pageEnd:t(a).format(),pageUtc:s??void 0})}return this.setStateOnUrl({pageStatsPeriod:r||void 0,pageStart:void 0,pageEnd:void 0,pageUtc:void 0})})),(0,r.Z)(this,"renderPageControl",(()=>{const{organization:t}=this.props;if(this.hasProjectStats)return null;const{start:e,end:a,period:r,utc:s}=this.dataDatetime,o=t.features.includes("session-replay")?pt:pt.filter((t=>t.value!==S.uG.replay.plural));return(0,ot.BX)(ge,{children:[(0,ot.tZ)(me,{triggerProps:{prefix:(0,j.t)("Category")},value:this.dataCategory,options:o,onChange:t=>this.setStateOnUrl({dataCategory:String(t.value)})}),(0,ot.tZ)(ye,{organization:t,relative:r??"",start:e??null,end:a??null,utc:s??null,onUpdate:this.handleUpdateDatetime,relativeOptions:n()(S.wh,["1h"])})]})}))}get dataCategory(){const t=this.props.location?.query?.dataCategory;switch(t){case S.uG.error.plural:case S.uG.transaction.plural:case S.uG.attachment.plural:case S.uG.profile.plural:case S.uG.replay.plural:return t;default:return S.uG.error.plural}}get dataCategoryInfo(){const t=this.props.location?.query?.dataCategory;return Object.values(S.uG).find((e=>e.plural===t))??S.uG.error}get dataCategoryName(){return this.dataCategoryInfo.titleName??(0,j.t)("Unknown Data Category")}get dataDatetime(){const t=this.hasProjectStats?this.props.selection.datetime:this.props.location?.query??{},{start:e,end:a,statsPeriod:r,utc:s}=(0,Z.fK)(t,{allowEmptyPeriod:!0,allowAbsoluteDatetime:!0,allowAbsolutePageDatetime:!0});if(!r&&!e&&!a)return{period:S.GY};if(r)return{period:r};const o="true"===s;return e&&a?o?{start:p().utc(e).format(),end:p().utc(a).format(),utc:o}:{start:p()(e).utc().format(),end:p()(a).utc().format(),utc:o}:{period:S.GY}}get chartTransform(){return this.props.location?.query?.transform}get tableSort(){return this.props.location?.query?.sort}get tableQuery(){return this.props.location?.query?.query}get tableCursor(){return this.props.location?.query?.cursor}get projectIds(){const t=this.props.selection.projects.length?this.props.selection.projects:[E.mP];return this.hasProjectStats?t:[E.mP]}get hasProjectStats(){return this.props.organization.features.includes("project-stats")}get isSingleProject(){return!!this.hasProjectStats&&1===this.projectIds.length&&!this.projectIds.includes(-1)}renderUsageStatsOrg(){const{organization:t}=this.props;return(0,ot.tZ)(wt,{isSingleProject:this.isSingleProject,projectIds:this.projectIds,organization:t,dataCategory:this.dataCategory,dataCategoryName:this.dataCategoryName,dataDatetime:this.dataDatetime,chartTransform:this.chartTransform,handleChangeState:this.setStateOnUrl})}render(){const{organization:t}=this.props,e=t.features.includes("team-insights");return(0,ot.tZ)(C.Z,{title:"Usage Stats",children:(0,ot.BX)(D.Z,{children:[e?(0,ot.tZ)(w.Z,{organization:t,activeTab:"stats"}):(0,ot.tZ)(y.h4,{children:(0,ot.BX)(y.oB,{children:[(0,ot.tZ)(y.Dx,{children:(0,j.t)("Organization Usage Stats")}),(0,ot.tZ)(xe,{children:(0,j._N)("A view of the usage data that Sentry has received across your entire organization. [link: Read the docs].",{link:(0,ot.tZ)(f.Z,{href:"https://docs.sentry.io/product/stats/"})})})]})}),(0,ot.tZ)(fe,{children:(0,ot.BX)(y.or,{fullWidth:!0,children:[(0,ot.tZ)(ce,{organization:t}),this.renderProjectPageControl(),this.renderPageControl(),(0,ot.tZ)("div",{children:(0,ot.tZ)(g.Z,{mini:!0,children:this.renderUsageStatsOrg()})}),(0,ot.tZ)(g.Z,{mini:!0,children:(0,ot.tZ)(oe,{organization:t,dataCategory:this.dataCategory,dataCategoryName:this.dataCategoryName,isSingleProject:this.isSingleProject,projectIds:this.projectIds,dataDatetime:this.dataDatetime,tableSort:this.tableSort,tableQuery:this.tableQuery,tableCursor:this.tableCursor,handleChangeState:this.setStateOnUrl,getNextLocations:this.getNextLocations})})]})})]})})}}pe.displayName="OrganizationStats";const he=(0,m.Z)({hookName:"component:enhanced-org-stats",defaultComponent:pe}),ue=(0,T.Z)((0,k.Z)(he)),ge=(0,s.Z)("div",{target:"e1iwyuvy5"})("display:grid;grid-template-columns:1fr;gap:",(0,P.D)(2),";margin-bottom:",(0,P.D)(2),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:repeat(2, 1fr);}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-template-columns:repeat(4, 1fr);}"),me=(0,s.Z)(h.Z,{target:"e1iwyuvy4"})("width:auto;position:relative;grid-column:auto/span 1;button[aria-haspopup='listbox']{width:100%;height:100%;}@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-column:auto/span 2;}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-column:auto/span 1;}&::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;box-shadow:inset 0 0 0 1px ",(t=>t.theme.border),";border-radius:",(t=>t.theme.borderRadius),";}"),ye=(0,s.Z)(b.Z,{target:"e1iwyuvy3"})("grid-column:auto/span 1;@media (min-width: ",(t=>t.theme.breakpoints.small),"){grid-column:auto/span 2;}@media (min-width: ",(t=>t.theme.breakpoints.large),"){grid-column:auto/span 3;}"),fe=(0,s.Z)(y.uT,{target:"e1iwyuvy2"})("@media (min-width: ",(t=>t.theme.breakpoints.medium),"){display:block;}"),xe=(0,s.Z)("p",{target:"e1iwyuvy1"})("margin-top:",(0,P.D)(.5),";margin-bottom:0;"),De=(0,s.Z)("div",{target:"e1iwyuvy0"})("display:grid;width:100%;margin-bottom:",(0,P.D)(2),";grid-template-columns:minmax(0, max-content);@media (max-width: ",(t=>t.theme.breakpoints.small),"){grid-template-columns:minmax(0, 1fr);}")}}]);
//# sourceMappingURL=../sourcemaps/app_views_organizationStats_index_tsx.2c392b24d3dde4c29fbdef6679392817.js.map