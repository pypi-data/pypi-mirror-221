"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectServiceHooks_tsx"],{"./app/components/panels/panelHeader.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=s("./app/styles/space.tsx");const n=e=>{let{disablePadding:t,hasButtons:s}=e;return(0,i.iv)("padding:",s?(0,r.D)(1):(0,r.D)(2)," ",t?0:(0,r.D)(2),";","")},a=(0,o.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",n,";")},"./app/components/switchButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>h});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){let{forwardedRef:t,size:s="sm",isActive:o,forceActiveColor:i,isLoading:n,isDisabled:a,toggle:d,id:c,name:p,className:h,...u}=e;return(0,r.tZ)(l,{ref:t,id:c,name:p,type:"button",className:h,onClick:a?void 0:d,role:"checkbox","aria-checked":o,isLoading:n,disabled:a,isActive:o,size:s,"data-test-id":"switch",...u,children:(0,r.tZ)(m,{isDisabled:a,isActive:o,forceActiveColor:i,size:s})})}n.displayName="Switch";const a=e=>"sm"===e.size?16:24,d=e=>a(e)-("sm"===e.size?4:8),c=e=>"sm"===e.size?1:3,p=e=>e.isActive?c(e)+.875*a(e):c(e),l=(0,o.Z)("button",{target:"e1slsb9u1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset ",(e=>e.theme.dropShadowMedium),";height:",a,"px;width:",(e=>1.875*a(e)),"px;border-radius:",a,"px;transition:border 0.1s,box-shadow 0.1s;&[disabled]{cursor:not-allowed;}&:focus,&.focus-visible{outline:none;border-color:",(e=>e.theme.focusBorder),";box-shadow:",(e=>e.theme.focusBorder)," 0 0 0 1px;}"),m=(0,o.Z)("span",{target:"e1slsb9u0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",c,"px;transform:translateX(",p,"px);width:",d,"px;height:",d,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),h=(0,i.forwardRef)(((e,t)=>(0,r.tZ)(n,{...e,forwardedRef:t})))},"./app/views/deprecatedAsyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var o=s("./app/components/deprecatedAsyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends o.Z{getTitle(){return""}render(){return(0,r.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}n.displayName="DeprecatedAsyncView"},"./app/views/settings/project/projectServiceHooks.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),r=s("./app/actionCreators/indicator.tsx"),n=s("./app/components/button.tsx"),a=s("./app/components/emptyMessage.tsx"),d=s("./app/components/forms/fieldGroup/index.tsx"),c=s("./app/components/links/link.tsx"),p=s("./app/components/panels/panel.tsx"),l=s("./app/components/panels/panelAlert.tsx"),m=s("./app/components/panels/panelBody.tsx"),h=s("./app/components/panels/panelHeader.tsx"),u=s("./app/components/switchButton.tsx"),g=s("./app/components/truncate.tsx"),x=s("./app/icons/index.tsx"),b=s("./app/locale.tsx"),v=s("./app/utils/withOrganization.tsx"),w=s("./app/views/deprecatedAsyncView.tsx"),Z=s("./app/views/settings/components/settingsPageHeader.tsx"),k=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j(e){let{orgId:t,projectId:s,hook:o,onToggleActive:i}=e;return(0,k.tZ)(d.Z,{label:(0,k.tZ)(c.Z,{"data-test-id":"project-service-hook",to:`/settings/${t}/projects/${s}/hooks/${o.id}/`,children:(0,k.tZ)(g.Z,{value:o.url})}),help:(0,k.tZ)("small",{children:o.events&&0!==o.events.length?o.events.join(", "):(0,k.tZ)("em",{children:(0,b.t)("no events configured")})}),children:(0,k.tZ)(u.Z,{isActive:"active"===o.status,size:"lg",toggle:i})})}j.displayName="ServiceHookRow";class y extends w.Z{constructor(){super(...arguments),(0,o.Z)(this,"onToggleActive",(e=>{const{organization:t,params:s}=this.props,{hookList:o}=this.state;o&&((0,r.E3)((0,b.t)("Saving changesâ€¦")),this.api.request(`/projects/${t.slug}/${s.projectId}/hooks/${e.id}/`,{method:"PUT",data:{isActive:"active"!==e.status},success:e=>{(0,r.B8)(),this.setState({hookList:o.map((t=>t.id===e.id?{...t,...e}:t))})},error:()=>{(0,r.Iw)((0,b.t)("Unable to remove application. Please try again."))}}))}))}getEndpoints(){const{organization:e,params:t}=this.props,s=t.projectId;return[["hookList",`/projects/${e.slug}/${s}/hooks/`]]}renderEmpty(){return(0,k.tZ)(a.Z,{children:(0,b.t)("There are no service hooks associated with this project.")})}renderResults(){const{organization:e,params:t}=this.props;return(0,k.BX)(i.Fragment,{children:[(0,k.tZ)(h.Z,{children:(0,b.t)("Service Hook")},"header"),(0,k.BX)(m.Z,{children:[(0,k.tZ)(l.Z,{type:"info",showIcon:!0,children:(0,b.t)("Service Hooks are an early adopter preview feature and will change in the future.")}),this.state.hookList?.map((s=>(0,k.tZ)(j,{orgId:e.slug,projectId:t.projectId,hook:s,onToggleActive:this.onToggleActive.bind(this,s)},s.id)))]},"body")]})}renderBody(){const{hookList:e}=this.state,t=e&&e.length>0?this.renderResults():this.renderEmpty(),{organization:s,params:o}=this.props;return(0,k.BX)(i.Fragment,{children:[(0,k.tZ)(Z.Z,{title:(0,b.t)("Service Hooks"),action:s.access.includes("project:write")?(0,k.tZ)(n.zx,{"data-test-id":"new-service-hook",to:`/settings/${s.slug}/projects/${o.projectId}/hooks/new/`,size:"sm",priority:"primary",icon:(0,k.tZ)(x.N_,{size:"xs",isCircled:!0}),children:(0,b.t)("Create New Hook")}):null}),(0,k.tZ)(p.Z,{children:t})]})}}const f=(0,v.Z)(y)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectServiceHooks_tsx.8b6f56424267b0a38019004311853f12.js.map