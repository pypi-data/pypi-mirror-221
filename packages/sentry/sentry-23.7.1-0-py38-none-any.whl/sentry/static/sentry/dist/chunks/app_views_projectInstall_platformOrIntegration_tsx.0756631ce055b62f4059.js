"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,o)=>{o.r(e),o.d(e,{default:()=>Lt});var i=o("../node_modules/query-string/index.js"),n=o("./app/components/onboarding/onboardingContext.tsx"),r=o("./app/utils/integrationUtil.tsx"),a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("./app/components/layouts/thirds.tsx"),l=o("./app/styles/space.tsx");const d=(0,a.Z)(s.T3,{target:"e1bbzr60"})("background:",(t=>t.theme.background),";padding-top:",(0,l.D)(3),";");d.defaultProps={withPadding:!0};const c=d;var p=o("../node_modules/react/index.js"),u=o("../node_modules/lodash/omit.js"),m=o.n(u),g=o("./app/actionCreators/projects.tsx"),h=o("./app/components/acl/feature.tsx"),f=o("./app/components/alert.tsx"),Z=o("./app/components/button.tsx"),y=o("./app/components/buttonBar.tsx"),x=o("./app/components/confirm.tsx"),j=o("./app/components/errors/notFound.tsx"),w=o("./app/components/hookOrDefault.tsx"),v=o("./app/components/links/externalLink.tsx"),b=o("./app/components/loadingError.tsx"),k=o("./app/components/loadingIndicator.tsx"),_=o("./app/components/onboarding/documentationWrapper.tsx"),z=o("./app/components/onboarding/gettingStartedDoc/sdkDocumentation.tsx"),S=o("./app/components/onboarding/useRecentCreatedProject.tsx"),D=o("./app/components/sentryDocumentTitle.tsx"),I=o("./app/data/platformCategories.tsx"),P=o("./app/data/platforms.tsx"),C=o("./app/icons/index.tsx"),B=o("./app/locale.tsx"),T=o("./app/stores/configStore.tsx"),X=o("./app/utils/analytics.tsx"),$=o("./app/utils/handleXhrErrorResponse.tsx"),N=o("./app/utils/queryClient.tsx"),E=o("./app/utils/useApi.tsx"),F=o("./app/utils/useOrganization.tsx"),L=o("./app/utils/useProjects.tsx"),O=o("./app/utils/withDomainRequired.tsx"),q=o("./app/views/onboarding/setupDocsLoader.tsx"),A=o("./app/views/projects/gettingStartedWithProjectContext.tsx"),G=o("./app/components/codeSnippet.tsx"),M=o("./app/components/list/index.tsx"),W=o("./app/components/list/listItem.tsx"),R=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function H(t){let{projectSlug:e,platform:o}=t;const i=(0,F.Z)(),{data:n=[],isError:r,isLoading:a,refetch:s}=(0,N.WE)([`/projects/${i.slug}/${e}/keys/`],{staleTime:1/0});return a?(0,R.tZ)(k.Z,{}):r?(0,R.tZ)(b.Z,{onRetry:s}):(0,R.BX)(K,{children:[(0,B.t)("We cannot provide instructions for '%s' projects. However, please find below the DSN key for this project, which is required to instrument Sentry.",o),(0,R.tZ)(G.O,{dark:!0,language:"bash",children:(0,B.t)("dsn: %s",n[0].dsn.public)}),(0,R.BX)(V,{children:[(0,B.t)("Since it can be a lot work creating a Sentry SDK from scratch, we suggest you review the following SDKs which are applicable for a wide variety of applications:"),(0,R.BX)(M.Z,{symbol:"bullet",children:[(0,R.tZ)(W.Z,{children:(0,R.tZ)(v.Z,{href:"https://docs.sentry.io/platforms/javascript/",children:"Browser JavaScript"})}),(0,R.tZ)(W.Z,{children:(0,R.tZ)(v.Z,{href:"https://docs.sentry.io/platforms/python/",children:"Python"})}),(0,R.tZ)(W.Z,{children:(0,R.tZ)(v.Z,{href:"https://docs.sentry.io/platforms/node/",children:"Node.js"})}),(0,R.tZ)(W.Z,{children:(0,R.tZ)(v.Z,{href:"https://docs.sentry.io/platforms/dotnet/",children:".NET"})}),(0,R.tZ)(W.Z,{children:(0,R.tZ)(v.Z,{href:"https://docs.sentry.io/platforms/java/",children:"JAVA"})})]})]})]})}H.displayName="OtherPlatformsInfo";const K=(0,a.Z)("div",{target:"e18irmhm1"})("display:flex;flex-direction:column;gap:",(0,l.D)(2),";"),V=(0,a.Z)(K,{target:"e18irmhm0"})("gap:",(0,l.D)(1),";"),J=(0,w.Z)({hookName:"component:product-unavailable-cta"});function U(t){let{organization:e,projectSlug:o,platform:i}=t;const n=(0,E.Z)(),[r,a]=(0,p.useState)(!0),[s,l]=(0,p.useState)(!1),[d,c]=(0,p.useState)(""),u=(0,p.useCallback)((async()=>{a(!0);try{const{html:t}=await(0,g.iC)({api:n,orgSlug:e.slug,projectSlug:o,platform:i.key});c(t),window.scrollTo(0,0)}catch(t){l(t)}a(!1)}),[n,e.slug,o,i.key]);return(0,p.useEffect)((()=>{u()}),[u]),(0,R.BX)("div",{children:[(0,R.tZ)(f.bZ,{type:"info",showIcon:!0,children:(0,B._N)("\n           This is a quick getting started guide. For in-depth instructions\n           on integrating Sentry with [platform], view\n           [docLink:our complete documentation].",{platform:i.name,docLink:(0,R.tZ)(v.Z,{href:i.link??void 0})})}),r?(0,R.tZ)(k.Z,{}):s?(0,R.tZ)(b.Z,{onRetry:u}):(0,R.BX)(p.Fragment,{children:[(0,R.tZ)(D.Z,{title:`${(0,B.t)("Configure")} ${i.name}`,projectSlug:o}),(0,R.tZ)(_.l,{dangerouslySetInnerHTML:{__html:d}})]})]})}function Y(t){let{location:e,params:o,router:i}=t;const n=(0,F.Z)(),r=(0,E.Z)(),a=(0,p.useContext)(A.p),s=T.Z.get("isSelfHosted"),{projects:l,initiallyLoaded:d}=(0,L.Z)({slugs:[o.projectId],orgId:n.slug}),c=!d,u=c?void 0:l.find((t=>t.slug===o.projectId)),f=u?.platform??"other",w=P.Z.find((t=>t.id===f)),[v,b]=(0,p.useState)("javascript"===w?.id),k=(0,p.useMemo)((()=>e.query.product??[]),[e.query.product]),{data:_,isLoading:D,isError:G}=(0,N.WE)([`/projects/${n.slug}/${u?.slug}/rules/`],{enabled:!!u?.slug,staleTime:0});(0,p.useEffect)((()=>{b("javascript"===w?.id)}),[w?.id]),(0,p.useEffect)((()=>{if(!u||D||G)return;if(a.project?.id===u.id)return;const t=Object.keys(P.Z).find((t=>P.Z[t].id===u.platform));t&&a.setProject({id:u.id,name:u.name,teamSlug:u.team?.slug,alertRules:_,platform:{...m()(P.Z[t],"id"),key:P.Z[t].id}})}),[a,u,_,D,G]);const M=!!n?.features.includes("onboarding-project-deletion-on-back-click"),W=!!n?.features.includes("getting-started-doc-with-product-selection"),K=(0,S.X)({orgSlug:n.slug,projectSlug:u?.slug}),V=M&&K&&!1===K.firstError&&!1===K.firstTransaction&&!1===K.hasReplays&&!1===K.hasSessions&&!1===K.olderThanOneHour,Y=P.Z.find((t=>t.id===f)),ot={key:f,id:Y?.id,name:Y?.name,link:Y?.link},it=(0,p.useCallback)((async()=>{if(K){if((0,X.Gi)("project_creation.back_button_clicked",{organization:n}),V){(0,X.Gi)("project_creation.data_removal_modal_confirm_button_clicked",{organization:n,platform:K.slug,project_id:K.id});try{await(0,g.rR)({api:r,orgSlug:n.slug,projectSlug:K.slug,origin:"getting_started"}),(0,X.Gi)("project_creation.data_removed",{organization:n,date_created:K.dateCreated,platform:K.slug,project_id:K.id})}catch(t){(0,$.X)("Unable to delete project in project creation",t)}}i.replace((0,O.D)(`/organizations/${n.slug}/projects/new/?referrer=getting-started&project=${K.id}`))}}),[r,K,n,V,i]),nt=(0,p.useCallback)((()=>{b(!1),u?.id&&w&&(0,X.Gi)("onboarding.js_loader_npm_docs_shown",{organization:n,platform:w.id,project_id:u?.id})}),[n,w,u?.id]);if(!u)return null;if(!ot.id&&"other"!==ot.key)return(0,R.tZ)(j.Z,{});const rt=`/organizations/${n.slug}/issues/`,at=`/organizations/${n.slug}/performance/`,st=I.Sv.includes(ot.id),lt=window.location.href.indexOf("getting-started")>0,dt=W&&("javascript"===ot.key||!!ot.key.match("^javascript-([A-Za-z]+)$"));return(0,R.BX)(p.Fragment,{children:[!s&&dt&&(0,R.tZ)(J,{organization:n}),(0,R.BX)(tt,{children:[(0,R.tZ)("h2",{children:(0,B.t)("Configure %(platform)s SDK",{platform:ot.name??"other"})}),(0,R.BX)(y.ZP,{gap:1,children:[(0,R.tZ)(x.Z,{bypass:!V,message:(0,B.t)("Hey, just a heads up - we haven't received any data for this SDK yet and by going back all changes will be discarded. Are you sure you want to head back?"),priority:"danger",confirmText:(0,B.t)("Yes I'm sure"),onConfirm:it,onClose:()=>{K&&(0,X.Gi)("project_creation.data_removal_modal_dismissed",{organization:n,platform:K.slug,project_id:K.id})},onRender:()=>{K&&(0,X.Gi)("project_creation.data_removal_modal_rendered",{organization:n,platform:K.slug,project_id:K.id})},children:(0,R.tZ)(Z.zx,{icon:(0,R.tZ)(C.g6,{direction:"left",size:"sm"}),size:"sm",children:(0,B.t)("Back to Platform Selection")})}),"other"!==ot.key&&(0,R.tZ)(Z.zx,{size:"sm",href:ot.link??void 0,external:!0,children:(0,B.t)("Full Documentation")})]})]}),"other"===ot.key?(0,R.tZ)(H,{projectSlug:u.slug,platform:ot.name??"other"}):(0,R.tZ)(p.Fragment,{children:w&&v?(0,R.tZ)(q.N,{organization:n,project:u,location:e,platform:w.id,close:nt}):w&&z.g.includes(f)?(0,R.tZ)(z.w,{platform:w,organization:n,projectSlug:u.slug,projectId:u.id,activeProductSelection:k}):(0,R.tZ)(U,{organization:n,projectSlug:u.slug,platform:ot})}),(0,R.BX)("div",{children:[lt&&st&&(0,R.tZ)(h.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,R.tZ)(et,{type:"info",showIcon:!0,children:(0,B.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),(0,R.BX)(Q,{gap:1,children:[(0,R.tZ)(Z.zx,{priority:"primary",busy:c,to:{pathname:rt,query:u?.id,hash:"#welcome"},children:(0,B.t)("Take me to Issues")}),(0,R.tZ)(Z.zx,{busy:c,to:{pathname:at,query:u?.id},children:(0,B.t)("Take me to Performance")})]})]})]})}U.displayName="SetUpGeneralSdkDoc",Y.displayName="ProjectInstallPlatform";const Q=(0,a.Z)(y.ZP,{target:"e1f5kh8r2"})("margin-top:",(0,l.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,l.D)(1),";grid-auto-flow:row;}"),tt=(0,a.Z)("div",{target:"e1f5kh8r1"})("display:flex;justify-content:space-between;margin-bottom:",(0,l.D)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,l.D)(2),";}}"),et=(0,a.Z)(f.bZ,{target:"e1f5kh8r0"})("margin-top:",(0,l.D)(2),";");var ot=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),it=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react-router/es/index.js")),nt=o("./app/components/deprecatedAsyncComponent.tsx"),rt=o("./app/utils/withOrganization.tsx"),at=o("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),st=o("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),lt=o("./app/views/settings/organizationIntegrations/addIntegrationButton.tsx"),dt=o("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),ct=o("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),pt=o("./app/styles/pulsingIndicator.tsx"),ut=o("./app/utils/eventWaiter.tsx"),mt=o("./app/utils/testableTransition.tsx");function gt(t){let{children:e,...o}=t;return(0,R.tZ)(ut.Z,{...o,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,R.tZ)(ht,{firstIssue:i,...o}),firstEventButton:(0,R.tZ)(Z.zx,{title:(0,B.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,X.Gi)("growth.onboarding_take_to_error",{organization:o.organization}),to:`/organizations/${o.organization.slug}/issues/${i&&!0!==i&&"id"in i?`${i.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,B.t)("Take me to my error")})})}})}function ht(t){let{firstIssue:e}=t;return(0,R.tZ)(ft,{children:(0,R.tZ)(dt.M,{children:e?(0,R.tZ)(xt,{},"received"):(0,R.tZ)(yt,{},"waiting")})})}gt.displayName="FirstEventIndicator",ht.displayName="Indicator";const ft=(0,a.Z)("div",{target:"e10tfv734"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),Zt=(0,a.Z)(ct.E.div,{target:"e10tfv733"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,l.D)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");function yt(t){return(0,R.BX)(Zt,{...t,children:[(0,R.tZ)(wt,{children:(0,B.t)("Waiting to receive first event to continue")}),(0,R.tZ)(vt,{})]})}function xt(t){return(0,R.BX)(Zt,{...t,children:[(0,R.tZ)(wt,{children:(0,B.t)("Event was received!")}),(0,R.tZ)(bt,{})]})}Zt.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,mt.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}},yt.displayName="Waiting",xt.displayName="Success";const jt={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},wt=(0,a.Z)(ct.E.div,{target:"e10tfv732"})("");wt.defaultProps={variants:jt,transition:(0,mt.Z)()};const vt=(0,a.Z)(ct.E.div,{target:"e10tfv731"})("margin:0 6px;",pt.Z,";");vt.defaultProps={variants:jt,transition:(0,mt.Z)()};const bt=(0,a.Z)(C.DL,{target:"e10tfv730"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,l.D)(.25),";");bt.defaultProps={size:"sm"};const kt=gt;var _t=o("./app/views/onboarding/createSampleEventButton.tsx");function zt(t){let{organization:e,project:o,docsLink:i,docsOnClick:n}=t;return(0,R.BX)(p.Fragment,{children:[(0,R.tZ)(kt,{organization:e,project:o,eventType:"error",children:t=>{let{indicator:e,firstEventButton:o}=t;return(0,R.BX)(St,{children:[(0,R.BX)(It,{gap:2,children:[o,(0,R.tZ)(Z.zx,{external:!0,href:i,onClick:n,children:(0,B.t)("View full documentation")})]}),e]})}}),(0,R.tZ)(Dt,{children:(0,B._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,R.tZ)(_t.Z,{"aria-label":"View a sample event",project:o,source:"onboarding",priority:"link"}),skip:(0,R.tZ)(Z.zx,{priority:"link",href:"/","aria-label":(0,B.t)("Finish setup later")})})})]})}zt.displayName="FirstEventFooter";const St=(0,a.Z)("div",{target:"eehhgoe2"})("display:flex;justify-content:space-between;margin:",(0,l.D)(2)," 0;margin-top:",(0,l.D)(4),";"),Dt=(0,a.Z)("p",{target:"eehhgoe1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),It=(0,a.Z)(y.ZP,{target:"eehhgoe0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function Pt(t){let{gettingStartedLink:e,docsLink:o}=t;return(0,R.BX)(y.ZP,{gap:1,children:[(0,R.tZ)(Z.zx,{size:"sm",icon:(0,R.tZ)(C.g6,{size:"xs",direction:"left"}),to:e,children:(0,B.t)("Back")}),(0,R.tZ)(Z.zx,{size:"sm",href:o,external:!0,children:(0,B.t)("Full Documentation")})]})}Pt.displayName="PlatformHeaderButtonBar";class Ct extends nt.Z{constructor(){super(...arguments),(0,ot.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,X.Gi)("growth.onboarding_view_full_docs",{organization:t})})),(0,ot.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,ot.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,r.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){super.componentDidMount(),window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:o}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${o.projectId}/`]]:[]}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,o=`/organizations/${t.slug}/projects/${e}/getting-started/`;it.browserHistory.push((0,O.D)(o))}render(){const{organization:t,params:e}=this.props,{installed:o,project:i}=this.state,{projectId:n,platform:r}=e,a=this.provider,s=P.Z.find((t=>t.id===r));if(!a||!s||!i)return null;const l=`/organizations/${t.slug}/projects/${n}/getting-started/`,d="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,R.tZ)(Xt,{children:(0,R.BX)(Tt,{children:[(0,R.tZ)(Nt,{children:(0,B.t)("Automatically instrument %s",s.name)}),(0,R.tZ)($t,{children:(0,R.tZ)(Pt,{gettingStartedLink:l,docsLink:d})}),o?(0,R.BX)(p.Fragment,{children:[(0,R.tZ)(st.Z,{provider:a}),(0,R.tZ)(zt,{project:i,organization:t,docsLink:d,docsOnClick:this.handleFullDocsClick})]}):(0,R.BX)(p.Fragment,{children:[(0,R.tZ)(at.Z,{}),(0,R.BX)(Bt,{gap:1,children:[(0,R.tZ)(lt.w,{provider:a,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id},"aria-label":(0,B.t)("Add integration")}),(0,R.tZ)(Z.zx,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,B.t)("Manual Setup")})]})]})]})})}}Ct.displayName="PlatformIntegrationSetup";const Bt=(0,a.Z)(y.ZP,{target:"e1o04xl64"})("margin-top:",(0,l.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,l.D)(1),";grid-auto-flow:row;}"),Tt=(0,a.Z)("div",{target:"e1o04xl63"})({name:"1ki15kq",styles:"max-width:850px"}),Xt=(0,a.Z)("div",{target:"e1o04xl62"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),$t=(0,a.Z)("div",{target:"e1o04xl61"})("width:min-content;margin-bottom:",(0,l.D)(3),";"),Nt=(0,a.Z)("h2",{target:"e1o04xl60"})("margin:0;margin-bottom:",(0,l.D)(2),";"),Et=(0,rt.Z)(Ct);function Ft(t){const e=i.parse(window.location.search),{platform:o}=t.params,a=o&&r.C$[o];return a&&"1"!==e.manual?(0,R.tZ)(Et,{integrationSlug:a,...t}):(0,R.tZ)(n.P,{children:(0,R.tZ)(c,{children:(0,R.tZ)(Y,{...t})})})}Ft.displayName="PlatformOrIntegration";const Lt=Ft},"./app/views/projects/gettingStartedWithProjectContext.tsx":(t,e,o)=>{o.d(e,{p:()=>a,x:()=>s});var i=o("../node_modules/react/index.js"),n=o("./app/utils/useSessionStorage.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,i.createContext)({project:void 0,setProject:()=>{}});function s(t){let{children:e,project:o}=t;const[s,l]=(0,n.X)("getting-started-with-project",{project:o}),d=(0,i.useCallback)((t=>{l({project:t})}),[l]);return(0,r.tZ)(a.Provider,{value:{project:s.project,setProject:d},children:e})}s.displayName="GettingStartedWithProjectContextProvider"}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.4c6cc74c24aab9917dd55a195d14473b.js.map