(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectDebugFiles_index_tsx"],{"./app/components/acl/role.tsx":(e,t,o)=>{"use strict";o.d(t,{u:()=>a});var s=o("../node_modules/react/index.js"),n=o("./app/stores/configStore.tsx"),i=o("./app/utils/isActiveSuperuser.tsx"),r=o("./app/utils/isRenderFunc.tsx");const a=(0,o("./app/utils/withOrganization.tsx").Z)((function(e){let{role:t,organization:o,children:a}=e;const l=n.Z.get("user"),c=(0,s.useMemo)((()=>function(e,t,o){if(!e)return!1;if((0,i.M)())return!0;if(!Array.isArray(t.orgRoleList))return!1;const s=t.orgRoleList.map((e=>e.id));if(!s.includes(o)||!s.includes(t.orgRole??""))return!1;const n=s.indexOf(o);return s.indexOf(t.orgRole??"")>=n}(l,o,t)),[o,t,l]);return(0,r.l)(a)?a({hasRole:c}):c?a:null}))},"./app/components/actions/menuItemActionLink.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/components/actions/actionLink.tsx"),i=o("./app/components/menuItem.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{className:t,...o}=e;return(0,r.tZ)(i.Z,{noAnchor:!0,withBorder:!0,disabled:o.disabled,className:t,children:(0,r.tZ)(l,{...o})})}a.displayName="MenuItemActionLink";const l=(0,s.Z)(n.Z,{target:"evw4fqe0"})("color:",(e=>e.theme.textColor),";",(e=>e.theme.overflowEllipsis)," &:hover{color:",(e=>e.theme.textColor),";}.dropdown-menu>li>&,.dropdown-menu>span>li>&{&.disabled:hover{background:",(e=>e.theme.background),";}}"),c=a},"./app/components/confirmDelete.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var s=o("../node_modules/react/index.js"),n=o("./app/components/alert.tsx"),i=o("./app/components/confirm.tsx"),r=o("./app/components/forms/fieldGroup/index.tsx"),a=o("./app/components/input.tsx"),l=o("./app/locale.tsx"),c=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{message:t,confirmInput:o,...d}=e;return(0,c.tZ)(i.Z,{...d,bypass:!1,disableConfirmButton:!0,renderMessage:e=>{let{disableConfirmButton:i}=e;return(0,c.BX)(s.Fragment,{children:[(0,c.tZ)(n.bZ,{type:"error",children:t}),(0,c.tZ)(r.Z,{flexibleControlStateSize:!0,inline:!1,label:(0,l.t)("Please enter %s to confirm the deletion",(0,c.tZ)("code",{children:o})),children:(0,c.tZ)(a.Z,{type:"text",placeholder:o,onChange:e=>i(e.target.value!==o)})})]})}})}d.displayName="ConfirmDelete";const p=d},"./app/components/notAvailable.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/components/tooltip.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{tooltip:t,className:o}=e;return(0,i.tZ)(n.u,{title:t,skipWrapper:!0,disabled:void 0===t,children:(0,i.tZ)(a,{className:o,children:"â€”"})})}r.displayName="NotAvailable";const a=(0,s.Z)("div",{target:"encv6uu0"})("color:",(e=>e.theme.gray200),";"),l=r},"./app/components/panels/panelHeader.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=o("./app/styles/space.tsx");const r=e=>{let{disablePadding:t,hasButtons:o}=e;return(0,n.iv)("padding:",o?(0,i.D)(1):(0,i.D)(2)," ",t?0:(0,i.D)(2),";","")},a=(0,s.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",r,";")},"./app/components/projects/appStoreConnectContext.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>c,z:()=>l});var s=o("../node_modules/react/index.js"),n=o("./app/utils/appStoreValidationErrorMessage.tsx"),i=o("./app/utils/useApi.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,s.createContext)(void 0);function l(e){let{children:t,project:o,organization:l}=e;const c=(0,i.Z)(),[d,p]=(0,s.useState)(),[u,m]=(0,s.useState)(void 0),h=(0,s.useMemo)((()=>(d?.symbolSources?JSON.parse(d.symbolSources):[]).reduce(((e,t)=>{let{type:o,id:s,...n}=t;return"appstoreconnect"===o.toLowerCase()&&(e[s]={type:o,...n}),e}),{})),[d?.symbolSources]);function g(e,t){if("valid"!==t?.status)return(0,n.e)(t,e)}return(0,s.useEffect)((()=>{if(!o||d)return;if(o.symbolSources)return void p(o);let e=!1;return c.requestPromise(`/projects/${l.slug}/${o.slug}/`).then((t=>{e||p(t)})).catch((()=>{})),()=>{e=!0}}),[o,l,c]),(0,s.useEffect)((()=>{if(!d)return;if(!Object.keys(h).length)return;let e=!1;return c.requestPromise(`/projects/${l.slug}/${d.slug}/appstoreconnect/status/`).then((t=>{e||m(t)})).catch((()=>{})),()=>{e=!0}}),[d,l,h,c]),(0,r.tZ)(a.Provider,{value:u&&o?Object.keys(u).reduce(((e,t)=>{const s=u[t];return{...e,[t]:{...s,updateAlertMessage:g({name:h[t].name,link:`/settings/${l.slug}/projects/${o.slug}/debug-symbols/?customRepository=${t}`},s.credentials)}}}),{}):void 0,children:t})}l.displayName="Provider";const c=a},"./app/utils/appStoreValidationErrorMessage.tsx":(e,t,o)=>{"use strict";o.d(t,{O:()=>a,e:()=>l}),o("../node_modules/core-js/modules/es.error.cause.js");var s=o("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),n=o("./app/components/links/link.tsx"),i=o("./app/locale.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,i.t)("An unexpected error occurred while configuring the App Store Connect integration");function l(e,t){switch(e.code){case"app-connect-authentication-error":return t?(0,i._N)("App Store Connect credentials are invalid or missing. [linkToCustomRepository]",{linkToCustomRepository:(0,r.tZ)(n.Z,{to:t.link,children:(0,i._N)("Make sure the credentials of the '[customRepositoryName]' repository are correct and exist.",{customRepositoryName:t.name})})}):(0,i.t)("The supplied App Store Connect credentials are invalid or missing.");case"app-connect-forbidden-error":return(0,i.t)("The supplied API key does not have sufficient permissions.");case"app-connect-multiple-sources-error":return(0,i.t)("Only one App Store Connect application is allowed in this project.");default:return s.Tb(new Error("Unknown app store connect error.")),a}}},"./app/utils/routeTitle.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});const s=function(e,t){let o=arguments.length>3?arguments[3]:void 0;const s=`${e} - ${t}`,n=o?`${s} - ${o}`:s;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n:`${n} - Sentry`}},"./app/views/deprecatedAsyncView.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var s=o("./app/components/deprecatedAsyncComponent.tsx"),n=o("./app/components/sentryDocumentTitle.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends s.Z{getTitle(){return""}render(){return(0,i.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="DeprecatedAsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var s=o("./app/components/acl/access.tsx"),n=o("./app/components/alert.tsx"),i=o("./app/locale.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,i.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.");function l(e){let{access:t=["project:write"],project:o,team:i,...l}=e;return(0,r.tZ)(s.Z,{access:t,project:o,team:i,children:e=>{let{hasAccess:t}=e;return!t&&(0,r.tZ)(n.bZ,{"data-test-id":"project-permission-alert",type:"warning",...l,children:a})}})}l.displayName="PermissionAlert";const c=l},"./app/views/settings/projectDebugFiles/index.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>pt});var s=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(o("../node_modules/core-js/modules/es.array.push.js"),o("../node_modules/react/index.js")),r=o("./app/actionCreators/indicator.tsx"),a=o("./app/components/checkbox.tsx"),l=o("./app/components/pagination.tsx"),c=o("./app/components/panels/panelTable.tsx"),d=o("./app/components/searchBar.tsx"),p=o("./app/locale.tsx"),u=o("./app/stores/projectsStore.tsx"),m=o("./app/styles/space.tsx"),h=o("./app/utils/routeTitle.tsx"),g=o("./app/views/deprecatedAsyncView.tsx"),y=o("./app/views/settings/components/settingsPageHeader.tsx"),b=o("./app/views/settings/components/text/textBlock.tsx"),f=o("./app/views/settings/project/permissionAlert.tsx"),x=o("./app/components/acl/access.tsx"),Z=o("./app/components/acl/role.tsx"),S=o("./app/components/button.tsx"),v=o("./app/components/buttonBar.tsx"),w=o("./app/components/confirm.tsx"),j=o("./app/components/fileSize.tsx"),D=o("./app/components/links/link.tsx"),C=o("./app/components/tag.tsx"),k=o("./app/components/timeSince.tsx"),z=o("./app/components/tooltip.tsx"),E=o("./app/icons/index.tsx"),T=o("./app/views/settings/projectDebugFiles/utils.tsx"),A=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function _(e){let{debugFile:t,showDetails:o,downloadUrl:s,downloadRole:n,onDelete:r,orgSlug:a}=e;const{id:l,data:c,debugId:d,uuid:u,size:m,dateCreated:h,objectName:g,symbolType:y,codeId:b}=t,{features:f}=c||{};return(0,A.BX)(i.Fragment,{children:[(0,A.BX)(P,{children:[(0,A.tZ)("div",{children:(0,A.tZ)(M,{children:d||u})}),(0,A.BX)(O,{children:[(0,A.tZ)(I,{bytes:m}),(0,A.BX)($,{children:[(0,A.tZ)(E.jo,{size:"xs"}),(0,A.tZ)(k.Z,{date:h})]})]})]}),(0,A.BX)(P,{children:[(0,A.tZ)(X,{children:"proguard"===y&&"proguard-mapping"===g?"â€•":g}),(0,A.BX)(q,{children:[(0,A.tZ)(B,{children:(0,T.Q)(t)}),f&&(0,A.tZ)(N,{children:f.map((e=>(0,A.tZ)(R,{tooltipText:(0,T.V)(e),children:e},e)))}),o&&(0,A.tZ)("div",{children:b&&(0,A.BX)(L,{children:[(0,p.t)("Code ID"),": ",b]})})]})]}),(0,A.tZ)(F,{children:(0,A.BX)(v.ZP,{gap:.5,children:[(0,A.tZ)(Z.u,{role:n,children:e=>{let{hasRole:t}=e;return(0,A.tZ)(z.u,{disabled:t,title:(0,p._N)("Debug files can only be downloaded by users with organization [downloadRole] role[orHigher]. This can be changed in [settingsLink:Debug Files Access] settings.",{downloadRole:n,orHigher:"owner"!==n?` ${(0,p.t)("or higher")}`:"",settingsLink:(0,A.tZ)(D.Z,{to:`/settings/${a}/#debugFilesRole`})}),isHoverable:!0,children:(0,A.tZ)(S.zx,{size:"xs",icon:(0,A.tZ)(E.Dj,{size:"xs"}),href:s,disabled:!t,children:(0,p.t)("Download")})})}}),(0,A.tZ)(x.Z,{access:["project:write"],children:e=>{let{hasAccess:t}=e;return(0,A.tZ)(z.u,{disabled:t,title:(0,p.t)("You do not have permission to delete debug files."),children:(0,A.tZ)(w.Z,{confirmText:(0,p.t)("Delete"),message:(0,p.t)("Are you sure you wish to delete this file?"),onConfirm:()=>r(l),disabled:!t,children:(0,A.tZ)(S.zx,{priority:"danger",icon:(0,A.tZ)(E.Fz,{size:"xs"}),size:"xs",disabled:!t,"data-test-id":"delete-dif","aria-label":(0,p.t)("Delete")})})})}})]})})]})}_.displayName="DebugFileRow";const B=(0,n.Z)("span",{target:"eo4omgc11"})("display:inline-flex;margin:0 ",(0,m.D)(1)," ",(0,m.D)(1)," 0;"),N=(0,n.Z)("div",{target:"eo4omgc10"})("display:inline-flex;flex-wrap:wrap;margin:-",(0,m.D)(.5),";"),R=(0,n.Z)(C.Z,{target:"eo4omgc9"})("padding:",(0,m.D)(.5),";"),P=(0,n.Z)("div",{target:"eo4omgc8"})({name:"6kz1wu",styles:"display:flex;flex-direction:column;align-items:flex-start"}),F=(0,n.Z)("div",{target:"eo4omgc7"})("display:flex;justify-content:flex-end;align-items:flex-start;margin-top:",(0,m.D)(1),";"),M=(0,n.Z)("code",{target:"eo4omgc6"})("font-size:",(e=>e.theme.fontSizeSmall),";"),O=(0,n.Z)("div",{target:"eo4omgc5"})("width:100%;display:flex;font-size:",(e=>e.theme.fontSizeSmall),";margin-top:",(0,m.D)(1),";color:",(e=>e.theme.subText),";align-items:center;"),I=(0,n.Z)(j.Z,{target:"eo4omgc4"})("flex:1;padding-left:",(0,m.D)(.5),";"),$=(0,n.Z)("div",{target:"eo4omgc3"})("display:grid;gap:",(0,m.D)(.5),";grid-template-columns:min-content 1fr;flex:2;align-items:center;padding-left:",(0,m.D)(.5),";"),X=(0,n.Z)("div",{target:"eo4omgc2"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,m.D)(1),";"),q=(0,n.Z)("div",{target:"eo4omgc1"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";@media (max-width: ",(e=>e.theme.breakpoints.large),"){line-height:1.7;}"),L=(0,n.Z)("div",{target:"eo4omgc0"})((e=>e.theme.overflowEllipsis)," margin-top:",(0,m.D)(1),";"),U=_;var Y=o("./app/components/forms/fields/selectField.tsx"),H=o("./app/components/loadingIndicator.tsx"),Q=o("./app/components/panels/panel.tsx"),V=o("./app/components/panels/panelBody.tsx"),W=o("./app/components/panels/panelHeader.tsx");const G=(0,p.t)("Built-in Repositories");function K(e){let{api:t,organization:o,builtinSymbolSourceOptions:s,builtinSymbolSources:n,projSlug:i,isLoading:a}=e;const l=n.filter((e=>s.find((t=>{let{sentry_key:o}=t;return o===e}))));async function c(e){const{successMessage:s,errorMessage:n}=0===(a=(e??[]).length)?{errorMessage:(0,p.t)("This field requires at least one built-in repository")}:a>l.length?{successMessage:(0,p.t)("Successfully added built-in repository"),errorMessage:(0,p.t)("An error occurred while adding new built-in repository")}:{successMessage:(0,p.t)("Successfully removed built-in repository"),errorMessage:(0,p.t)("An error occurred while removing built-in repository")};var a;try{const n=await t.requestPromise(`/projects/${o.slug}/${i}/`,{method:"PUT",data:{builtinSymbolSources:e}});u.Z.onUpdateSuccess(n),(0,r.S9)(s)}catch{(0,r.Iw)(n)}}return(0,A.BX)(Q.Z,{children:[(0,A.tZ)(W.Z,{children:G}),(0,A.tZ)(V.Z,{children:a?(0,A.tZ)(H.Z,{}):(0,A.tZ)(x.Z,{access:["project:write"],children:e=>{let{hasAccess:t}=e;return(0,A.tZ)(ee,{disabledReason:t?void 0:(0,p.t)("You do not have permission to edit built-in repositories configurations."),disabled:!t,name:"builtinSymbolSources",label:G,help:(0,p.t)("Configures which built-in repositories Sentry should use to resolve debug files."),placeholder:(0,p.t)("Select built-in repository"),value:l,onChange:c,options:s.filter((e=>!e.hidden)).map((e=>({value:e.sentry_key,label:e.name}))),getValue:e=>null===e?[]:e,flexibleControlStateSize:!0,multiple:!0})}})})]})}K.displayName="BuiltInRepositories";const J=K,ee=(0,n.Z)(Y.Z,{target:"e157vrv90"})((e=>e.disabled&&"cursor: not-allowed"),";");var te=o("./app/actionCreators/modal.tsx"),oe=o("./app/components/acl/feature.tsx"),se=o("./app/components/dropdownAutoComplete/index.tsx"),ne=o("./app/components/dropdownButton.tsx"),ie=o("./app/components/emptyStateWarning.tsx"),re=o("./app/components/menuItem.tsx"),ae=o("./app/components/projects/appStoreConnectContext.tsx"),le=o("./app/types/debugFiles.tsx"),ce=o("./app/utils.tsx"),de=o("./app/utils/handleXhrErrorResponse.tsx"),pe=o("./app/components/panels/panelItem.tsx"),ue=o("./app/icons/iconChevron.tsx"),me=o("./app/icons/iconRefresh.tsx"),he=o("./app/components/actions/button.tsx"),ge=o("./app/components/actions/menuItemActionLink.tsx"),ye=o("./app/components/confirmDelete.tsx"),be=o("./app/components/dropdownLink.tsx"),fe=o("./app/icons/iconEllipsis.tsx");function xe(e){let{repositoryName:t,repositoryType:o,disabled:s,onEdit:n,onDelete:r,hasFeature:a,hasAccess:l,syncNowButton:c}=e;function d(e){return(0,A.tZ)(ye.Z,{confirmText:(0,p.t)("Delete Repository"),message:o===le.Et.APP_STORE_CONNECT?(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(b.Z,{children:(0,A.tZ)("strong",{children:(0,p.t)("Removing App Store Connect symbol source does not remove current dSYMs.")})}),(0,A.tZ)(b.Z,{children:(0,p.t)('The App Store Connect symbol source periodically imports dSYMs into the "Uploaded debug information files". Removing this symbol source does not delete those files and they will remain available for symbolication until deleted directly.')})]}):(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(b.Z,{children:(0,A.tZ)("strong",{children:(0,p.t)("Removing this repository applies instantly to new events.")})}),(0,A.tZ)(b.Z,{children:(0,p.t)("Debug files from this repository will not be used to symbolicate future events. This may create new issues and alert members in your organization.")})]}),confirmInput:t,priority:"danger",onConfirm:r,children:e})}const u=!l||!a||s;return(0,A.BX)(ve,{gap:1,children:[c,(0,A.tZ)(we,{title:a?l?void 0:(0,p.t)("You do not have permission to edit custom repositories configurations."):void 0,disabled:u,children:(0,A.tZ)(je,{disabled:u,onClick:n,size:"sm",children:(0,p.t)("Configure")})}),u?(0,A.tZ)(we,{title:a?l?void 0:(0,p.t)("You do not have permission to delete custom repositories configurations."):void 0,disabled:u,children:(0,A.tZ)(je,{size:"sm",disabled:!0,children:(0,p.t)("Delete")})}):d((0,A.tZ)(je,{size:"sm",children:(0,p.t)("Delete")})),(0,A.tZ)(De,{children:(0,A.BX)(be.Z,{caret:!1,disabled:u,customTitle:(0,A.tZ)(Se,{"aria-label":(0,p.t)("Actions"),disabled:u,title:a?l?void 0:(0,p.t)("You do not have permission to edit and delete custom repositories configurations."):void 0,icon:(0,A.tZ)(fe.Y,{})}),anchorRight:!0,children:[(0,A.tZ)(ge.Z,{onClick:n,children:(0,p.t)("Configure")}),d((0,A.tZ)(ge.Z,{children:(0,p.t)("Delete")}))]})})]})}xe.displayName="Actions";const Ze=xe,Se=(0,n.Z)(he.Z,{target:"exx2x8e4"})({name:"s0vnfv",styles:"height:32px"}),ve=(0,n.Z)(v.ZP,{target:"exx2x8e3"})("gap:",(0,m.D)(1),";grid-column:2/2;grid-row:4/4;grid-auto-flow:row;margin-top:",(0,m.D)(.5),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-column:3/3;grid-row:1/3;grid-auto-flow:column;margin-top:0;}"),we=(0,n.Z)(z.u,{target:"exx2x8e2"})("@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:none;}"),je=(0,n.Z)(S.zx,{target:"exx2x8e1"})("width:100%;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:none;}"),De=(0,n.Z)("div",{target:"exx2x8e0"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:block;}");var Ce=o("./app/components/dateTime.tsx"),ke=o("./app/components/notAvailable.tsx");function ze(e){let{details:t}=e;const{latestBuildVersion:o,latestBuildNumber:s,lastCheckedBuilds:n}=t??{};return(0,A.BX)(Te,{children:[(0,p.t)("Last detected version"),(0,A.tZ)(Ae,{children:o?(0,p._N)("v[version]",{version:o}):(0,A.tZ)(ke.Z,{tooltip:(0,p.t)("Not available")})}),(0,p.t)("Last detected build"),(0,A.tZ)(Ae,{children:s??(0,A.tZ)(ke.Z,{tooltip:(0,p.t)("Not available")})}),(0,p.t)("Detected last build on"),(0,A.tZ)(Ae,{children:n?(0,A.tZ)(Ce.Z,{date:n}):(0,A.tZ)(ke.Z,{tooltip:(0,p.t)("Not available")})})]})}ze.displayName="Details";const Ee=ze,Te=(0,n.Z)("div",{target:"eyae0691"})("display:grid;gap:",(0,m.D)(1),";margin-top:",(0,m.D)(.5),";align-items:center;font-size:",(e=>e.theme.fontSizeSmall),";font-weight:700;grid-column:2/-1;@media (min-width: ",(e=>e.theme.breakpoints.small),"){margin-top:",(0,m.D)(1),";grid-template-columns:max-content 1fr;gap:",(0,m.D)(1),";grid-row:3/3;}"),Ae=(0,n.Z)("div",{target:"eyae0690"})("font-weight:400;white-space:pre-wrap;word-break:break-all;padding:",(0,m.D)(1)," ",(0,m.D)(1.5),";font-family:",(e=>e.theme.text.familyMono),";background-color:",(e=>e.theme.backgroundSecondary),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){:not(:last-child){margin-bottom:",(0,m.D)(1),";}}");var _e=o("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),Be=o("./app/components/placeholder.tsx"),Ne=o("./app/icons/iconDownload.tsx"),Re=o("./app/icons/iconWarning.tsx");const Pe=function(e){let{details:t,onEditRepository:o}=e;const s=(0,_e.u)();if(!t)return(0,A.tZ)(Be.Z,{height:"14px"});const{pendingDownloads:n,credentials:i,lastCheckedBuilds:r}=t;return"invalid"===i.status?(0,A.BX)(Fe,{color:s.errorText,onClick:o,children:[(0,A.tZ)(Me,{title:(0,p.t)("Re-check your App Store Credentials"),containerDisplayMode:"inline-flex",children:(0,A.tZ)(Re.F,{size:"sm"})}),(0,p.t)("Authentication required")]}):n?(0,A.BX)(Fe,{color:s.textColor,children:[(0,A.tZ)(Oe,{children:(0,A.tZ)(Ne.D,{size:"sm"})}),(0,p.tn)("%s build pending","%s builds pending",n)]}):r?(0,A.BX)(Fe,{color:s.textColor,children:[(0,A.tZ)(Oe,{children:(0,A.tZ)(me.t,{size:"sm"})}),(0,A.tZ)(k.Z,{date:r})]}):null},Fe=(0,n.Z)("div",{target:"es12fjf2"})("display:grid;grid-template-columns:repeat(2, max-content);align-items:center;gap:",(0,m.D)(.75),";color:",(e=>e.color),";font-size:",(e=>e.theme.fontSizeMedium),";height:14px;",(e=>e.onClick&&"cursor: pointer"),";"),Me=(0,n.Z)(z.u,{target:"es12fjf1"})({name:"m44gc5",styles:"margin-top:-5px;height:14px"}),Oe=(0,n.Z)("div",{target:"es12fjf0"})({name:"m44gc5",styles:"margin-top:-5px;height:14px"});var Ie=o("../node_modules/lodash/forEach.js"),$e=o.n(Ie),Xe=o("../node_modules/lodash/set.js"),qe=o.n(Xe);const Le={[le.Et.APP_STORE_CONNECT]:"App Store Connect",[le.Et.HTTP]:"SymbolServer (HTTP)",[le.Et.S3]:"Amazon S3",[le.Et.GCS]:"Google Cloud Storage"},Ue=[{value:le.Et.S3,label:Le[le.Et.S3],searchKey:(0,p.t)("aws amazon s3 bucket")},{value:le.Et.GCS,label:Le[le.Et.GCS],searchKey:(0,p.t)("gcs google cloud storage bucket")},{value:le.Et.HTTP,label:Le[le.Et.HTTP],searchKey:(0,p.t)("http symbol server ssqp symstore symsrv")},{value:le.Et.APP_STORE_CONNECT,label:Le[le.Et.APP_STORE_CONNECT],searchKey:(0,p.t)("apple store connect itunes ios")}];function Ye(e){const t={};return $e()(e,((e,o)=>{qe()(t,o.split("."),e)})),t}function He(e){let{repository:t,onSyncNow:o,onDelete:s,onEdit:n,hasFeature:r,hasAccess:a}=e;const[l,c]=(0,i.useState)(!1),{id:d,name:u,type:m}=t;if(t.type===le.Et.APP_STORE_CONNECT){const e="invalid"!==t.details?.credentials.status,i=void 0!==t.details;return(0,A.BX)(Ve,{children:[(0,A.tZ)(Ke,{size:"sm","aria-label":(0,p.t)("Toggle details"),onClick:()=>i?c(!l):void 0,direction:l?"down":"up"}),(0,A.tZ)(We,{children:u}),(0,A.BX)(Ge,{children:[Le[m],(0,A.tZ)(Pe,{details:t.details,onEditRepository:()=>n(d)})]}),(0,A.tZ)(Ze,{repositoryName:u,repositoryType:m,hasFeature:r,hasAccess:a,onDelete:()=>s(d),onEdit:()=>n(d),disabled:void 0===t.details,syncNowButton:(0,A.tZ)(S.zx,{size:"sm",onClick:()=>o(d),icon:(0,A.tZ)(me.t,{}),disabled:!(i&&e&&r&&a),title:r?a?e?void 0:(0,p.t)("Authentication is required before this repository can sync with App Store Connect."):(0,p.t)("You do not have permission to edit custom repositories configurations."):void 0,children:(0,p.t)("Sync Now")})}),l&&(0,A.tZ)(Ee,{details:t.details})]})}return(0,A.BX)(Ve,{children:[(0,A.tZ)(We,{children:u}),(0,A.tZ)(Ge,{children:Le[m]}),(0,A.tZ)(Ze,{repositoryName:u,repositoryType:m,hasFeature:r,hasAccess:a,onDelete:()=>s(d),onEdit:()=>n(d)})]})}He.displayName="Repository";const Qe=He,Ve=(0,n.Z)(pe.Z,{target:"e1ozftkn3"})("display:grid;align-items:flex-start;gap:",(0,m.D)(1),";grid-template-columns:max-content 1fr;@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:max-content 1fr max-content;}"),We=(0,n.Z)("div",{target:"e1ozftkn2"})("grid-column:2/2;@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-column:2/3;grid-row:1/2;}"),Ge=(0,n.Z)("div",{target:"e1ozftkn1"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;flex-wrap:wrap;align-items:center;grid-column:2/2;gap:",(0,m.D)(1.5),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-column:2/3;grid-row:2/2;gap:",(0,m.D)(1),";}"),Ke=(0,n.Z)(ue.g,{target:"e1ozftkn0"})({name:"e0dnmk",styles:"cursor:pointer"}),Je=(0,p.t)("Custom Repositories");function et(e){let{api:t,organization:o,customRepositories:s,projSlug:n,router:a,location:l,isLoading:c}=e;const d=(0,i.useContext)(ae.Z);(0,i.useEffect)((()=>{!function(){const{customRepository:e}=l.query;if(!e)return;const t=s.findIndex((t=>t.id===e)),n=s[t];n&&(0,te.openDebugFileSourceModal)({organization:o,sourceConfig:n,sourceType:n.type,appStoreConnectSourcesQuantity:h,appStoreConnectStatusData:d?.[n.id],onSave:e=>g({updatedItem:e,index:t}),onClose:y})}()}),[l.query,d]);const m=o.slug,h=s.filter((e=>e.type===le.Et.APP_STORE_CONNECT)).length;function g(e){let{updatedItems:o,updatedItem:i,index:a,refresh:l}=e,c=o??[];i&&(0,ce.ri)(a)&&(c=[...s],c.splice(a,1,i));const{successMessage:d,errorMessage:h}=(g=c.length)>(y=s.length)?{successMessage:(0,p.t)("Successfully added custom repository"),errorMessage:(0,p.t)("An error occurred while adding a new custom repository")}:g<y?{successMessage:(0,p.t)("Successfully removed custom repository"),errorMessage:(0,p.t)("An error occurred while removing the custom repository")}:{successMessage:(0,p.t)("Successfully updated custom repository"),errorMessage:(0,p.t)("An error occurred while updating the custom repository")};var g,y;const b=JSON.stringify(c.map(Ye)),f=t.requestPromise(`/projects/${m}/${n}/`,{method:"PUT",data:{symbolSources:b}});return f.catch((()=>{(0,r.Iw)(h)})),f.then((e=>{u.Z.onUpdateSuccess(e),(0,r.S9)(d),l&&window.location.reload()})),f}function y(){a.push({...l,query:{...l.query,customRepository:void 0}})}function b(e){const t=[...s],o=t.findIndex((t=>t.id===e));t.splice(o,1),g({updatedItems:t,refresh:s[o].type===le.Et.APP_STORE_CONNECT})}function f(e){a.push({...l,query:{...l.query,customRepository:e}})}async function Z(e){try{await t.requestPromise(`/projects/${m}/${n}/appstoreconnect/${e}/refresh/`,{method:"POST"}),(0,r.S9)((0,p.t)("Repository sync started."))}catch(e){const t=(0,p.t)("Rate limit for refreshing repository exceeded. Try again in a few minutes.");(0,r.Iw)(t),(0,de.X)(t,e)}}return(0,A.tZ)(oe.Z,{features:["custom-symbol-sources"],organization:o,children:e=>{let{hasFeature:t}=e;return(0,A.tZ)(x.Z,{access:["project:write"],children:e=>{let{hasAccess:n}=e;const i=!n||c;return(0,A.BX)(Q.Z,{children:[(0,A.BX)(W.Z,{hasButtons:!0,children:[Je,(0,A.tZ)(z.u,{title:n?void 0:(0,p.t)("You do not have permission to add custom repositories."),children:(0,A.tZ)(se.Z,{alignMenu:"right",disabled:i,onSelect:e=>{return t=e.value,void(0,te.openDebugFileSourceModal)({organization:o,appStoreConnectSourcesQuantity:h,sourceType:t,onSave:e=>g({updatedItems:[...s,e]})});var t},items:Ue.map((e=>({...e,label:(0,A.tZ)(ot,{"aria-label":(0,p.t)("Open %s custom repository modal",e.label),children:e.label})}))),children:e=>{let{isOpen:t}=e;return(0,A.tZ)(ne.Z,{isOpen:t,disabled:i,size:"sm","aria-label":(0,p.t)("Add Repository"),children:(0,p.t)("Add Repository")})}})})]}),(0,A.tZ)(V.Z,{children:c?(0,A.tZ)(H.Z,{}):s.length?s.map(((e,o)=>(0,A.tZ)(Qe,{repository:e.type===le.Et.APP_STORE_CONNECT?{...e,details:d?.[e.id]}:e,hasFeature:e.type===le.Et.APP_STORE_CONNECT?t||1===h:t,hasAccess:n,onDelete:b,onEdit:f,onSyncNow:Z},o))):(0,A.tZ)(ie.Z,{children:(0,A.tZ)("p",{children:(0,p.t)("No custom repositories configured")})})})]})}})}})}et.displayName="CustomRepositories";const tt=et,ot=(0,n.Z)(re.Z,{target:"e1f4jy680"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeMedium),";font-weight:400;text-transform:none;span{padding:0;}");function st(e){let{api:t,organization:o,customRepositories:s,builtinSymbolSources:n,builtinSymbolSourceOptions:r,projSlug:a,location:l,router:c,isLoading:d}=e;return(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(J,{api:t,organization:o,builtinSymbolSources:n,builtinSymbolSourceOptions:r,projSlug:a,isLoading:d}),(0,A.tZ)(tt,{api:t,location:l,router:c,organization:o,customRepositories:s,projSlug:a,isLoading:d})]})}st.displayName="Sources";const nt=st;class it extends g.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleDelete",(e=>{const{organization:t,params:o}=this.props;this.setState({loading:!0}),this.api.request(`/projects/${t.slug}/${o.projectId}/files/dsyms/?id=${e}`,{method:"DELETE",complete:()=>this.fetchData()})})),(0,s.Z)(this,"handleSearch",(e=>{const{location:t,router:o}=this.props;o.push({...t,query:{...t.query,cursor:void 0,query:e}})}))}getTitle(){const{projectId:e}=this.props.params;return(0,h.Z)((0,p.t)("Debug Files"),e,!1)}getDefaultState(){return{...super.getDefaultState(),project:this.props.project,showDetails:!1}}getEndpoints(){const{organization:e,params:t,location:o}=this.props,{builtinSymbolSources:s}=this.state||{},{query:n}=o.query,i=[["debugFiles",`/projects/${e.slug}/${t.projectId}/files/dsyms/`,{query:{query:n}}]];return!s&&e.features.includes("symbol-sources")&&i.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),i}async fetchProject(){const{organization:e,params:t}=this.props;try{const o=await this.api.requestPromise(`/projects/${e.slug}/${t.projectId}/`);u.Z.onUpdateSuccess(o)}catch{(0,r.Iw)((0,p.t)("An error occurred while fetching project data"))}}getQuery(){const{query:e}=this.props.location.query;return"string"==typeof e?e:void 0}getEmptyMessage(){return this.getQuery()?(0,p.t)("There are no debug symbols that match your search."):(0,p.t)("There are no debug symbols for this project.")}renderLoading(){return this.renderBody()}renderDebugFiles(){const{debugFiles:e,showDetails:t}=this.state,{organization:o,params:s}=this.props;return e?.length?e.map((e=>{const n=`${this.api.baseUrl}/projects/${o.slug}/${s.projectId}/files/dsyms/?id=${e.id}`;return(0,A.tZ)(U,{debugFile:e,showDetails:t,downloadUrl:n,downloadRole:o.debugFilesRole,onDelete:this.handleDelete,orgSlug:o.slug},e.id)})):null}renderBody(){const{organization:e,project:t,router:o,location:s}=this.props,{loading:n,showDetails:r,builtinSymbolSources:c,debugFiles:u,debugFilesPageLinks:m}=this.state;return(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(y.Z,{title:(0,p.t)("Debug Information Files")}),(0,A.tZ)(b.Z,{children:(0,p.t)("\n            Debug information files are used to convert addresses and minified\n            function names from native crash reports into function names and\n            locations.\n          ")}),e.features.includes("symbol-sources")&&(0,A.BX)(i.Fragment,{children:[(0,A.tZ)(f.Z,{}),(0,A.tZ)(nt,{api:this.api,location:s,router:o,projSlug:t.slug,organization:e,customRepositories:t.symbolSources?JSON.parse(t.symbolSources):[],builtinSymbolSources:t.builtinSymbolSources??[],builtinSymbolSourceOptions:c??[],isLoading:n})]}),(0,A.BX)(lt,{children:[(0,A.tZ)(b.Z,{noMargin:!0,children:(0,p.t)("Uploaded debug information files")}),(0,A.BX)(ct,{children:[(0,A.BX)(dt,{children:[(0,A.tZ)(a.Z,{checked:r,onChange:e=>{this.setState({showDetails:e.target.checked})}}),(0,p.t)("show details")]}),(0,A.tZ)(d.Z,{placeholder:(0,p.t)("Search DIFs"),onSearch:this.handleSearch,query:this.getQuery()})]})]}),(0,A.tZ)(rt,{headers:[(0,p.t)("Debug ID"),(0,p.t)("Information"),(0,A.tZ)(at,{children:(0,p.t)("Actions")},"actions")],emptyMessage:this.getEmptyMessage(),isEmpty:0===u?.length,isLoading:n,children:this.renderDebugFiles()}),(0,A.tZ)(l.Z,{pageLinks:m})]})}}const rt=(0,n.Z)(c.Z,{target:"e5ed4hh4"})({name:"l40ow2",styles:"grid-template-columns:37% 1fr auto"}),at=(0,n.Z)("div",{target:"e5ed4hh3"})({name:"2qga7i",styles:"text-align:right"}),lt=(0,n.Z)("div",{target:"e5ed4hh2"})("display:grid;grid-template-columns:auto 1fr;gap:",(0,m.D)(4),";align-items:center;margin-top:",(0,m.D)(4),";margin-bottom:",(0,m.D)(1),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){display:block;}"),ct=(0,n.Z)("div",{target:"e5ed4hh1"})("display:grid;grid-template-columns:min-content minmax(200px, 400px);align-items:center;justify-content:flex-end;gap:",(0,m.D)(2),";@media (max-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:min-content 1fr;}"),dt=(0,n.Z)("label",{target:"e5ed4hh0"})("font-weight:normal;display:flex;margin-bottom:0;white-space:nowrap;gap:",(0,m.D)(1),";"),pt=it},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,o)=>{"use strict";o.d(t,{Q:()=>a,V:()=>l});var s=o("./app/locale.tsx"),n=o("./app/types/debugFiles.tsx");const i={proguard:(0,s.t)("ProGuard mapping"),breakpad:(0,s.t)("Breadpad"),macho:(0,s.t)("Mach-O"),elf:(0,s.t)("ELF"),pe:(0,s.t)("PE"),pdb:(0,s.t)("PDB"),portablepdb:(0,s.t)("Portable PDB"),sourcebundle:(0,s.t)("SourceBundle"),wasm:(0,s.t)("WebAssembly"),bcsymbolmap:(0,s.t)("BCSymbolMap"),il2cpp:(0,s.t)("IL2CPP mapping")},r={[n.BQ.EXE]:(0,s.t)("executable"),[n.BQ.DBG]:(0,s.t)("debug companion"),[n.BQ.LIB]:(0,s.t)("dynamic library")};function a(e){const{symbolType:t,data:o,cpuName:s}=e;return[i[t]??t,r[o?.type??"_"],s&&"any"!==s&&"unknown"!==s?`(${s})`:null].filter(Boolean).join(" ")}function l(e){switch(e){case n.Wi.SYMTAB:return(0,s.t)("Symbol tables are used as a fallback when full debug information is not available");case n.Wi.DEBUG:return(0,s.t)("Debug information provides function names and resolves inlined frames during symbolication");case n.Wi.UNWIND:return(0,s.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case n.Wi.SOURCES:return(0,s.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}},"../node_modules/lodash/_castFunction.js":(e,t,o)=>{var s=o("../node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:s}},"../node_modules/lodash/forEach.js":(e,t,o)=>{var s=o("../node_modules/lodash/_arrayEach.js"),n=o("../node_modules/lodash/_baseEach.js"),i=o("../node_modules/lodash/_castFunction.js"),r=o("../node_modules/lodash/isArray.js");e.exports=function(e,t){return(r(e)?s:n)(e,i(t))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectDebugFiles_index_tsx.fa4afed88c6e3398bd3d37773d6c43bc.js.map