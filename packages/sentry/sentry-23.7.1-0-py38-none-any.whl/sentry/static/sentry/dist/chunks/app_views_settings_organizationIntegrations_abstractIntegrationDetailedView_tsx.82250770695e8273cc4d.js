"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationIntegrations_abstractIntegrationDetailedView_tsx"],{"./app/views/settings/components/settingsBreadcrumb/breadcrumbTitle.tsx":(t,e,n)=>{n.d(e,{Z:()=>i});var s=n("./app/views/settings/components/settingsBreadcrumb/context.tsx");const i=function(t){return(0,s.Qi)(t),null}},"./app/views/settings/organizationIntegrations/abstractIntegrationDetailedView.tsx":(t,e,n)=>{n.d(e,{Z:()=>$});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/react/index.js")),a=n("../node_modules/lodash/startCase.js"),o=n.n(a),l=n("./app/components/acl/access.tsx"),d=n("./app/components/alert.tsx"),g=n("./app/components/deprecatedAsyncComponent.tsx"),u=n("./app/components/emptyMessage.tsx"),c=n("./app/components/links/externalLink.tsx"),p=n("./app/components/panels/panel.tsx"),h=n("./app/components/tag.tsx"),m=n("./app/components/tooltip.tsx"),Z=n("./app/icons/index.tsx"),b=n("./app/locale.tsx"),y=n("./app/plugins/components/pluginIcon.tsx"),x=n("./app/styles/space.tsx"),f=n("./app/utils/integrationUtil.tsx"),w=n("./app/utils/marked.tsx"),v=n("./app/views/settings/components/settingsBreadcrumb/breadcrumbTitle.tsx"),S=n("./app/actionCreators/modal.tsx"),I=n("./app/components/button.tsx"),k=n("./app/actionCreators/indicator.tsx"),_=n("./app/components/forms/fields/textareaField.tsx"),z=n("./app/views/settings/components/text/textBlock.tsx"),D=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class B extends g.Z{constructor(){super(...arguments),(0,s.Z)(this,"state",{...this.getDefaultState(),isSending:!1,message:""}),(0,s.Z)(this,"sendRequest",(()=>{const{organization:t,slug:e,type:n}=this.props,{message:s}=this.state;(0,f.Db)("integrations.request_install",{integration_type:n,integration:e,organization:t});const i=`/organizations/${t.slug}/integration-requests/`;this.api.request(i,{method:"POST",data:{providerSlug:e,providerType:n,message:s},success:this.handleSubmitSuccess,error:this.handleSubmitError})})),(0,s.Z)(this,"handleSubmitSuccess",(()=>{const{closeModal:t,onSuccess:e}=this.props;(0,k.S9)((0,b.t)("Request successfully sent.")),this.setState({isSending:!1}),e(),t()})),(0,s.Z)(this,"handleSubmitError",(()=>{(0,k.Iw)("Error sending the request"),this.setState({isSending:!1})}))}render(){const{Header:t,Body:e,Footer:n,name:s}=this.props,i=this.state.isSending?(0,b.t)("Sending Request"):(0,b.t)("Send Request");return(0,D.BX)(r.Fragment,{children:[(0,D.tZ)(t,{children:(0,D.tZ)("h4",{children:(0,b.t)("Request %s Installation",s)})}),(0,D.BX)(e,{children:[(0,D.tZ)(z.Z,{children:(0,b.t)("Looks like your organization owner, manager, or admin needs to install %s. Want to send them a request?",s)}),(0,D.tZ)(z.Z,{children:(0,b.t)("(Optional) You’ve got good reasons for installing the %s Integration. Share them with your organization owner.",s)}),(0,D.tZ)(_.Z,{inline:!1,flexibleControlStateSize:!0,stacked:!0,name:"message",type:"string",onChange:t=>this.setState({message:t}),placeholder:(0,b.t)("Optional message…")}),(0,D.tZ)(z.Z,{children:(0,b.t)("When you click “Send Request”, we’ll email your request to your organization’s owners. So just keep that in mind.")})]}),(0,D.tZ)(n,{children:(0,D.tZ)(I.zx,{onClick:this.sendRequest,children:i})})]})}}B.displayName="RequestIntegrationModal";class T extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{isOpen:!1,isSent:!1})}openRequestModal(){this.setState({isOpen:!0}),(0,S.openModal)((t=>(0,D.tZ)(B,{...this.props,...t,onSuccess:()=>this.setState({isSent:!0})})),{onClose:()=>this.setState({isOpen:!1})})}render(){const{isOpen:t,isSent:e}=this.state;let n;return n=t?(0,b.t)("Requesting Installation"):e?(0,b.t)("Installation Requested"):(0,b.t)("Request Installation"),(0,D.tZ)(q,{"data-test-id":"request-integration-button",disabled:t||e,onClick:()=>this.openRequestModal(),priority:"primary",size:"sm",children:n})}}T.displayName="RequestIntegrationButton";const q=(0,i.Z)(I.zx,{target:"elv7eny0"})("margin-left:",(0,x.D)(1),";");var C=n("./app/views/settings/organizationIntegrations/integrationStatus.tsx");class A extends g.Z{constructor(){super(...arguments),(0,s.Z)(this,"tabs",["overview","configurations"]),(0,s.Z)(this,"onTabChange",(t=>{this.trackIntegrationAnalytics("integrations.integration_tab_clicked",{integration_tab:t}),this.setState({tab:t})})),(0,s.Z)(this,"trackIntegrationAnalytics",((t,e)=>{e=e||{},(0,f.Db)(t,{view:"integrations_directory_integration_detail",integration:this.integrationSlug,integration_type:this.integrationType,already_installed:"Not Installed"!==this.installationStatus,organization:this.props.organization,...e})}))}componentDidMount(){super.componentDidMount();const{location:t}=this.props,e="configurations"===t.query.tab?"configurations":"overview";this.setState({tab:e})}onLoadAllEndpointsSuccess(){this.trackIntegrationAnalytics("integrations.integration_viewed",{integration_tab:this.state.tab})}get integrationType(){throw new Error("Not implemented")}get description(){throw new Error("Not implemented")}get author(){throw new Error("Not implemented")}get alerts(){return[]}get resourceLinks(){throw new Error("Not implemented")}get installationStatus(){throw new Error("Not implemented")}get integrationName(){throw new Error("Not implemented")}get requiresAccess(){return!0}get featureData(){throw new Error("Not implemented")}getIcon(t){switch(t){case"View Source":return(0,D.tZ)(Z.FI,{});case"Report Issue":return(0,D.tZ)(Z.Uv,{});case"Documentation":case"Splunk Setup Instructions":case"Trello Setup Instructions":return(0,D.tZ)(Z.OH,{});default:return(0,D.tZ)(Z.RM,{})}}getTabDisplay(t){return t}renderTopButton(t,e){throw new Error("Not implemented")}renderPermissions(){return null}renderEmptyConfigurations(){return(0,D.tZ)(p.Z,{children:(0,D.tZ)(u.Z,{title:(0,b.t)("You haven't set anything up yet"),description:(0,b.t)("But that doesn’t have to be the case for long! Add an installation to get started."),action:this.renderAddInstallButton(!0)})})}renderConfigurations(){throw new Error("Not implemented")}get integrationSlug(){return this.props.params.integrationSlug}get featureProps(){const{organization:t}=this.props;return{organization:t,features:this.featureData.map((t=>({featureGate:t.featureGate,description:(0,D.tZ)(F,{dangerouslySetInnerHTML:{__html:(0,w.A)(t.description)}})})))}}cleanTags(){return(0,f.CP)(this.featureData)}renderAlert(){return null}renderAdditionalCTA(){return null}renderIntegrationIcon(){return(0,D.tZ)(y.ZP,{pluginId:this.integrationSlug,size:50})}renderRequestIntegrationButton(){return(0,D.tZ)(T,{organization:this.props.organization,name:this.integrationName,slug:this.integrationSlug,type:this.integrationType})}renderAddInstallButton(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{IntegrationFeatures:e}=(0,f.bh)();return(0,D.tZ)(e,{...this.featureProps,children:e=>{let{disabled:n,disabledReason:s}=e;return(0,D.BX)(U,{children:[(0,D.tZ)(l.Z,{access:["org:integrations"],children:e=>{let{hasAccess:s}=e;return(0,D.tZ)(m.u,{title:(0,b.t)("You must be an organization owner, manager or admin to install this."),disabled:s||!this.requiresAccess,children:!t&&n?(0,D.tZ)("div",{}):this.renderTopButton(n,s)})}}),n&&(0,D.tZ)(L,{reason:s})]})}})}renderTopSection(){const t=this.cleanTags();return(0,D.BX)(Q,{children:[(0,D.BX)(j,{children:[this.renderIntegrationIcon(),(0,D.BX)(X,{children:[(0,D.BX)(j,{children:[(0,D.tZ)(E,{children:this.integrationName}),(0,D.tZ)(G,{children:this.installationStatus&&(0,D.tZ)(C.Z,{status:this.installationStatus})})]}),(0,D.tZ)(j,{children:t.map((t=>(0,D.tZ)(M,{children:o()(t)},t)))})]})]}),(0,D.BX)(j,{children:[this.renderAddInstallButton(),this.renderAdditionalCTA()]})]})}renderTabs(){return(0,D.tZ)("ul",{className:"nav nav-tabs border-bottom",style:{paddingTop:"30px"},children:this.tabs.map((t=>(0,D.tZ)("li",{className:this.state.tab===t?"active":"",onClick:()=>this.onTabChange(t),children:(0,D.tZ)(R,{children:this.getTabDisplay(t)})},t)))})}renderInformationCard(){const{FeatureList:t}=(0,f.bh)();return(0,D.tZ)(r.Fragment,{children:(0,D.BX)(j,{children:[(0,D.BX)(N,{children:[(0,D.tZ)(O,{dangerouslySetInnerHTML:{__html:(0,w.Z)(this.description)}}),(0,D.tZ)(t,{...this.featureProps,provider:{key:this.props.params.integrationSlug}}),this.renderPermissions(),this.alerts.map(((t,e)=>(0,D.tZ)(d.bZ,{type:t.type,showIcon:!0,children:(0,D.tZ)("span",{dangerouslySetInnerHTML:{__html:(0,w.A)(t.text)}})},e)))]}),(0,D.BX)(H,{children:[!!this.author&&(0,D.BX)(V,{children:[(0,D.tZ)(W,{children:(0,b.t)("Created By")}),(0,D.tZ)("div",{children:this.author})]}),this.resourceLinks.map((t=>{let{title:e,url:n}=t;return(0,D.BX)(Y,{children:[this.getIcon(e),(0,D.tZ)(c.Z,{href:n,children:e})]},n)}))]})]})})}renderBody(){return(0,D.BX)(r.Fragment,{children:[(0,D.tZ)(v.Z,{routes:this.props.routes,title:this.integrationName}),this.renderAlert(),this.renderTopSection(),this.renderTabs(),"overview"===this.state.tab?this.renderInformationCard():this.renderConfigurations()]})}}const j=(0,i.Z)("div",{target:"eug0e7u16"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),N=(0,i.Z)("div",{target:"eug0e7u15"})({name:"82a6rk",styles:"flex:1"}),R=(0,i.Z)("a",{target:"eug0e7u14"})({name:"kff9ir",styles:"text-transform:capitalize"}),M=(0,i.Z)(h.Z,{target:"eug0e7u13"})("text-transform:none;&:not(:first-child){margin-left:",(0,x.D)(.5),";}"),X=(0,i.Z)("div",{target:"eug0e7u12"})("display:flex;align-items:flex-start;flex-direction:column;justify-content:center;padding-left:",(0,x.D)(2),";"),E=(0,i.Z)("div",{target:"eug0e7u11"})("font-weight:bold;font-size:1.4em;margin-bottom:",(0,x.D)(.5),";"),P=(0,i.Z)(Z.bM,{target:"eug0e7u10"})("color:",(t=>t.theme.dangerText),";margin-right:",(0,x.D)(1),";"),L=(0,i.Z)((t=>{let{reason:e,...n}=t;return(0,D.BX)("div",{style:{display:"flex",alignItems:"center"},...n,children:[(0,D.tZ)(P,{isCircled:!0}),(0,D.tZ)("span",{children:e})]})}),{target:"eug0e7u9"})("padding-top:",(0,x.D)(.5),";font-size:0.9em;"),F=(0,i.Z)("span",{target:"eug0e7u8"})({name:"1gt2cgk",styles:"line-height:24px"}),O=(0,i.Z)("div",{target:"eug0e7u7"})({name:"w60nif",styles:"li{margin-bottom:6px;}"}),H=(0,i.Z)(j,{target:"eug0e7u6"})("display:grid;grid-auto-rows:max-content;grid-auto-flow:row;gap:",(0,x.D)(1),";font-size:0.9em;margin-left:",(0,x.D)(4),";margin-right:100px;align-self:flex-start;"),V=(0,i.Z)("div",{target:"eug0e7u5"})("margin-bottom:",(0,x.D)(3),";"),Y=(0,i.Z)("div",{target:"eug0e7u4"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,x.D)(1),";align-items:center;"),G=(0,i.Z)("div",{target:"eug0e7u3"})("margin-bottom:",(0,x.D)(.5),";padding-left:",(0,x.D)(2),";"),U=(0,i.Z)("div",{target:"eug0e7u2"})({name:"ur67by",styles:"margin-left:auto;align-self:center;display:flex;flex-direction:column;align-items:center"}),W=(0,i.Z)("div",{target:"eug0e7u1"})("text-transform:uppercase;padding-bottom:",(0,x.D)(1),";color:",(t=>t.theme.gray300),";font-weight:600;font-size:12px;"),Q=(0,i.Z)("div",{target:"eug0e7u0"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),$=A},"./app/views/settings/organizationIntegrations/constants.tsx":(t,e,n)=>{n.d(e,{DM:()=>s,ek:()=>i});const s={Installed:"success","Not Installed":"gray300",Disabled:"gray300","Pending Deletion":"gray300",Pending:"pink300","Learn More":"gray300"},i={slack:50,github:20,jira:10,bitbucket:10,gitlab:10,pagerduty:10,vsts:10,jira_server:10,bitbucket_server:10,github_enterprise:10,vercel:10,msteams:10,aws_lambda:10,webhooks:10,asana:8,trello:8,heroku:8,pivotal:8,twilio:8,pushover:5,redmine:5,phabricator:5,opsgenie:5,victorops:5,sessionstack:5,segment:2,"amazon-sqs":2,splunk:2}},"./app/views/settings/organizationIntegrations/integrationStatus.tsx":(t,e,n)=>{n.d(e,{Z:()=>g});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),r=n("./app/components/circleIndicator.tsx"),a=n("./app/styles/space.tsx"),o=n("./app/views/settings/organizationIntegrations/constants.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=(0,s.Z)("div",{target:"e1i0cz8b1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),g=(0,s.Z)((t=>{let{status:e,...n}=t;const s=(0,i.u)();return(0,l.BX)(d,{children:[(0,l.tZ)(r.Z,{size:6,color:s[o.DM[e]]}),(0,l.tZ)("div",{...n,children:e})]})}),{target:"e1i0cz8b0"})("color:",(t=>t.theme[o.DM[t.status]]),";margin-left:",(0,a.D)(.5),";font-weight:light;margin-right:",(0,a.D)(.75),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationIntegrations_abstractIntegrationDetailedView_tsx.c909595c8ac51cb3fb70869b35b66a34.js.map