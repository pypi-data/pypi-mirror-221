"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_panels_panelHeader_tsx-app_components_pickProjectToContinue_tsx-app_views_rele-15b3cd","app_components_pickProjectToContinue_tsx"],{"./app/components/panels/panelHeader.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=s("./app/styles/space.tsx");const n=e=>{let{disablePadding:t,hasButtons:s}=e;return(0,r.iv)("padding:",s?(0,i.D)(1):(0,i.D)(2)," ",t?0:(0,i.D)(2),";","")},a=(0,o.Z)("div",{target:"e1dzfr4k0"})("display:flex;align-items:center;justify-content:space-between;color:",(e=>e.lightText?e.theme.gray300:e.theme.gray400),";font-size:",(e=>e.theme.fontSizeSmall),";font-weight:600;text-transform:uppercase;border-bottom:1px solid ",(e=>e.theme.border),";border-radius:calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px) 0 0;background:",(e=>e.theme.backgroundSecondary),";line-height:1;position:relative;",n,";")},"./app/components/pickProjectToContinue.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/es.array.push.js"),s("./app/actionCreators/modal.tsx")),i=s("./app/components/contextPickerModal.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{noProjectRedirectPath:t,nextPath:s,router:o,projects:a,allowAllProjectsSelection:l=!1}=e;const d=s.query;let c=!1,u=`${s.pathname}?project=`;if(d){const e=[...Object.entries(d).filter((e=>{let[t,s]=e;return"project"!==t})).map((e=>{let[t,s]=e;return`${t}=${s}`})),"project="].join("&");u=`${s.pathname}?${e}`}return 1===a.length?(o.replace(u+a[0].id),null):((0,r.openModal)((e=>(0,n.tZ)(i.Z,{...e,needOrg:!1,needProject:!0,nextPath:`${u}:project`,onFinish:e=>{c=!0,o.replace(e)},projectSlugs:a.map((e=>e.slug)),allowAllProjectsSelection:l})),{onClose(){c||o.push(t)}}),(0,n.tZ)(p,{}))}a.displayName="PickProjectToContinue";const p=(0,o.Z)("div",{target:"e1pnb7yr0"})({name:"4wiox3",styles:"height:100vh;width:100%"}),l=a},"./app/stores/repositoryStore.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const o={state:{orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},init(){this.resetRepositories()},resetRepositories(){this.state={orgSlug:void 0,repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},this.trigger(this.state)},loadRepositories(e){this.state={orgSlug:e,repositories:e===this.state.orgSlug?this.state.repositories:void 0,repositoriesLoading:!0,repositoriesError:void 0},this.trigger(this.state)},loadRepositoriesError(e){this.state={...this.state,repositories:void 0,repositoriesLoading:!1,repositoriesError:e},this.trigger(this.state)},loadRepositoriesSuccess(e){this.state={...this.state,repositories:e,repositoriesLoading:!1,repositoriesError:void 0},this.trigger(this.state)},get(){return{...this.state}}},r=(0,s("../node_modules/reflux/src/index.js").createStore)(o)},"./app/utils/withRepositories.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),i=s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),n=s("./app/stores/repositoryStore.tsx"),a=s("./app/utils/getDisplayName.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l={repositories:void 0,repositoriesLoading:void 0,repositoriesError:void 0},d=function(e){class t extends r.Component{constructor(e,t){super(e,t),(0,o.Z)(this,"unsubscribe",n.Z.listen((()=>this.onStoreUpdate()),void 0));const s=n.Z.get();this.state=s.orgSlug===e.organization.slug?{...l,...s}:{...l}}componentDidMount(){const{organization:e}=this.props,t=e.slug;n.Z.get().orgSlug!==t&&n.Z.resetRepositories(),this.fetchRepositories()}componentWillUnmount(){this.unsubscribe()}fetchRepositories(){const{api:e,organization:t}=this.props,s=t.slug,o=n.Z.get();(!o.repositories&&!o.repositoriesLoading||o.repositoriesError)&&function(e,t){const{orgSlug:s}=t,o=`/organizations/${s}/repos/`;n.Z.state.repositoriesLoading=!0,n.Z.loadRepositories(s),e.requestPromise(o,{method:"GET"}).then((e=>{n.Z.loadRepositoriesSuccess(e)})).catch((e=>{n.Z.loadRepositoriesError(e),i.$e((t=>{t.setLevel("warning"),t.setFingerprint(["getRepositories-action-creator"]),i.Tb(e)}))}))}(e,{orgSlug:s})}onStoreUpdate(){const e=n.Z.get();this.setState({...e})}render(){return(0,p.tZ)(e,{...this.props,...this.state})}}return t.displayName="WithRepositories",(0,o.Z)(t,"displayName",`withRepositories(${(0,a.Z)(e)})`),t}},"./app/views/releases/detail/commitsAndFiles/emptyState.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var o=s("./app/components/emptyStateWarning.tsx"),r=s("./app/components/panels/panel.tsx"),i=s("./app/components/panels/panelBody.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{children:t}=e;return(0,n.tZ)(r.Z,{children:(0,n.tZ)(i.Z,{children:(0,n.tZ)(o.Z,{children:(0,n.tZ)("p",{children:t})})})})}a.displayName="EmptyState";const p=a},"./app/views/releases/detail/commitsAndFiles/repositorySwitcher.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),n=s("./app/components/compactSelect/index.tsx"),a=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),l=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class d extends i.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"handleRepoFilterChange",(e=>{const{router:t,location:s}=this.props;t.push({...s,query:{...s.query,cursor:void 0,activeRepo:e}})}))}render(){const{activeRepository:e,repositories:t}=this.props,s=e?.name;return(0,l.tZ)(u,{triggerLabel:s,triggerProps:{prefix:(0,a.t)("Filter")},value:s,options:t.map((e=>({value:e.name,textValue:e.name,label:(0,l.tZ)(m,{children:e.name})}))),onChange:e=>this.handleRepoFilterChange(String(e?.value))})}}d.displayName="RepositorySwitcher";const c=d,u=(0,r.Z)(n.Z,{target:"e1d3wkz41"})("margin-bottom:",(0,p.D)(1),";"),m=(0,r.Z)("div",{target:"e1d3wkz40"})((e=>e.theme.overflowEllipsis),";")},"./app/views/releases/detail/commitsAndFiles/withReleaseRepos.tsx":(e,t,s)=>{s.d(t,{Z:()=>y});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/react/index.js"),i=s("../node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),n=s("./app/actionCreators/indicator.tsx"),a=s("./app/components/button.tsx"),p=s("./app/components/emptyMessage.tsx"),l=s("./app/components/layouts/thirds.tsx"),d=s("./app/components/loadingIndicator.tsx"),c=s("./app/components/panels/panel.tsx"),u=s("./app/icons/index.tsx"),m=s("./app/locale.tsx"),h=s("./app/utils/getDisplayName.tsx"),S=s("./app/utils/withApi.tsx"),R=s("./app/utils/withOrganization.tsx"),g=s("./app/utils/withRepositories.tsx"),x=s("./app/views/releases/detail/index.tsx"),E=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const y=function(e){class t extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{releaseRepos:[],isLoading:!0})}componentDidMount(){this.fetchReleaseRepos()}componentDidUpdate(e,t){this.props.params.release!==e.params.release||e.repositoriesLoading&&!this.props.repositoriesLoading?this.fetchReleaseRepos():t.releaseRepos.length===this.state.releaseRepos.length&&e.location.query?.activeRepo===this.props.location.query?.activeRepo||this.setActiveReleaseRepo(this.props)}setActiveReleaseRepo(e){const{releaseRepos:t,activeReleaseRepo:s}=this.state;if(!t.length)return;const o=e.location.query?.activeRepo;if(!o)return void this.setState({activeReleaseRepo:t[0]??null});if(o===s?.name)return;const r=t.find((e=>e.name===o));r?this.setState({activeReleaseRepo:r}):(0,n.Iw)((0,m.t)("The repository you were looking for was not found."))}async fetchReleaseRepos(){const{params:e,api:t,organization:s,repositories:o,repositoriesLoading:r}=this.props;if(void 0===r||!0===r)return;if(!o?.length)return void this.setState({isLoading:!1});const{release:a}=e,{project:p}=this.context;this.setState({isLoading:!0});try{const e=encodeURIComponent(a),o=await t.requestPromise(`/projects/${s.slug}/${p.slug}/releases/${e}/repositories/`);this.setState({releaseRepos:o,isLoading:!1}),this.setActiveReleaseRepo(this.props)}catch(e){i.Tb(e),(0,n.Iw)((0,m.t)("An error occurred while trying to fetch the repositories of the release: %s",a))}}render(){const{isLoading:t,activeReleaseRepo:s,releaseRepos:o}=this.state,{repositoriesLoading:r,repositories:i,params:n,router:h,location:S,organization:R}=this.props;if(t||r)return(0,E.tZ)(d.Z,{});if(!i?.length)return(0,E.tZ)(l.uT,{children:(0,E.tZ)(l.or,{fullWidth:!0,children:(0,E.tZ)(c.Z,{dashedBorder:!0,children:(0,E.tZ)(p.Z,{icon:(0,E.tZ)(u.J3,{size:"xl"}),title:(0,m.t)("Releases are better with commit data!"),description:(0,m.t)("Connect a repository to see commit info, files changed, and authors involved in future releases."),action:(0,E.tZ)(a.zx,{priority:"primary",to:`/settings/${R.slug}/repos/`,children:(0,m.t)("Connect a repository")})})})})});if(!o.length)return(0,E.tZ)(l.uT,{children:(0,E.tZ)(l.or,{fullWidth:!0,children:(0,E.tZ)(c.Z,{dashedBorder:!0,children:(0,E.tZ)(p.Z,{icon:(0,E.tZ)(u.J3,{size:"xl"}),title:(0,m.t)("Releases are better with commit data!"),description:(0,m.t)("No commits associated with this release have been found.")})})})});if(void 0===s)return(0,E.tZ)(d.Z,{});const{release:g}=n,x=R.slug;return(0,E.tZ)(e,{...this.props,orgSlug:x,projectSlug:this.context.project.slug,release:g,router:h,location:S,releaseRepos:o,activeReleaseRepo:s})}}return t.displayName="WithReleaseRepos",(0,o.Z)(t,"displayName",`withReleaseRepos(${(0,h.Z)(e)})`),(0,o.Z)(t,"contextType",x.ReleaseContext),(0,S.Z)((0,R.Z)((0,g.Z)(t)))}},"./app/views/releases/detail/utils.tsx":(e,t,s)=>{s.d(t,{AN:()=>x,AO:()=>y,DZ:()=>R,Mn:()=>b,N8:()=>Z,Om:()=>E,Sz:()=>_,bB:()=>S,pm:()=>g}),s("../node_modules/core-js/modules/es.array.push.js");var o=s("../node_modules/lodash/pick.js"),r=s.n(o),i=s("../node_modules/moment/moment.js"),n=s.n(i),a=s("./app/components/charts/components/markLine.tsx"),p=s("./app/components/organizations/timeRangeSelector/utils.tsx"),l=s("./app/constants/pageFilters.tsx"),d=s("./app/locale.tsx"),c=s("./app/types/index.tsx"),u=s("./app/utils/queryString.tsx"),m=s("./app/views/releases/utils/index.tsx"),h=s("./app/views/releases/utils/sessionTerm.tsx");function S(e){return e.reduce(((e,t)=>{const{filename:s,repoName:o,author:r,type:i}=t;return e.hasOwnProperty(o)||(e[o]={}),e[o].hasOwnProperty(s)||(e[o][s]={authors:{},types:new Set}),r.email&&(e[o][s].authors[r.email]=r),e[o][s].types.add(i),e}),{})}function R(e){return e.reduce(((e,t)=>{const s=t.repository?.name??(0,d.t)("unknown");return e.hasOwnProperty(s)||(e[s]=[]),e[s].push(t),e}),{})}function g(e){let{location:t,perPage:s=40,activeRepository:o}=e;const i={...r()(t.query,[...Object.values(l.nF),"cursor"]),per_page:s};return o?{...i,repo_name:o.name}:i}function x(e,t){return t?[t.name]:e}const E={[c.GI.CRASH_FREE_SESSIONS]:(0,d.t)("Crash Free Session Rate"),[c.GI.HEALTHY_SESSIONS]:(0,d.t)("Healthy"),[c.GI.ABNORMAL_SESSIONS]:(0,d.t)("Abnormal"),[c.GI.ERRORED_SESSIONS]:(0,d.t)("Errored"),[c.GI.CRASHED_SESSIONS]:(0,d.t)("Crashed Session Rate"),[c.GI.CRASH_FREE_USERS]:(0,d.t)("Crash Free User Rate"),[c.GI.HEALTHY_USERS]:(0,d.t)("Healthy"),[c.GI.ABNORMAL_USERS]:(0,d.t)("Abnormal"),[c.GI.ERRORED_USERS]:(0,d.t)("Errored"),[c.GI.CRASHED_USERS]:(0,d.t)("Crashed User Rate"),[c.GI.SESSION_COUNT]:(0,d.t)("Session Count"),[c.GI.USER_COUNT]:(0,d.t)("User Count"),[c.GI.ERROR_COUNT]:(0,d.t)("Error Count"),[c.GI.TRANSACTION_COUNT]:(0,d.t)("Transaction Count"),[c.GI.FAILURE_RATE]:(0,d.t)("Failure Rate")},y={[c.GI.CRASH_FREE_SESSIONS]:(0,d.t)("Crash Free Session Rate"),[c.GI.HEALTHY_SESSIONS]:(0,d.t)("Healthy Session Rate"),[c.GI.ABNORMAL_SESSIONS]:(0,d.t)("Abnormal Session Rate"),[c.GI.ERRORED_SESSIONS]:(0,d.t)("Errored Session Rate"),[c.GI.CRASHED_SESSIONS]:(0,d.t)("Crashed Session Rate"),[c.GI.CRASH_FREE_USERS]:(0,d.t)("Crash Free User Rate"),[c.GI.HEALTHY_USERS]:(0,d.t)("Healthy User Rate"),[c.GI.ABNORMAL_USERS]:(0,d.t)("Abnormal User Rate"),[c.GI.ERRORED_USERS]:(0,d.t)("Errored User Rate"),[c.GI.CRASHED_USERS]:(0,d.t)("Crashed User Rate"),[c.GI.SESSION_COUNT]:(0,d.t)("Session Count"),[c.GI.USER_COUNT]:(0,d.t)("User Count"),[c.GI.ERROR_COUNT]:(0,d.t)("Error Count"),[c.GI.TRANSACTION_COUNT]:(0,d.t)("Transaction Count"),[c.GI.FAILURE_RATE]:(0,d.t)("Failure Rate")},_={[c.GI.CRASH_FREE_SESSIONS]:h.w0[h._k.CRASH_FREE_SESSIONS],[c.GI.CRASH_FREE_USERS]:h.w0[h._k.CRASH_FREE_USERS],[c.GI.SESSION_COUNT]:(0,d.t)("The number of sessions in a given period."),[c.GI.USER_COUNT]:(0,d.t)("The number of users in a given period.")};function v(e,t,s,o){const{hideLabel:r,axisIndex:i}=o||{};return{seriesName:e,type:"line",data:[{name:t,value:null}],yAxisIndex:i??void 0,xAxisIndex:i??void 0,color:s.gray300,markLine:(0,a.Z)({silent:!0,lineStyle:{color:s.gray300,type:"solid"},label:{position:"insideEndBottom",formatter:r?"":e,font:"Rubik",fontSize:14,color:s.chartLabel,backgroundColor:s.chartOther},data:[{xAxis:t}]})}}const Z={created:(0,d.t)("Release Created"),adopted:(0,d.t)("Adopted"),unadopted:(0,d.t)("Replaced")};function b(e,t,s,o,r){const i=[],a=e.adoptionStages?.[t.slug],l=1===(0,u.qP)(o.query.environment).length,d=(0,m.C8)(e),{statsPeriod:c,...h}=(0,m.O7)({location:o,releaseBounds:d});let{start:S,end:R}=h;const g=!(o.query.pageStart||o.query.pageEnd||o.query.pageStatsPeriod);if(c){const e=(0,p.su)(c,null);S=e.start,R=e.end}const x=n()(e.dateCreated).startOf("minute");if((x.isBetween(S,R)||g&&"normal"===d.type)&&i.push(v(Z.created,x.valueOf(),s,r)),!l||!(0,m.Jl)(t.platform))return i;const E=a?.adopted&&n()(a.adopted);E&&E.isBetween(S,R)&&i.push(v(Z.adopted,E.valueOf(),s,r));const y=a?.unadopted&&n()(a.unadopted);return y&&y.isBetween(S,R)&&i.push(v(Z.unadopted,y.valueOf(),s,r)),i}}}]);
//# sourceMappingURL=../sourcemaps/app_components_panels_panelHeader_tsx-app_components_pickProjectToContinue_tsx-app_views_rele-15b3cd.61e55d63d17d2eddf9e2bb8cb7c2bf10.js.map