"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_events_searchBar_tsx-app_components_gridEditable_sortLink_tsx-app_utils_perfor-7a414b"],{"./app/components/events/searchBar.tsx":(e,s,t)=>{t.d(s,{Z:()=>N}),t("../node_modules/core-js/modules/es.error.cause.js");var n=t("../node_modules/react/index.js"),r=t("../node_modules/lodash/assign.js"),a=t.n(r),o=t("../node_modules/lodash/flatten.js"),i=t.n(o),c=t("../node_modules/lodash/memoize.js"),p=t.n(c),u=t("../node_modules/lodash/omit.js"),l=t.n(u),d=t("./app/actionCreators/tags.tsx"),m=t("./app/components/smartSearchBar/index.tsx"),g=t("./app/constants/index.tsx"),h=t("./app/types/index.tsx"),x=t("./app/utils.tsx"),y=t("./app/utils/discover/fields.tsx"),S=t("./app/utils/fields/index.ts"),j=t("./app/utils/measurements/measurements.tsx"),f=t("./app/utils/useApi.tsx"),k=t("./app/utils/withTags.tsx"),b=t("./app/views/dashboards/utils.tsx"),v=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w=new RegExp(`^${g.c$}|\\${g.ir}`,"g"),_=new Set(Object.keys(y.wZ)),Z=Object.keys(y.wZ).reduce(((e,s)=>(e[s]={...y.wZ[s],kind:S.IV.FIELD},e)),{}),T=l()(Z,y.J8),E=y.$4.reduce(((e,s)=>(e[s]={name:s,kind:S.IV.METRICS},e)),{}),I=Object.keys(y.jg).reduce(((e,s)=>(e[s]={...y.jg[s],kind:S.IV.FIELD},e)),{});function O(e){const{maxSearchItems:s,organization:t,tags:r,omitTags:o,fields:c,projectIds:u,includeSessionTagsValues:g,maxMenuHeight:k,customMeasurements:O}=e,N=(0,f.Z)(),C=(0,n.useMemo)((()=>(e=>e?.length?e.reduce(((e,s)=>(_.has(s.field)||(0,y.GO)(s.field)||(0,b.nk)(s.field)||(e[s.field]={key:s.field,name:s.field,kind:S.IV.FUNCTION}),e)),{}):[])(c)),[c]),M=(0,n.useMemo)((()=>Object.keys(r).reduce(((e,s)=>(e[s]={...r[s],kind:S.IV.TAG},e)),{})),[r]);(0,n.useEffect)((()=>{V.cache.clear?.()}),[u]);const V=p()(((e,s,n)=>{const r=u?.map(String);return(0,y.h1)(e.key)||(0,y.Xr)(e.key)?Promise.resolve([]):(0,S.bn)(e.key)?Promise.resolve(S.BF):(0,d.Fo)({api:N,orgSlug:t.slug,tagKey:e.key,search:s,projectIds:r,endpointParams:n,includeTransactions:!0,includeSessions:g}).then((e=>i()(e.filter((e=>{let{name:s}=e;return(0,x.ri)(s)})).map((e=>{let{name:s}=e;return s})))),(()=>{throw new Error("Unable to fetch event field values")}))}),((e,s)=>{let{key:t}=e;return`${t}-${s}`})),L=e=>{const s=((e,s)=>{const t=Object.keys(e).reduce(((s,t)=>(s[t]={...e[t],kind:S.IV.MEASUREMENT},s)),{});return s?Object.keys(s).reduce(((e,t)=>(e[t]={...s[t],kind:S.IV.MEASUREMENT},e)),t):t})(e,O),n=t.features.includes("performance-view")?Object.assign({},s,C,E,Z):Object.assign({},T);return a()(n,M,Z,I),n.has={key:S.Sh.HAS,name:"Has property",values:Object.keys(n).sort(((e,s)=>e.toLowerCase().localeCompare(s.toLowerCase()))),predefined:!0,kind:S.IV.FIELD},o&&o.length>0?l()(n,o):n};return(0,v.tZ)(j.Z,{children:t=>{let{measurements:n}=t;return(0,v.tZ)(m.Z,{hasRecentSearches:!0,savedSearchType:h.L4.EVENT,onGetTagValues:V,supportedTags:L(n),prepareQuery:e=>e.replace(w,""),maxSearchItems:s,excludedTags:[S.Sh.ENVIRONMENT,S.Sh.TOTAL_COUNT],maxMenuHeight:k??300,customPerformanceMetrics:O,...e})}})}O.displayName="SearchBar";const N=(0,k.Z)(O)},"./app/components/gridEditable/sortLink.tsx":(e,s,t)=>{t.d(s,{Z:()=>d});var n=t("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=t("../node_modules/react-router/es/index.js"),a=t("./app/components/links/link.tsx"),o=t("./app/icons/index.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{align:s,title:t,canSort:n,generateSortLink:a,onClick:o,direction:c,replace:d}=e;const m=a();if(!m||!n)return(0,i.tZ)(u,{align:s,children:t});const g=c?(0,i.tZ)(l,{size:"xs",direction:"desc"===c?"down":"up"}):null;return(0,i.BX)(p,{align:s,to:m,onClick:e=>{d&&(e.preventDefault(),r.browserHistory.replace(m)),o?.(e)},children:[t," ",g]})}c.displayName="SortLink";const p=(0,n.Z)((e=>{const{align:s,css:t,...n}=e;return(0,i.tZ)(a.Z,{...n})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),u=(0,n.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),l=(0,n.Z)(o.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),d=c},"./app/utils/performance/suspectSpans/suspectSpansQuery.tsx":(e,s,t)=>{t.d(s,{Z:()=>u});var n=t("../node_modules/lodash/omit.js"),r=t.n(n),a=t("./app/utils.tsx"),o=t("./app/utils/discover/genericDiscoverQuery.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){const{perSuspect:s,spanOps:t,spanGroups:n,minExclusiveTime:r,maxExclusiveTime:o}=e,i={perSuspect:s,spanOp:t,spanGroup:n,min_exclusive_time:r,max_exclusive_time:o};(0,a.ri)(i.perSuspect)||delete i.perSuspect,(0,a.ri)(i.spanOp)||delete i.spanOp,(0,a.ri)(i.spanGroup)||delete i.spanGroup;const c=e.eventView.getEventsAPIPayload(e.location);return{...i,...c}}function p(e){return(0,i.tZ)(o.ZP,{route:"events-spans-performance",getRequestPayload:c,...r()(e,"children"),children:s=>{let{tableData:t,...n}=s;return e.children({suspectSpans:t,...n})}})}p.displayName="SuspectSpansQuery";const u=p},"./app/utils/withTags.tsx":(e,s,t)=>{t.d(s,{Z:()=>c});var n=t("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=t("../node_modules/react/index.js"),a=t("./app/stores/tagStore.tsx"),o=t("./app/utils/getDisplayName.tsx"),i=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=function(e){class s extends r.Component{constructor(){super(...arguments),(0,n.Z)(this,"state",{tags:a.Z.getState()}),(0,n.Z)(this,"unsubscribe",a.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:s,...t}=this.props;return(0,i.tZ)(e,{tags:s??this.state.tags,...t})}}return s.displayName="WithTags",(0,n.Z)(s,"displayName",`withTags(${(0,o.Z)(e)})`),s}},"./app/views/performance/transactionSummary/transactionSpans/spanDetails/utils.tsx":(e,s,t)=>{function n(e){let{orgSlug:s,transaction:t,query:n,spanSlug:r,projectID:a}=e;const o=function(e){let{orgSlug:s,spanSlug:t}=e;return`/organizations/${s}/performance/summary/spans/${encodeURIComponent(t.op)}:${t.group}/`}({orgSlug:s,spanSlug:r});return{pathname:o,query:{transaction:t,project:a,environment:n.environment,statsPeriod:n.statsPeriod,start:n.start,end:n.end,query:n.query}}}let r;t.d(s,{BP:()=>n,wL:()=>r}),function(e){e.MIN="min",e.MAX="max"}(r||(r={}))}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_searchBar_tsx-app_components_gridEditable_sortLink_tsx-app_utils_perfor-7a414b.ac627357c0021ba54cd39149e1b1a8f5.js.map