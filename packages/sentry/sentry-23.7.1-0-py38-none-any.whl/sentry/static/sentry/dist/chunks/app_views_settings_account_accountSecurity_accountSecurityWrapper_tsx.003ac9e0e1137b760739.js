"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),n=s("./app/actionCreators/indicator.tsx"),r=s("./app/components/deprecatedAsyncComponent.tsx"),o=s("./app/locale.tsx"),c=s("./app/utils.tsx");const h="/users/me/authenticators/";class l extends r.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleDisable",(async e=>{if(e&&e.authId){this.setState({loading:!0});try{await this.api.requestPromise(`${h}${e.authId}/`,{method:"DELETE"}),this.remountComponent()}catch(t){this.setState({loading:!1}),(0,n.Iw)((0,o.t)("Error disabling %s",e.name))}}})),(0,a.Z)(this,"handleRegenerateBackupCodes",(async()=>{this.setState({loading:!0});try{await this.api.requestPromise(`${h}${this.props.params.authId}/`,{method:"PUT"}),this.remountComponent()}catch(e){this.setState({loading:!1}),(0,n.Iw)((0,o.t)("Error regenerating backup codes"))}})),(0,a.Z)(this,"handleRefresh",(()=>{this.fetchData()}))}getEndpoints(){return[["authenticators",h],["organizations","/organizations/"],["emails","/users/me/emails/"]]}renderBody(){const{children:e}=this.props,{authenticators:t,organizations:s,emails:a}=this.state,n=(t?.filter((e=>e.isEnrolled&&!e.isBackupInterface))||[]).length,r=s?.filter((e=>e.require2FA))||[],o=r.length>0&&1===n,h=!!a?.find((e=>{let{isVerified:t}=e;return t}));return(0,c.ri)(e)?(0,i.cloneElement)(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:t,deleteDisabled:o,orgsRequire2fa:r,countEnrolled:n,hasVerifiedEmail:h,handleRefresh:this.handleRefresh}):null}}const u=l}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityWrapper_tsx.a4f9f3b83c96f3219cfd7aa8a816743e.js.map