{"version":3,"file":"chunks/app_data_forms_projectIssueGrouping_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/data/forms/projectIssueGrouping.tsx"],"sourcesContent":["import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {GroupingConfigItem} from 'sentry/components/events/groupingInfo';\nimport {Field} from 'sentry/components/forms/types';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport marked from 'sentry/utils/marked';\n\n// Export route to make these forms searchable by label/help\nexport const route = '/settings/:orgId/projects/:projectId/issue-grouping/';\n\nconst groupingConfigField: Field = {\n  name: 'groupingConfig',\n  type: 'select',\n  label: t('Grouping Config'),\n  saveOnBlur: false,\n  saveMessageAlertType: 'info',\n  saveMessage: t(\n    'Changing grouping config will apply to future events only (can take up to a minute).'\n  ),\n  selectionInfoFunction: args => {\n    const {groupingConfigs, value} = args;\n    const selection = groupingConfigs.find(({id}) => id === value);\n    const changelog = selection?.changelog || '';\n    if (!changelog) {\n      return null;\n    }\n    return (\n      <Changelog>\n        <ChangelogTitle>\n          {tct('New in version [version]', {version: selection.id})}:\n        </ChangelogTitle>\n        <div dangerouslySetInnerHTML={{__html: marked(changelog)}} />\n      </Changelog>\n    );\n  },\n  choices: ({groupingConfigs}) =>\n    groupingConfigs.map(({id, hidden}) => [\n      id.toString(),\n      <GroupingConfigItem key={id} isHidden={hidden}>\n        {id}\n      </GroupingConfigItem>,\n    ]),\n  help: t('Sets the grouping algorithm to be used for new events.'),\n  visible: ({features}) => features.has('set-grouping-config'),\n};\n\nexport const fields: Record<string, Field> = {\n  fingerprintingRules: {\n    name: 'fingerprintingRules',\n    type: 'string',\n    label: t('Fingerprint Rules'),\n    hideLabel: true,\n    placeholder: t(\n      'error.type:MyException -> fingerprint-value\\nstack.function:some_panic_function -> fingerprint-value'\n    ),\n    multiline: true,\n    monospace: true,\n    autosize: true,\n    inline: false,\n    maxRows: 20,\n    saveOnBlur: false,\n    saveMessageAlertType: 'info',\n    saveMessage: t(\n      'Changing fingerprint rules will apply to future events only (can take up to a minute).'\n    ),\n    formatMessageValue: false,\n    help: () => (\n      <Fragment>\n        <RuleDescription>\n          {tct(\n            `This can be used to modify the fingerprint rules on the server with custom rules.\n        Rules follow the pattern [pattern]. To learn more about fingerprint rules, [docs:read the docs].`,\n            {\n              pattern: <code>matcher:glob -&gt; fingerprint, values</code>,\n              docs: (\n                <ExternalLink href=\"https://docs.sentry.io/product/data-management-settings/event-grouping/fingerprint-rules/\" />\n              ),\n            }\n          )}\n        </RuleDescription>\n        <RuleExample>\n          {`# force all errors of the same type to have the same fingerprint\nerror.type:DatabaseUnavailable -> system-down\n# force all memory allocation errors to be grouped together\nstack.function:malloc -> memory-allocation-error`}\n        </RuleExample>\n      </Fragment>\n    ),\n    visible: true,\n  },\n  groupingEnhancements: {\n    name: 'groupingEnhancements',\n    type: 'string',\n    label: t('Stack Trace Rules'),\n    hideLabel: true,\n    placeholder: t(\n      'stack.function:raise_an_exception ^-group\\nstack.function:namespace::* +app'\n    ),\n    multiline: true,\n    monospace: true,\n    autosize: true,\n    inline: false,\n    maxRows: 20,\n    saveOnBlur: false,\n    saveMessageAlertType: 'info',\n    saveMessage: t(\n      'Changing stack trace rules will apply to future events only (can take up to a minute).'\n    ),\n    formatMessageValue: false,\n    help: () => (\n      <Fragment>\n        <RuleDescription>\n          {tct(\n            `This can be used to enhance the grouping algorithm with custom rules.\n        Rules follow the pattern [pattern]. To learn more about stack trace rules, [docs:read the docs].`,\n            {\n              pattern: <code>matcher:glob [v^]?[+-]flag</code>,\n              docs: (\n                <ExternalLink href=\"https://docs.sentry.io/product/data-management-settings/event-grouping/stack-trace-rules/\" />\n              ),\n            }\n          )}\n        </RuleDescription>\n        <RuleExample>\n          {`# remove all frames above a certain function from grouping\nstack.function:panic_handler ^-group\n# mark all functions following a prefix in-app\nstack.function:mylibrary_* +app`}\n        </RuleExample>\n      </Fragment>\n    ),\n    validate: () => [],\n    visible: true,\n  },\n  groupingConfig: groupingConfigField,\n  secondaryGroupingConfig: {\n    ...groupingConfigField,\n    name: 'secondaryGroupingConfig',\n    label: t('Fallback/Secondary Grouping Config'),\n    help: t(\n      'Sets the secondary grouping algorithm that should be run in addition to avoid creating too many new groups. Controlled by expiration date below.'\n    ),\n    saveMessage: t(\n      'Changing the secondary grouping strategy will affect how many new issues are created.'\n    ),\n  },\n  secondaryGroupingExpiry: {\n    name: 'secondaryGroupingExpiry',\n    type: 'number',\n    label: t('Expiration date of secondary grouping'),\n    help: t(\n      'If this UNIX timestamp is in the past, the secondary grouping configuration stops applying automatically.'\n    ),\n    saveOnBlur: false,\n    saveMessageAlertType: 'info',\n    saveMessage: t(\n      'Changing the expiration date will affect how many new issues are created.'\n    ),\n  },\n  groupingAutoUpdate: {\n    name: 'groupingAutoUpdate',\n    type: 'boolean',\n    label: t('Automatically Update Grouping'),\n    saveOnBlur: false,\n    help: t(\n      'When enabled projects will in the future automatically update to the latest grouping algorithm. Right now this setting does nothing.'\n    ),\n    saveMessage: ({value}) =>\n      value\n        ? t(\n            'Enabling automatic upgrading will take effect on the next incoming event once auto updating has been rolled out.'\n          )\n        : t(\n            'Disabling auto updates will cause you to no longer receive improvements to the grouping algorithm.'\n          ),\n  },\n};\n\nconst RuleDescription = styled('div')`\n  margin-bottom: ${space(1)};\n  margin-top: -${space(1)};\n  margin-right: 36px;\n`;\n\nconst RuleExample = styled('pre')`\n  margin-bottom: ${space(1)};\n  margin-right: 36px;\n`;\n\nconst Changelog = styled('div')`\n  position: relative;\n  top: -1px;\n  margin-bottom: -1px;\n  padding: ${space(2)};\n  border-bottom: 1px solid ${p => p.theme.innerBorder};\n  background: ${p => p.theme.backgroundSecondary};\n  font-size: ${p => p.theme.fontSizeMedium};\n\n  &:last-child {\n    border: 0;\n    border-bottom-left-radius: ${p => p.theme.borderRadius};\n    border-bottom-right-radius: ${p => p.theme.borderRadius};\n  }\n`;\n\nconst ChangelogTitle = styled('h3')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-bottom: ${space(0.75)} !important;\n`;\n"],"names":["route","groupingConfigField","name","type","label","t","saveOnBlur","saveMessageAlertType","saveMessage","selectionInfoFunction","args","groupingConfigs","value","selection","find","_ref","id","changelog","_jsxs","Changelog","children","ChangelogTitle","tct","version","_jsx","dangerouslySetInnerHTML","__html","marked","choices","_ref2","map","_ref3","hidden","toString","GroupingConfigItem","isHidden","help","visible","_ref4","features","has","fields","fingerprintingRules","hideLabel","placeholder","multiline","monospace","autosize","inline","maxRows","formatMessageValue","Fragment","RuleDescription","pattern","docs","ExternalLink","href","RuleExample","groupingEnhancements","validate","groupingConfig","secondaryGroupingConfig","secondaryGroupingExpiry","groupingAutoUpdate","_ref5","_styled","target","space","p","theme","innerBorder","backgroundSecondary","fontSizeMedium","borderRadius"],"sourceRoot":""}