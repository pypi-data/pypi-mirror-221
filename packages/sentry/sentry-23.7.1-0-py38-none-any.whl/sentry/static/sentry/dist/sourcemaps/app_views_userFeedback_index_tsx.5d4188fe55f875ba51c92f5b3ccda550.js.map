{"version":3,"file":"chunks/app_views_userFeedback_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/events/errorLevel.tsx","webpack:///./app/views/deprecatedAsyncView.tsx","webpack:///./app/components/issues/compactIssue.tsx","webpack:///./app/views/userFeedback/utils.tsx","webpack:///./app/views/userFeedback/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nimport {Level} from 'sentry/types';\n\nconst DEFAULT_SIZE = '13px';\n\ntype Props = {\n  level?: Level;\n  size?: string;\n};\n\nconst ErrorLevel = styled('span')<Props>`\n  padding: 0;\n  position: relative;\n  width: ${p => p.size || DEFAULT_SIZE};\n  height: ${p => p.size || DEFAULT_SIZE};\n  text-indent: -9999em;\n  display: inline-block;\n  border-radius: 50%;\n  flex-shrink: 0;\n  background-color: ${p => (p.level ? p.theme.level[p.level] : p.theme.level.error)};\n`;\n\nexport default ErrorLevel;\n","import DeprecatedAsyncComponent from 'sentry/components/deprecatedAsyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\nexport type AsyncViewState = DeprecatedAsyncComponent['state'];\nexport type AsyncViewProps = DeprecatedAsyncComponent['props'];\n\n/**\n * @deprecated use useApiQuery instead.\n *\n * Read the dev docs page on network requests for more information [1].\n *\n * [1]: https://develop.sentry.dev/frontend/network-requests/\n */\nexport default class DeprecatedAsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends DeprecatedAsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {bulkUpdate} from 'sentry/actionCreators/group';\nimport {addLoadingMessage, clearIndicators} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport EventOrGroupTitle from 'sentry/components/eventOrGroupTitle';\nimport ErrorLevel from 'sentry/components/events/errorLevel';\nimport Link from 'sentry/components/links/link';\nimport PanelItem from 'sentry/components/panels/panelItem';\nimport {IconChat, IconMute, IconStar} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport GroupStore from 'sentry/stores/groupStore';\nimport {space} from 'sentry/styles/space';\nimport {BaseGroup, Organization} from 'sentry/types';\nimport {getMessage} from 'sentry/utils/events';\nimport {Aliases} from 'sentry/utils/theme';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\n\ntype HeaderProps = {\n  data: BaseGroup;\n  organization: Organization;\n  eventId?: string;\n};\n\nfunction CompactIssueHeader({data, organization, eventId}: HeaderProps) {\n  const basePath = `/organizations/${organization.slug}/issues/`;\n\n  const issueLink = eventId\n    ? `${basePath}${data.id}/events/${eventId}/?referrer=compact-issue`\n    : `${basePath}${data.id}/?referrer=compact-issue`;\n\n  const commentColor: keyof Aliases =\n    data.subscriptionDetails && data.subscriptionDetails.reason === 'mentioned'\n      ? 'success'\n      : 'textColor';\n\n  return (\n    <Fragment>\n      <IssueHeaderMetaWrapper>\n        <StyledErrorLevel size=\"12px\" level={data.level} title={data.level} />\n        <h3 className=\"truncate\">\n          <IconLink to={issueLink || ''}>\n            {data.status === 'ignored' && <IconMute size=\"xs\" />}\n            {data.isBookmarked && <IconStar isSolid size=\"xs\" />}\n            <EventOrGroupTitle data={data} />\n          </IconLink>\n        </h3>\n      </IssueHeaderMetaWrapper>\n      <div className=\"event-extra\">\n        <span className=\"project-name\">\n          <strong>{data.project.slug}</strong>\n        </span>\n        {data.numComments !== 0 && (\n          <span>\n            <IconLink to={`${basePath}${data.id}/activity/`} className=\"comments\">\n              <IconChat size=\"xs\" color={commentColor} />\n              <span className=\"tag-count\">{data.numComments}</span>\n            </IconLink>\n          </span>\n        )}\n        <span className=\"culprit\">{getMessage(data)}</span>\n      </div>\n    </Fragment>\n  );\n}\n\ntype GroupTypes = ReturnType<typeof GroupStore.get>;\n\n/**\n * Type assertion to disambiguate GroupTypes\n *\n * The GroupCollapseRelease type isn't compatible with BaseGroup\n */\nfunction isGroup(maybe: GroupTypes): maybe is BaseGroup {\n  return (maybe as BaseGroup).status !== undefined;\n}\n\ntype Props = {\n  api: Client;\n  id: string;\n  organization: Organization;\n  children?: React.ReactNode;\n  data?: BaseGroup;\n  eventId?: string;\n};\n\ntype State = {\n  issue?: GroupTypes;\n};\n\nclass CompactIssue extends Component<Props, State> {\n  state: State = {\n    issue: this.props.data || GroupStore.get(this.props.id),\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.id !== this.props.id) {\n      this.setState({\n        issue: GroupStore.get(this.props.id),\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.listener();\n  }\n\n  listener = GroupStore.listen(\n    (itemIds: Set<string>) => this.onGroupChange(itemIds),\n    undefined\n  );\n\n  onGroupChange(itemIds: Set<string>) {\n    if (!itemIds.has(this.props.id)) {\n      return;\n    }\n    const id = this.props.id;\n    const issue = GroupStore.get(id);\n    this.setState({\n      issue,\n    });\n  }\n\n  onUpdate(data: Record<string, string>) {\n    const issue = this.state.issue;\n    if (!issue) {\n      return;\n    }\n    addLoadingMessage(t('Saving changes\\u2026'));\n\n    bulkUpdate(\n      this.props.api,\n      {\n        orgId: this.props.organization.slug,\n        projectId: issue.project.slug,\n        itemIds: [issue.id],\n        data,\n      },\n      {\n        complete: () => {\n          clearIndicators();\n        },\n      }\n    );\n  }\n\n  render() {\n    const issue = this.state.issue;\n    const {organization} = this.props;\n    if (!isGroup(issue)) {\n      return null;\n    }\n\n    let className = 'issue';\n    if (issue.isBookmarked) {\n      className += ' isBookmarked';\n    }\n    if (issue.hasSeen) {\n      className += ' hasSeen';\n    }\n    if (issue.status === 'resolved') {\n      className += ' isResolved';\n    }\n    if (issue.status === 'ignored') {\n      className += ' isIgnored';\n    }\n\n    return (\n      <IssueRow className={className}>\n        <CompactIssueHeader\n          data={issue}\n          organization={organization}\n          eventId={this.props.eventId}\n        />\n        {this.props.children}\n      </IssueRow>\n    );\n  }\n}\n\nexport default withApi(withOrganization(CompactIssue));\n\nconst IssueHeaderMetaWrapper = styled('div')`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledErrorLevel = styled(ErrorLevel)`\n  display: block;\n  margin-right: ${space(1)};\n`;\n\nconst IconLink = styled(Link)`\n  & > svg {\n    margin-right: ${space(0.5)};\n  }\n`;\n\nconst IssueRow = styled(PanelItem)`\n  padding-top: ${space(1.5)};\n  padding-bottom: ${space(0.75)};\n  flex-direction: column;\n`;\n","import pick from 'lodash/pick';\nimport * as qs from 'query-string';\n\nimport {URL_PARAM} from 'sentry/constants/pageFilters';\n\nconst DEFAULT_STATUS = 'unresolved';\n\n/**\n * Get query for API given the current location.search string\n */\nexport function getQuery(search: string) {\n  const query = qs.parse(search);\n\n  const status = typeof query.status !== 'undefined' ? query.status : DEFAULT_STATUS;\n\n  const queryParams = {\n    status,\n    ...pick(query, ['cursor', ...Object.values(URL_PARAM)]),\n  };\n\n  return queryParams;\n}\n","import {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport {withProfiler} from '@sentry/react';\nimport omit from 'lodash/omit';\n\nimport DatePageFilter from 'sentry/components/datePageFilter';\nimport EnvironmentPageFilter from 'sentry/components/environmentPageFilter';\nimport {EventUserFeedback} from 'sentry/components/events/userFeedback';\nimport CompactIssue from 'sentry/components/issues/compactIssue';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport NoProjectMessage from 'sentry/components/noProjectMessage';\nimport PageFilterBar from 'sentry/components/organizations/pageFilterBar';\nimport PageFiltersContainer from 'sentry/components/organizations/pageFilters/container';\nimport {PageHeadingQuestionTooltip} from 'sentry/components/pageHeadingQuestionTooltip';\nimport Pagination from 'sentry/components/pagination';\nimport Panel from 'sentry/components/panels/panel';\nimport ProjectPageFilter from 'sentry/components/projectPageFilter';\nimport {SegmentedControl} from 'sentry/components/segmentedControl';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Organization, UserReport} from 'sentry/types';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport DeprecatedAsyncView, {AsyncViewState} from 'sentry/views/deprecatedAsyncView';\n\nimport {UserFeedbackEmpty} from './userFeedbackEmpty';\nimport {getQuery} from './utils';\n\ninterface State extends AsyncViewState {\n  reportList: UserReport[];\n}\n\ninterface Props extends RouteComponentProps<{}, {}> {\n  organization: Organization;\n}\n\nclass OrganizationUserFeedback extends DeprecatedAsyncView<Props, State> {\n  getEndpoints(): ReturnType<DeprecatedAsyncView['getEndpoints']> {\n    const {\n      organization,\n      location: {search},\n    } = this.props;\n\n    return [\n      [\n        'reportList',\n        `/organizations/${organization.slug}/user-feedback/`,\n        {\n          query: getQuery(search),\n        },\n      ],\n    ];\n  }\n\n  getTitle() {\n    return `${t('User Feedback')} - ${this.props.organization.slug}`;\n  }\n\n  get projectIds() {\n    const {project} = this.props.location.query;\n\n    return Array.isArray(project)\n      ? project\n      : typeof project === 'string'\n      ? [project]\n      : [];\n  }\n\n  renderResults() {\n    const {organization} = this.props;\n\n    return (\n      <Panel className=\"issue-list\" data-test-id=\"user-feedback-list\">\n        {this.state.reportList.map(item => {\n          const issue = item.issue;\n          return (\n            <CompactIssue key={item.id} id={issue.id} data={issue} eventId={item.eventID}>\n              <StyledEventUserFeedback\n                report={item}\n                orgId={organization.slug}\n                issueId={issue.id}\n              />\n            </CompactIssue>\n          );\n        })}\n      </Panel>\n    );\n  }\n\n  renderEmpty() {\n    return <UserFeedbackEmpty projectIds={this.projectIds} />;\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderStreamBody() {\n    const {loading, reportList} = this.state;\n\n    if (loading) {\n      return (\n        <Panel>\n          <LoadingIndicator />\n        </Panel>\n      );\n    }\n\n    if (!reportList.length) {\n      return this.renderEmpty();\n    }\n\n    return this.renderResults();\n  }\n\n  renderBody() {\n    const {organization, router} = this.props;\n    const {location} = this.props;\n    const {pathname, search, query} = location;\n    const {status} = getQuery(search);\n    const {reportListPageLinks} = this.state;\n\n    const unresolvedQuery = omit(query, 'status');\n    const allIssuesQuery = {...query, status: ''};\n\n    return (\n      <PageFiltersContainer>\n        <NoProjectMessage organization={organization}>\n          <Layout.Header>\n            <Layout.HeaderContent>\n              <Layout.Title>\n                {t('User Feedback')}\n                <PageHeadingQuestionTooltip\n                  docsUrl=\"https://docs.sentry.io/product/user-feedback/\"\n                  title={t(\n                    'Feedback submitted by users who experienced an error while using your application, including their name, email address, and any additional comments.'\n                  )}\n                />\n              </Layout.Title>\n            </Layout.HeaderContent>\n          </Layout.Header>\n          <Layout.Body data-test-id=\"user-feedback\">\n            <Layout.Main fullWidth>\n              <Filters>\n                <PageFilterBar>\n                  <ProjectPageFilter />\n                  <EnvironmentPageFilter />\n                  <DatePageFilter alignDropdown=\"right\" />\n                </PageFilterBar>\n                <SegmentedControl\n                  aria-label={t('Issue Status')}\n                  value={!Array.isArray(status) ? status || '' : ''}\n                  onChange={key =>\n                    router.replace({\n                      pathname,\n                      query: key === 'unresolved' ? unresolvedQuery : allIssuesQuery,\n                    })\n                  }\n                >\n                  <SegmentedControl.Item key=\"unresolved\">\n                    {t('Unresolved')}\n                  </SegmentedControl.Item>\n                  <SegmentedControl.Item key=\"\">{t('All Issues')}</SegmentedControl.Item>\n                </SegmentedControl>\n              </Filters>\n              {this.renderStreamBody()}\n              <Pagination pageLinks={reportListPageLinks} />\n            </Layout.Main>\n          </Layout.Body>\n        </NoProjectMessage>\n      </PageFiltersContainer>\n    );\n  }\n}\n\nexport default withOrganization(withProfiler(OrganizationUserFeedback));\n\nconst Filters = styled('div')`\n  display: grid;\n  grid-template-columns: minmax(0, max-content) max-content;\n  justify-content: start;\n  gap: ${space(2)};\n  margin-bottom: ${space(2)};\n\n  @media (max-width: ${p => p.theme.breakpoints.medium}) {\n    grid-template-columns: minmax(0, 1fr) max-content;\n  }\n\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    grid-template-columns: minmax(0, 1fr);\n  }\n`;\n\nconst StyledEventUserFeedback = styled(EventUserFeedback)`\n  margin: ${space(2)} 0;\n`;\n"],"names":["DEFAULT_SIZE","_styled","target","p","size","level","theme","error","DeprecatedAsyncView","DeprecatedAsyncComponent","getTitle","render","_jsx","SentryDocumentTitle","title","this","children","renderComponent","displayName","CompactIssueHeader","_ref","data","organization","eventId","basePath","slug","issueLink","id","commentColor","subscriptionDetails","reason","_jsxs","Fragment","IssueHeaderMetaWrapper","StyledErrorLevel","className","IconLink","to","status","IconMute","isBookmarked","IconStar","isSolid","EventOrGroupTitle","project","numComments","IconChat","color","getMessage","CompactIssue","Component","constructor","arguments","_defineProperty","issue","props","GroupStore","get","listen","itemIds","onGroupChange","undefined","UNSAFE_componentWillReceiveProps","nextProps","setState","componentWillUnmount","listener","has","onUpdate","state","addLoadingMessage","t","bulkUpdate","api","orgId","projectId","complete","clearIndicators","hasSeen","IssueRow","withApi","withOrganization","name","styles","ErrorLevel","space","Link","PanelItem","getQuery","search","query","qs","pick","Object","values","URL_PARAM","OrganizationUserFeedback","getEndpoints","location","projectIds","Array","isArray","renderResults","Panel","reportList","map","item","eventID","StyledEventUserFeedback","report","issueId","renderEmpty","UserFeedbackEmpty","renderLoading","renderBody","renderStreamBody","loading","LoadingIndicator","length","router","pathname","reportListPageLinks","unresolvedQuery","omit","allIssuesQuery","PageFiltersContainer","NoProjectMessage","Layout","PageHeadingQuestionTooltip","docsUrl","fullWidth","Filters","PageFilterBar","ProjectPageFilter","EnvironmentPageFilter","DatePageFilter","alignDropdown","SegmentedControl","value","onChange","key","replace","Item","Pagination","pageLinks","withProfiler","breakpoints","medium","small","EventUserFeedback"],"sourceRoot":""}