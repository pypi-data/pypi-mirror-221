{"version":3,"file":"chunks/app_components_events_groupingInfo_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/events/groupingInfo/groupingConfigSelect.tsx","webpack:///./app/components/events/groupingInfo/utils.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentChildren.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentFrames.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentStacktrace.tsx","webpack:///./app/components/events/groupingInfo/groupingComponent.tsx","webpack:///./app/components/events/groupingInfo/groupingVariant.tsx","webpack:///./app/components/events/groupingInfo/index.tsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nimport DeprecatedAsyncComponent from 'sentry/components/deprecatedAsyncComponent';\nimport DropdownAutoComplete from 'sentry/components/dropdownAutoComplete';\nimport DropdownButton from 'sentry/components/dropdownButton';\nimport {Tooltip} from 'sentry/components/tooltip';\nimport {t} from 'sentry/locale';\nimport {EventGroupingConfig} from 'sentry/types';\n\nimport {GroupingConfigItem} from '.';\n\ntype Props = DeprecatedAsyncComponent['props'] & {\n  configId: string;\n  eventConfigId: string;\n  onSelect: (selection: any) => void;\n};\n\ntype State = DeprecatedAsyncComponent['state'] & {\n  configs: EventGroupingConfig[];\n};\n\nclass GroupingConfigSelect extends DeprecatedAsyncComponent<Props, State> {\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      configs: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<DeprecatedAsyncComponent['getEndpoints']> {\n    return [['configs', '/grouping-configs/']];\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody() {\n    const {configId, eventConfigId, onSelect} = this.props;\n    const {configs} = this.state;\n\n    const options = configs.map(({id, hidden}) => ({\n      value: id,\n      label: (\n        <GroupingConfigItem isHidden={hidden} isActive={id === eventConfigId}>\n          {id}\n        </GroupingConfigItem>\n      ),\n    }));\n\n    return (\n      <DropdownAutoComplete onSelect={onSelect} items={options}>\n        {({isOpen}) => (\n          <Tooltip title={t('Click here to experiment with other grouping configs')}>\n            <StyledDropdownButton isOpen={isOpen} size=\"sm\">\n              <GroupingConfigItem isActive={eventConfigId === configId}>\n                {configId}\n              </GroupingConfigItem>\n            </StyledDropdownButton>\n          </Tooltip>\n        )}\n      </DropdownAutoComplete>\n    );\n  }\n}\n\nconst StyledDropdownButton = styled(DropdownButton)`\n  font-weight: inherit;\n`;\n\nexport default GroupingConfigSelect;\n","import isObject from 'lodash/isObject';\n\nimport {EventGroupComponent} from 'sentry/types';\n\nexport function hasNonContributingComponent(component: EventGroupComponent | undefined) {\n  if (component === undefined) {\n    return false;\n  }\n\n  if (!component.contributes) {\n    return true;\n  }\n\n  for (const value of component.values) {\n    if (isObject(value) && hasNonContributingComponent(value)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function shouldInlineComponentValue(component: EventGroupComponent) {\n  return (component.values as EventGroupComponent[]).every(value => !isObject(value));\n}\n\nexport function groupingComponentFilter(\n  value: EventGroupComponent | string,\n  showNonContributing: boolean\n) {\n  if (isObject(value)) {\n    // no point rendering such nodes at all, we never show them\n    if (!value.contributes && !value.hint && value.values.length === 0) {\n      return false;\n    }\n    // non contributing values are otherwise optional\n    if (!showNonContributing && !value.contributes) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import {Fragment} from 'react';\nimport isObject from 'lodash/isObject';\n\nimport {EventGroupComponent} from 'sentry/types';\n\nimport GroupingComponent, {\n  GroupingComponentListItem,\n  GroupingValue,\n} from './groupingComponent';\nimport {groupingComponentFilter} from './utils';\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nfunction GroupingComponentChildren({component, showNonContributing}: Props) {\n  return (\n    <Fragment>\n      {(component.values as EventGroupComponent[])\n        .filter(value => groupingComponentFilter(value, showNonContributing))\n        .map((value, idx) => (\n          <GroupingComponentListItem key={idx}>\n            {isObject(value) ? (\n              <GroupingComponent\n                component={value}\n                showNonContributing={showNonContributing}\n              />\n            ) : (\n              <GroupingValue valueType={component.name || component.id}>\n                {typeof value === 'string' || typeof value === 'number'\n                  ? value\n                  : JSON.stringify(value, null, 2)}\n              </GroupingValue>\n            )}\n          </GroupingComponentListItem>\n        ))}\n    </Fragment>\n  );\n}\n\nexport default GroupingComponentChildren;\n","import {Component, Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Button} from 'sentry/components/button';\nimport {IconAdd, IconSubtract} from 'sentry/icons';\nimport {tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\nimport {GroupingComponentListItem} from './groupingComponent';\n\ntype DefaultProps = {\n  maxVisibleItems: number;\n};\n\ntype Props = DefaultProps & {\n  items: React.ReactNode[];\n};\n\ntype State = {\n  collapsed: boolean;\n};\n\nclass GroupingComponentFrames extends Component<Props, State> {\n  static defaultProps: DefaultProps = {\n    maxVisibleItems: 2,\n  };\n\n  state: State = {\n    collapsed: true,\n  };\n\n  render() {\n    const {items, maxVisibleItems} = this.props;\n    const {collapsed} = this.state;\n    const isCollapsible = items.length > maxVisibleItems;\n\n    return (\n      <Fragment>\n        {items.map((item, index) => {\n          if (!collapsed || index < maxVisibleItems) {\n            return (\n              <GroupingComponentListItem isCollapsible={isCollapsible} key={index}>\n                {item}\n              </GroupingComponentListItem>\n            );\n          }\n\n          if (index === maxVisibleItems) {\n            return (\n              <GroupingComponentListItem key={index}>\n                <ToggleCollapse\n                  size=\"sm\"\n                  priority=\"link\"\n                  icon={<IconAdd legacySize=\"8px\" />}\n                  onClick={() => this.setState({collapsed: false})}\n                >\n                  {tct('show [numberOfFrames] similar', {\n                    numberOfFrames: items.length - maxVisibleItems,\n                  })}\n                </ToggleCollapse>\n              </GroupingComponentListItem>\n            );\n          }\n\n          return null;\n        })}\n\n        {!collapsed && items.length > maxVisibleItems && (\n          <GroupingComponentListItem>\n            <ToggleCollapse\n              size=\"sm\"\n              priority=\"link\"\n              icon={<IconSubtract legacySize=\"8px\" />}\n              onClick={() => this.setState({collapsed: true})}\n            >\n              {tct('collapse [numberOfFrames] similar', {\n                numberOfFrames: items.length - maxVisibleItems,\n              })}\n            </ToggleCollapse>\n          </GroupingComponentListItem>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nconst ToggleCollapse = styled(Button)`\n  margin: ${space(0.5)} 0;\n  color: ${p => p.theme.linkColor};\n`;\n\nexport default GroupingComponentFrames;\n","import {Fragment} from 'react';\n\nimport {EventGroupComponent} from 'sentry/types';\n\nimport GroupingComponent from './groupingComponent';\nimport GroupingComponentFrames from './groupingComponentFrames';\nimport {groupingComponentFilter} from './utils';\n\ntype FrameGroup = {\n  data: EventGroupComponent[];\n  key: string;\n};\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nfunction GroupingComponentStacktrace({component, showNonContributing}: Props) {\n  const getFrameGroups = () => {\n    const frameGroups: FrameGroup[] = [];\n\n    (component.values as EventGroupComponent[])\n      .filter(value => groupingComponentFilter(value, showNonContributing))\n      .forEach(value => {\n        const key = (value.values as EventGroupComponent[])\n          .filter(v => groupingComponentFilter(v, showNonContributing))\n          .map(v => v.id)\n          .sort((a, b) => a.localeCompare(b))\n          .join('');\n\n        const lastGroup = frameGroups[frameGroups.length - 1];\n\n        if (lastGroup?.key === key) {\n          lastGroup.data.push(value);\n        } else {\n          frameGroups.push({key, data: [value]});\n        }\n      });\n\n    return frameGroups;\n  };\n\n  return (\n    <Fragment>\n      {getFrameGroups().map((group, index) => (\n        <GroupingComponentFrames\n          key={index}\n          items={group.data.map((v, idx) => (\n            <GroupingComponent\n              key={idx}\n              component={v}\n              showNonContributing={showNonContributing}\n            />\n          ))}\n        />\n      ))}\n    </Fragment>\n  );\n}\n\nexport default GroupingComponentStacktrace;\n","import styled from '@emotion/styled';\n\nimport {space} from 'sentry/styles/space';\nimport {EventGroupComponent} from 'sentry/types';\n\nimport GroupingComponentChildren from './groupingComponentChildren';\nimport GroupingComponentStacktrace from './groupingComponentStacktrace';\nimport {shouldInlineComponentValue} from './utils';\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nfunction GroupingComponent({component, showNonContributing}: Props) {\n  const shouldInlineValue = shouldInlineComponentValue(component);\n\n  const GroupingComponentListItems =\n    component.id === 'stacktrace'\n      ? GroupingComponentStacktrace\n      : GroupingComponentChildren;\n\n  return (\n    <GroupingComponentWrapper isContributing={component.contributes}>\n      <span>\n        {component.name || component.id}\n        {component.hint && <GroupingHint>{` (${component.hint})`}</GroupingHint>}\n      </span>\n\n      <GroupingComponentList isInline={shouldInlineValue}>\n        <GroupingComponentListItems\n          component={component}\n          showNonContributing={showNonContributing}\n        />\n      </GroupingComponentList>\n    </GroupingComponentWrapper>\n  );\n}\n\nconst GroupingComponentList = styled('ul')<{isInline: boolean}>`\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  &,\n  & > li {\n    display: ${p => (p.isInline ? 'inline' : 'block')};\n  }\n`;\n\nexport const GroupingComponentListItem = styled('li')<{isCollapsible?: boolean}>`\n  padding: 0;\n  margin: ${space(0.25)} 0 ${space(0.25)} ${space(1.5)};\n\n  ${p =>\n    p.isCollapsible &&\n    `\n    border-left: 1px solid ${p.theme.innerBorder};\n    margin: 0 0 -${space(0.25)} ${space(1)};\n    padding-left: ${space(0.5)};\n  `}\n`;\n\nexport const GroupingValue = styled('code')<{valueType: string}>`\n  display: inline-block;\n  margin: ${space(0.25)} ${space(0.5)} ${space(0.25)} 0;\n  font-size: ${p => p.theme.fontSizeSmall};\n  padding: 0 ${space(0.25)};\n  background: rgba(112, 163, 214, 0.1);\n  color: ${p => p.theme.textColor};\n\n  ${({valueType}) =>\n    (valueType === 'function' || valueType === 'symbol') &&\n    `\n    font-weight: bold;\n    color: ${p => p.theme.textColor};\n  `}\n`;\n\nconst GroupingComponentWrapper = styled('div')<{isContributing: boolean}>`\n  color: ${p => (p.isContributing ? null : p.theme.textColor)};\n\n  ${GroupingValue}, button {\n    opacity: 1;\n  }\n`;\n\nconst GroupingHint = styled('small')`\n  font-size: 0.8em;\n`;\n\nexport default GroupingComponent;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\nimport capitalize from 'lodash/capitalize';\n\nimport KeyValueList from 'sentry/components/events/interfaces/keyValueList';\nimport {RawSpanType} from 'sentry/components/events/interfaces/spans/types';\nimport QuestionTooltip from 'sentry/components/questionTooltip';\nimport {SegmentedControl} from 'sentry/components/segmentedControl';\nimport {Tooltip} from 'sentry/components/tooltip';\nimport {IconCheckmark, IconClose} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {\n  EntrySpans,\n  Event,\n  EventGroupComponent,\n  EventGroupVariant,\n  EventGroupVariantType,\n} from 'sentry/types';\n\nimport GroupingComponent from './groupingComponent';\nimport {hasNonContributingComponent} from './utils';\n\ntype Props = {\n  event: Event;\n  showGroupingConfig: boolean;\n  variant: EventGroupVariant;\n};\n\ntype State = {\n  showNonContributing: boolean;\n};\n\ntype VariantData = [string, React.ReactNode][];\n\nfunction addFingerprintInfo(data: VariantData, variant: EventGroupVariant) {\n  if ('matched_rule' in variant) {\n    data.push([\n      t('Fingerprint rule'),\n      <TextWithQuestionTooltip key=\"type\">\n        {variant.matched_rule}\n        <QuestionTooltip\n          size=\"xs\"\n          position=\"top\"\n          title={t('The server-side fingerprinting rule that produced the fingerprint.')}\n        />\n      </TextWithQuestionTooltip>,\n    ]);\n  }\n  if ('values' in variant) {\n    data.push([t('Fingerprint values'), variant.values]);\n  }\n  if ('client_values' in variant) {\n    data.push([\n      t('Client fingerprint values'),\n      <TextWithQuestionTooltip key=\"type\">\n        {variant.client_values}\n        <QuestionTooltip\n          size=\"xs\"\n          position=\"top\"\n          title={t(\n            'The client sent a fingerprint that was overridden by a server-side fingerprinting rule.'\n          )}\n        />\n      </TextWithQuestionTooltip>,\n    ]);\n  }\n}\n\nclass GroupVariant extends Component<Props, State> {\n  state: State = {\n    showNonContributing: false,\n  };\n\n  getVariantData(): [VariantData, EventGroupComponent | undefined] {\n    const {event, variant, showGroupingConfig} = this.props;\n    const data: VariantData = [];\n    let component: EventGroupComponent | undefined;\n\n    if (!this.state.showNonContributing && variant.hash === null) {\n      return [data, component];\n    }\n\n    if (variant.hash !== null) {\n      data.push([\n        t('Hash'),\n        <TextWithQuestionTooltip key=\"hash\">\n          <Hash>{variant.hash}</Hash>\n          <QuestionTooltip\n            size=\"xs\"\n            position=\"top\"\n            title={t('Events with the same hash are grouped together')}\n          />\n        </TextWithQuestionTooltip>,\n      ]);\n    }\n\n    if (variant.hashMismatch) {\n      data.push([\n        t('Hash mismatch'),\n        t('hashing algorithm produced a hash that does not match the event'),\n      ]);\n    }\n\n    switch (variant.type) {\n      case EventGroupVariantType.COMPONENT:\n        component = variant.component;\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'Uses a complex grouping algorithm taking event data into account'\n              )}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        if (showGroupingConfig && variant.config?.id) {\n          data.push([t('Grouping Config'), variant.config.id]);\n        }\n        break;\n      case EventGroupVariantType.CUSTOM_FINGERPRINT:\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t('Overrides the default grouping by a custom fingerprinting rule')}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        addFingerprintInfo(data, variant);\n        break;\n      case EventGroupVariantType.SALTED_COMPONENT:\n        component = variant.component;\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'Uses a complex grouping algorithm taking event data and a fingerprint into account'\n              )}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        addFingerprintInfo(data, variant);\n        if (showGroupingConfig && variant.config?.id) {\n          data.push([t('Grouping Config'), variant.config.id]);\n        }\n        break;\n      case EventGroupVariantType.PERFORMANCE_PROBLEM:\n        const spansToHashes = Object.fromEntries(\n          event.entries\n            .find((c): c is EntrySpans => c.type === 'spans')\n            ?.data?.map((span: RawSpanType) => [span.span_id, span.hash]) ?? []\n        );\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'Uses the evidence from performance issue detection to generate a fingerprint.'\n              )}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n\n        data.push(['Performance Issue Type', variant.key]);\n        data.push(['Span Operation', variant.evidence.op]);\n        data.push([\n          'Parent Span Hashes',\n          variant.evidence?.parent_span_ids?.map(id => spansToHashes[id]) ?? [],\n        ]);\n        data.push([\n          'Source Span Hashes',\n          variant.evidence?.cause_span_ids?.map(id => spansToHashes[id]) ?? [],\n        ]);\n        data.push([\n          'Offender Span Hashes',\n          [...new Set(variant.evidence?.offender_span_ids?.map(id => spansToHashes[id]))],\n        ]);\n        break;\n      default:\n        break;\n    }\n\n    if (component) {\n      data.push([\n        t('Grouping'),\n        <GroupingTree key={component.id}>\n          <GroupingComponent\n            component={component}\n            showNonContributing={this.state.showNonContributing}\n          />\n        </GroupingTree>,\n      ]);\n    }\n\n    return [data, component];\n  }\n\n  renderTitle() {\n    const {variant} = this.props;\n    const isContributing = variant.hash !== null;\n\n    let title: string;\n    if (isContributing) {\n      title = t('Contributing variant');\n    } else {\n      const hint = 'component' in variant ? variant.component?.hint : undefined;\n      if (hint) {\n        title = t('Non-contributing variant: %s', hint);\n      } else {\n        title = t('Non-contributing variant');\n      }\n    }\n\n    return (\n      <Tooltip title={title}>\n        <VariantTitle>\n          <ContributionIcon isContributing={isContributing} />\n          {t('By')}{' '}\n          {variant.description\n            ?.split(' ')\n            .map(i => capitalize(i))\n            .join(' ') ?? t('Nothing')}\n        </VariantTitle>\n      </Tooltip>\n    );\n  }\n\n  renderContributionToggle() {\n    const {showNonContributing} = this.state;\n\n    return (\n      <SegmentedControl\n        aria-label={t('Filter by contribution')}\n        size=\"xs\"\n        value={showNonContributing ? 'all' : 'relevant'}\n        onChange={key => this.setState({showNonContributing: key === 'all'})}\n      >\n        <SegmentedControl.Item key=\"relevant\">\n          {t('Contributing values')}\n        </SegmentedControl.Item>\n        <SegmentedControl.Item key=\"all\">{t('All values')}</SegmentedControl.Item>\n      </SegmentedControl>\n    );\n  }\n\n  render() {\n    const [data, component] = this.getVariantData();\n\n    return (\n      <VariantWrapper>\n        <Header>\n          {this.renderTitle()}\n          {hasNonContributingComponent(component) && this.renderContributionToggle()}\n        </Header>\n\n        <KeyValueList\n          data={data.map(d => ({\n            key: d[0],\n            subject: d[0],\n            value: d[1],\n          }))}\n          isContextData\n          shouldSort={false}\n        />\n      </VariantWrapper>\n    );\n  }\n}\n\nconst VariantWrapper = styled('div')`\n  margin-bottom: ${space(4)};\n`;\n\nconst Header = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${space(2)};\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    display: block;\n  }\n`;\n\nconst VariantTitle = styled('h5')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin: 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst ContributionIcon = styled(({isContributing, ...p}) =>\n  isContributing ? (\n    <IconCheckmark size=\"sm\" isCircled color=\"successText\" {...p} />\n  ) : (\n    <IconClose size=\"sm\" isCircled color=\"dangerText\" {...p} />\n  )\n)`\n  margin-right: ${space(1)};\n`;\n\nconst GroupingTree = styled('div')`\n  color: ${p => p.theme.textColor};\n`;\n\nconst TextWithQuestionTooltip = styled('div')`\n  display: grid;\n  align-items: center;\n  grid-template-columns: auto 1fr;\n  gap: ${space(0.5)};\n`;\n\nconst Hash = styled('span')`\n  @media (max-width: ${p => p.theme.breakpoints.small}) {\n    ${p => p.theme.overflowEllipsis};\n    width: 210px;\n  }\n`;\n\nexport default GroupVariant;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Button} from 'sentry/components/button';\nimport DeprecatedAsyncComponent from 'sentry/components/deprecatedAsyncComponent';\nimport {EventDataSection} from 'sentry/components/events/eventDataSection';\nimport {FeatureFeedback} from 'sentry/components/featureFeedback';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {EventGroupInfo, Group, IssueCategory, Organization} from 'sentry/types';\nimport {Event, EventOccurrence} from 'sentry/types/event';\nimport withOrganization from 'sentry/utils/withOrganization';\n\nimport GroupingConfigSelect from './groupingConfigSelect';\nimport GroupVariant from './groupingVariant';\n\nconst groupingFeedbackTypes = [\n  t('Too eager grouping'),\n  t('Too specific grouping'),\n  t('Other grouping issue'),\n];\n\ntype Props = DeprecatedAsyncComponent['props'] & {\n  event: Event;\n  organization: Organization;\n  projectSlug: string;\n  showGroupingConfig: boolean;\n  group?: Group;\n};\n\ntype State = DeprecatedAsyncComponent['state'] & {\n  configOverride: string | null;\n  groupInfo: EventGroupInfo;\n  isOpen: boolean;\n};\n\nclass GroupingInfo extends DeprecatedAsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<DeprecatedAsyncComponent['getEndpoints']> {\n    const {organization, event, projectSlug, group} = this.props;\n\n    if (\n      event.occurrence &&\n      group?.issueCategory === IssueCategory.PERFORMANCE &&\n      event.type === 'transaction'\n    ) {\n      return [];\n    }\n\n    let path = `/projects/${organization.slug}/${projectSlug}/events/${event.id}/grouping-info/`;\n    if (this.state?.configOverride) {\n      path = `${path}?config=${this.state.configOverride}`;\n    }\n\n    return [['groupInfo', path]];\n  }\n\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      isOpen: false,\n      configOverride: null,\n    };\n  }\n\n  toggle = () => {\n    this.setState(state => ({\n      isOpen: !state.isOpen,\n      configOverride: state.isOpen ? null : state.configOverride,\n    }));\n  };\n\n  handleConfigSelect = selection => {\n    this.setState({configOverride: selection.value}, () => this.reloadData());\n  };\n\n  generatePerformanceGroupInfo() {\n    const {group, event} = this.props;\n    const {occurrence} = event;\n    const {evidenceData} = occurrence as EventOccurrence;\n\n    const variant = group\n      ? {\n          [group.issueType]: {\n            description: t('performance problem'),\n            hash: occurrence?.fingerprint[0] || '',\n            hasMismatch: false,\n            key: group.issueType,\n            type: 'performance-problem',\n            evidence: {\n              op: evidenceData?.op,\n              parent_span_ids: evidenceData?.parentSpanIds,\n              cause_span_ids: evidenceData?.causeSpanIds,\n              offender_span_ids: evidenceData?.offenderSpanIds,\n            },\n          },\n        }\n      : null;\n\n    return variant;\n  }\n\n  renderGroupInfoSummary() {\n    const {groupInfo: _groupInfo} = this.state;\n    const {group, event} = this.props;\n\n    const groupInfo =\n      group?.issueCategory === IssueCategory.PERFORMANCE &&\n      event.occurrence &&\n      event.type === 'transaction'\n        ? // performance issue grouping details are generated clint-side\n          this.generatePerformanceGroupInfo()\n        : _groupInfo;\n\n    const groupedBy = groupInfo\n      ? Object.values(groupInfo)\n          .filter(variant => variant.hash !== null && variant.description !== null)\n          .map(variant => variant.description)\n          .sort((a, b) => a!.toLowerCase().localeCompare(b!.toLowerCase()))\n          .join(', ')\n      : t('nothing');\n\n    return (\n      <p data-test-id=\"loaded-grouping-info\">\n        <strong>{t('Grouped by:')}</strong> {groupedBy}\n      </p>\n    );\n  }\n\n  renderGroupConfigSelect() {\n    const {configOverride} = this.state;\n    const {event} = this.props;\n\n    if (!event.groupingConfig) {\n      return null;\n    }\n\n    const configId = configOverride ?? event.groupingConfig?.id;\n\n    return (\n      <GroupingConfigSelect\n        eventConfigId={event.groupingConfig.id}\n        configId={configId}\n        onSelect={this.handleConfigSelect}\n      />\n    );\n  }\n\n  renderGroupInfo() {\n    const {groupInfo: _groupInfo, loading} = this.state;\n    const {event, showGroupingConfig, group} = this.props;\n\n    const groupInfo =\n      group?.issueCategory === IssueCategory.PERFORMANCE &&\n      event.occurrence &&\n      event.type === 'transaction'\n        ? this.generatePerformanceGroupInfo()\n        : _groupInfo;\n\n    const variants = groupInfo\n      ? Object.values(groupInfo).sort((a, b) =>\n          a.hash && !b.hash\n            ? -1\n            : a.description\n                ?.toLowerCase()\n                .localeCompare(b.description?.toLowerCase() ?? '') ?? 1\n        )\n      : [];\n\n    return (\n      <Fragment>\n        <ConfigHeader>\n          <div>{showGroupingConfig && this.renderGroupConfigSelect()}</div>\n          <FeatureFeedback\n            featureName=\"grouping\"\n            feedbackTypes={groupingFeedbackTypes}\n            buttonProps={{size: 'sm'}}\n          />\n        </ConfigHeader>\n\n        {loading ? (\n          <LoadingIndicator />\n        ) : (\n          variants.map((variant, index) => (\n            <Fragment key={variant.key}>\n              <GroupVariant\n                event={event}\n                variant={variant}\n                showGroupingConfig={showGroupingConfig}\n              />\n              {index < variants.length - 1 && <VariantDivider />}\n            </Fragment>\n          ))\n        )}\n      </Fragment>\n    );\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody() {\n    const {isOpen} = this.state;\n\n    return (\n      <EventDataSection\n        type=\"grouping-info\"\n        title={t('Event Grouping Information')}\n        actions={\n          <ToggleButton onClick={this.toggle} priority=\"link\">\n            {isOpen ? t('Hide Details') : t('Show Details')}\n          </ToggleButton>\n        }\n      >\n        {isOpen ? this.renderGroupInfo() : this.renderGroupInfoSummary()}\n      </EventDataSection>\n    );\n  }\n}\n\nconst ConfigHeader = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: ${space(1)};\n  margin-bottom: ${space(2)};\n`;\n\nconst ToggleButton = styled(Button)`\n  font-weight: 700;\n  color: ${p => p.theme.subText};\n  &:hover,\n  &:focus {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nexport const GroupingConfigItem = styled('span')<{\n  isActive?: boolean;\n  isHidden?: boolean;\n}>`\n  font-family: ${p => p.theme.text.familyMono};\n  opacity: ${p => (p.isHidden ? 0.5 : null)};\n  font-weight: ${p => (p.isActive ? 'bold' : null)};\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nconst VariantDivider = styled('hr')`\n  padding-top: ${space(1)};\n  border-top: 1px solid ${p => p.theme.border};\n`;\n\nexport const EventGroupingInfo = withOrganization(GroupingInfo);\n"],"names":["GroupingConfigSelect","DeprecatedAsyncComponent","getDefaultState","super","configs","getEndpoints","renderLoading","this","renderBody","configId","eventConfigId","onSelect","props","state","options","map","_ref","id","hidden","value","label","_jsx","GroupingConfigItem","isHidden","isActive","children","DropdownAutoComplete","items","_ref2","isOpen","Tooltip","title","t","StyledDropdownButton","size","_styled","DropdownButton","target","name","styles","hasNonContributingComponent","component","undefined","contributes","values","isObject","groupingComponentFilter","showNonContributing","hint","length","GroupingComponentChildren","Fragment","filter","idx","GroupingComponentListItem","GroupingComponent","GroupingValue","valueType","JSON","stringify","displayName","GroupingComponentFrames","Component","constructor","arguments","_defineProperty","collapsed","render","maxVisibleItems","isCollapsible","_jsxs","item","index","ToggleCollapse","priority","icon","IconAdd","legacySize","onClick","setState","tct","numberOfFrames","IconSubtract","Button","space","p","theme","linkColor","GroupingComponentStacktrace","getFrameGroups","frameGroups","forEach","key","v","sort","a","b","localeCompare","join","lastGroup","data","push","group","shouldInlineValue","every","shouldInlineComponentValue","GroupingComponentListItems","GroupingComponentWrapper","isContributing","GroupingHint","GroupingComponentList","isInline","innerBorder","fontSizeSmall","textColor","addFingerprintInfo","variant","TextWithQuestionTooltip","matched_rule","QuestionTooltip","position","client_values","GroupVariant","getVariantData","event","showGroupingConfig","hash","Hash","hashMismatch","type","EventGroupVariantType","COMPONENT","config","CUSTOM_FINGERPRINT","SALTED_COMPONENT","PERFORMANCE_PROBLEM","spansToHashes","Object","fromEntries","entries","find","c","span","span_id","evidence","op","parent_span_ids","cause_span_ids","Set","offender_span_ids","GroupingTree","renderTitle","VariantTitle","ContributionIcon","description","split","i","capitalize","renderContributionToggle","SegmentedControl","onChange","Item","VariantWrapper","Header","KeyValueList","d","subject","isContextData","shouldSort","breakpoints","small","fontSizeMedium","IconCheckmark","isCircled","color","IconClose","overflowEllipsis","groupingFeedbackTypes","GroupingInfo","configOverride","selection","reloadData","organization","projectSlug","occurrence","issueCategory","IssueCategory","PERFORMANCE","path","slug","generatePerformanceGroupInfo","evidenceData","issueType","fingerprint","hasMismatch","parentSpanIds","causeSpanIds","offenderSpanIds","renderGroupInfoSummary","groupInfo","_groupInfo","groupedBy","toLowerCase","renderGroupConfigSelect","groupingConfig","handleConfigSelect","renderGroupInfo","loading","variants","ConfigHeader","FeatureFeedback","featureName","feedbackTypes","buttonProps","LoadingIndicator","VariantDivider","EventDataSection","actions","ToggleButton","toggle","subText","text","familyMono","border","EventGroupingInfo","withOrganization"],"sourceRoot":""}