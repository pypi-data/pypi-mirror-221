{"version":3,"file":"chunks/app_views_admin_adminEnvironment_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"wpBAsBe,MAAMA,UAAyBC,EAAAA,EAC5CC,eACE,MAAO,CAAC,CAAC,OAAQ,0BACnB,CAEAC,aACE,MAAM,KAACC,GAAQC,KAAKC,OACd,YAACC,EAAW,OAAEC,EAAM,cAAEC,GAAiBL,GAEvC,QAACM,GAAWC,EAAAA,EAAYC,WAE9B,OACEC,EAAAA,EAAAA,IAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,IAAA,MAAAD,UAAKE,EAAAA,EAAAA,GAAE,iBAENT,GACCM,EAAAA,EAAAA,IAAA,MAAII,UAAU,OAAMH,SAAA,EAClBD,EAAAA,EAAAA,IAACK,EAAY,CAAAJ,SAAA,EACVE,EAAAA,EAAAA,GAAE,kBACFN,EAAQS,mBACPJ,EAAAA,EAAAA,IAACK,EAAAA,GAAM,CACLC,KAAK,+CACLC,MAAMP,EAAAA,EAAAA,IAACQ,EAAAA,GAAW,CAACC,KAAK,OACxBA,KAAK,KACLC,UAAQ,EAAAX,UAEPE,EAAAA,EAAAA,GAAE,uBAAwBN,EAAQgB,cAIzCX,EAAAA,EAAAA,IAAA,MAAAD,UACEC,EAAAA,EAAAA,IAAA,OAAKE,UAAU,MAAKH,SAAEJ,EAAQiB,aAGhCZ,EAAAA,EAAAA,IAAA,MAAAD,UAAKE,EAAAA,EAAAA,GAAE,qBACPD,EAAAA,EAAAA,IAAA,MAAAD,UACEC,EAAAA,EAAAA,IAAA,OAAKE,UAAU,MAAKH,SAAEL,OAExBM,EAAAA,EAAAA,IAAA,MAAAD,UAAKE,EAAAA,EAAAA,GAAE,yBACPD,EAAAA,EAAAA,IAAA,MAAAD,UACEC,EAAAA,EAAAA,IAAA,OAAKE,UAAU,MAAKH,SAAEP,EAAYC,YAEpCO,EAAAA,EAAAA,IAAA,MAAAD,UAAKE,EAAAA,EAAAA,GAAE,aACPD,EAAAA,EAAAA,IAAA,MAAAD,UACED,EAAAA,EAAAA,IAAA,OAAKI,UAAU,MAAKH,SAAA,CACjBc,IAAOrB,EAAYsB,YAAYC,OAAM,GAAM,UAAQ,IACnDvB,EAAYsB,WAAW,aAK9Bd,EAAAA,EAAAA,IAAA,KAAAD,UACGE,EAAAA,EAAAA,GAAE,2EAIPD,EAAAA,EAAAA,IAAA,MAAAD,UACGiB,EAAAA,EAAAA,IAAI,6BAA8B,CACjCC,WAAYzB,EAAYC,SAAUO,EAAAA,EAAAA,IAAA,SAAAD,SAAQP,EAAYC,cAI1DO,EAAAA,EAAAA,IAAA,MAAIE,UAAU,OAAMH,SACjBN,EAAOyB,KAAIC,IAAA,IAAEC,EAAKC,GAAMF,EAAA,OACvBrB,EAAAA,EAAAA,IAACwB,EAAAA,SAAQ,CAAAvB,SAAA,EACPC,EAAAA,EAAAA,IAAA,MAAAD,SAAKqB,KACLpB,EAAAA,EAAAA,IAAA,MAAAD,UACEC,EAAAA,EAAAA,IAAA,OAAKE,UAAU,MAAKH,SAAEsB,QAHXD,EAKJ,QAKrB,EAGF,MAAMjB,GAAeoB,EAAAA,EAAAA,GAAO,KAAI,CAAAC,OAAA,aAAXD,CAAY,kDAGxBE,EAAAA,EAAAA,GAAM,GAAE,uB,4QCzFF,MAAMvC,UAGXwC,EAAAA,EACRC,WACE,MAAO,EACT,CAEAC,SACE,OACE5B,EAAAA,EAAAA,IAAC6B,EAAAA,EAAmB,CAACC,MAAOxC,KAAKqC,WAAW5B,SACzCT,KAAKyC,mBAGZ,EAdmB7C,EAAmB8C,YAAA,qB","sources":["webpack:///./app/views/admin/adminEnvironment.tsx","webpack:///./app/views/deprecatedAsyncView.tsx"],"sourcesContent":["import {Fragment} from 'react';\nimport styled from '@emotion/styled';\nimport moment from 'moment';\n\nimport {Button} from 'sentry/components/button';\nimport {IconUpgrade} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport ConfigStore from 'sentry/stores/configStore';\nimport {space} from 'sentry/styles/space';\nimport DeprecatedAsyncView from 'sentry/views/deprecatedAsyncView';\n\ntype Data = {\n  config: [key: string, value: string][];\n  environment: {\n    config: string;\n    start_date: string;\n  };\n  pythonVersion: string;\n};\n\ntype State = DeprecatedAsyncView['state'] & {data: Data};\n\nexport default class AdminEnvironment extends DeprecatedAsyncView<{}, State> {\n  getEndpoints(): ReturnType<DeprecatedAsyncView['getEndpoints']> {\n    return [['data', '/internal/environment/']];\n  }\n\n  renderBody() {\n    const {data} = this.state;\n    const {environment, config, pythonVersion} = data;\n\n    const {version} = ConfigStore.getState();\n\n    return (\n      <div>\n        <h3>{t('Environment')}</h3>\n\n        {environment ? (\n          <dl className=\"vars\">\n            <VersionLabel>\n              {t('Server Version')}\n              {version.upgradeAvailable && (\n                <Button\n                  href=\"https://github.com/getsentry/sentry/releases\"\n                  icon={<IconUpgrade size=\"xs\" />}\n                  size=\"xs\"\n                  external\n                >\n                  {t('Upgrade to Sentry %s', version.latest)}\n                </Button>\n              )}\n            </VersionLabel>\n            <dd>\n              <pre className=\"val\">{version.current}</pre>\n            </dd>\n\n            <dt>{t('Python Version')}</dt>\n            <dd>\n              <pre className=\"val\">{pythonVersion}</pre>\n            </dd>\n            <dt>{t('Configuration File')}</dt>\n            <dd>\n              <pre className=\"val\">{environment.config}</pre>\n            </dd>\n            <dt>{t('Uptime')}</dt>\n            <dd>\n              <pre className=\"val\">\n                {moment(environment.start_date).toNow(true)} (since{' '}\n                {environment.start_date})\n              </pre>\n            </dd>\n          </dl>\n        ) : (\n          <p>\n            {t('Environment not found (are you using the builtin Sentry webserver?).')}\n          </p>\n        )}\n\n        <h3>\n          {tct('Configuration [configPath]', {\n            configPath: environment.config && <small>{environment.config}</small>,\n          })}\n        </h3>\n\n        <dl className=\"vars\">\n          {config.map(([key, value]) => (\n            <Fragment key={key}>\n              <dt>{key}</dt>\n              <dd>\n                <pre className=\"val\">{value}</pre>\n              </dd>\n            </Fragment>\n          ))}\n        </dl>\n      </div>\n    );\n  }\n}\n\nconst VersionLabel = styled('dt')`\n  display: inline-grid;\n  grid-auto-flow: column;\n  gap: ${space(1)};\n  align-items: center;\n`;\n","import DeprecatedAsyncComponent from 'sentry/components/deprecatedAsyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\nexport type AsyncViewState = DeprecatedAsyncComponent['state'];\nexport type AsyncViewProps = DeprecatedAsyncComponent['props'];\n\n/**\n * @deprecated use useApiQuery instead.\n *\n * Read the dev docs page on network requests for more information [1].\n *\n * [1]: https://develop.sentry.dev/frontend/network-requests/\n */\nexport default class DeprecatedAsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends DeprecatedAsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n"],"names":["AdminEnvironment","DeprecatedAsyncView","getEndpoints","renderBody","data","this","state","environment","config","pythonVersion","version","ConfigStore","getState","_jsxs","children","_jsx","t","className","VersionLabel","upgradeAvailable","Button","href","icon","IconUpgrade","size","external","latest","current","moment","start_date","toNow","tct","configPath","map","_ref","key","value","Fragment","_styled","target","space","DeprecatedAsyncComponent","getTitle","render","SentryDocumentTitle","title","renderComponent","displayName"],"sourceRoot":""}