{"version":3,"file":"chunks/app_components_modals_dashboardWidgetQuerySelectorModal_tsx-node_modules_lodash_cloneDeep_js--84f402.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/modals/dashboardWidgetQuerySelectorModal.tsx","webpack:///../node_modules/lodash/cloneDeep.js","webpack:///../node_modules/lodash/isNil.js","webpack:///../node_modules/lodash/isNumber.js","webpack:///../node_modules/lodash/maxBy.js","webpack:///../node_modules/lodash/orderBy.js","webpack:///../node_modules/lodash/set.js","webpack:///../node_modules/lodash/uniqBy.js"],"sourcesContent":["import {Component, Fragment} from 'react';\nimport {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport {ModalRenderProps} from 'sentry/actionCreators/modal';\nimport {Client} from 'sentry/api';\nimport {Button} from 'sentry/components/button';\nimport Input from 'sentry/components/input';\nimport Link from 'sentry/components/links/link';\nimport {IconChevron, IconSearch} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Organization, PageFilters} from 'sentry/types';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport withApi from 'sentry/utils/withApi';\nimport withPageFilters from 'sentry/utils/withPageFilters';\nimport {Widget} from 'sentry/views/dashboards/types';\nimport {getWidgetDiscoverUrl} from 'sentry/views/dashboards/utils';\n\nexport type DashboardWidgetQuerySelectorModalOptions = {\n  organization: Organization;\n  widget: Widget;\n  isMetricsData?: boolean;\n};\n\ntype Props = ModalRenderProps &\n  DashboardWidgetQuerySelectorModalOptions & {\n    api: Client;\n    organization: Organization;\n    selection: PageFilters;\n  };\n\nclass DashboardWidgetQuerySelectorModal extends Component<Props> {\n  renderQueries() {\n    const {organization, widget, selection, isMetricsData} = this.props;\n    const querySearchBars = widget.queries.map((query, index) => {\n      const discoverLocation = getWidgetDiscoverUrl(\n        {\n          ...widget,\n          queries: [query],\n        },\n        selection,\n        organization,\n        0,\n        isMetricsData\n      );\n      return (\n        <Fragment key={index}>\n          <QueryContainer>\n            <Container>\n              <SearchLabel htmlFor=\"smart-search-input\" aria-label={t('Search events')}>\n                <IconSearch />\n              </SearchLabel>\n              <StyledInput value={query.conditions} disabled />\n            </Container>\n            <Link to={discoverLocation}>\n              <OpenInDiscoverButton\n                priority=\"primary\"\n                icon={<IconChevron size=\"xs\" direction=\"right\" />}\n                onClick={() => {\n                  trackAnalytics('dashboards_views.query_selector.selected', {\n                    organization,\n                    widget_type: widget.displayType,\n                  });\n                }}\n                aria-label={t('Open in Discover')}\n              />\n            </Link>\n          </QueryContainer>\n        </Fragment>\n      );\n    });\n    return querySearchBars;\n  }\n\n  render() {\n    const {Body, Header, widget} = this.props;\n    return (\n      <Fragment>\n        <Header closeButton>\n          <h4>{widget.title}</h4>\n        </Header>\n        <Body>\n          <p>\n            {t(\n              'Multiple queries were used to create this widget visualization. Which query would you like to view in Discover?'\n            )}\n          </p>\n          {this.renderQueries()}\n        </Body>\n      </Fragment>\n    );\n  }\n}\n\nconst StyledInput = styled(Input)`\n  text-overflow: ellipsis;\n  padding: 0px;\n  box-shadow: none;\n  height: auto;\n  &:disabled {\n    border: none;\n    cursor: default;\n  }\n`;\nconst QueryContainer = styled('div')`\n  display: flex;\n  margin-bottom: ${space(1)};\n`;\nconst OpenInDiscoverButton = styled(Button)`\n  margin-left: ${space(1)};\n`;\n\nconst Container = styled('div')`\n  border: 1px solid ${p => p.theme.border};\n  box-shadow: inset ${p => p.theme.dropShadowMedium};\n  background: ${p => p.theme.backgroundSecondary};\n  padding: 7px ${space(1)};\n  position: relative;\n  display: grid;\n  grid-template-columns: max-content 1fr max-content;\n  gap: ${space(1)};\n  align-items: start;\n  flex-grow: 1;\n  border-radius: ${p => p.theme.borderRadius};\n`;\n\nconst SearchLabel = styled('label')`\n  display: flex;\n  padding: ${space(0.5)} 0;\n  margin: 0;\n  color: ${p => p.theme.gray300};\n`;\n\nexport const modalCss = css`\n  width: 100%;\n  max-width: 700px;\n  margin: 70px auto;\n`;\n\nexport default withApi(withPageFilters(DashboardWidgetQuerySelectorModal));\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n"],"names":["DashboardWidgetQuerySelectorModal","Component","renderQueries","organization","widget","selection","isMetricsData","this","props","queries","map","query","index","discoverLocation","getWidgetDiscoverUrl","_jsx","Fragment","children","_jsxs","QueryContainer","Container","SearchLabel","htmlFor","t","IconSearch","StyledInput","value","conditions","disabled","Link","to","OpenInDiscoverButton","priority","icon","IconChevron","size","direction","onClick","trackAnalytics","widget_type","displayType","render","Body","Header","closeButton","title","displayName","_styled","Input","target","name","styles","space","Button","p","theme","border","dropShadowMedium","backgroundSecondary","borderRadius","gray300","modalCss","withApi","withPageFilters","baseClone","module","exports","CLONE_DEEP_FLAG","baseGetTag","isObjectLike","baseExtremum","baseGt","baseIteratee","array","iteratee","length","undefined","baseOrderBy","isArray","collection","iteratees","orders","guard","baseSet","object","path","baseUniq"],"sourceRoot":""}