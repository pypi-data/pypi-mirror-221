{"version":3,"file":"chunks/app_views_organizationJoinRequest_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"4VAIA,SAASA,EAAWC,GAClB,OAAOC,EAAAA,EAAAA,IAACC,EAAAA,EAAU,IAAKF,EAAOG,KAAK,SACrC,CAFSJ,EAAUK,YAAA,aAInB,S,0ZCMA,SAASC,EAAYC,GAA0C,IAAzC,SAACC,EAAQ,WAAEC,EAAU,SAAEC,GAAgBH,EAC3D,MAAMI,GAAMC,EAAAA,EAAAA,KAaZ,OAXAC,EAAAA,EAAAA,YAAU,KACRC,SAASC,KAAKC,UAAUC,IAAI,UAErB,IAAMH,SAASC,KAAKC,UAAUE,OAAO,YAC3C,KAQDC,EAAAA,EAAAA,IAAA,OAAKC,UAAU,MAAKV,SAAA,EAClBR,EAAAA,EAAAA,IAAA,OAAKkB,UAAU,gBACflB,EAAAA,EAAAA,IAAA,OAAKkB,UAAU,YAAYC,MAAO,CAACb,YAAUE,UAC3CS,EAAAA,EAAAA,IAAA,OAAKC,UAAU,gBAAeV,SAAA,EAC5BS,EAAAA,EAAAA,IAAA,OAAKC,UAAU,aAAYV,SAAA,EACzBR,EAAAA,EAAAA,IAAA,KAAGoB,KAAK,IAAGZ,UACTR,EAAAA,EAAAA,IAACqB,EAAAA,GAAU,CAACC,KAAK,SAElBf,IACCP,EAAAA,EAAAA,IAAA,KAAGkB,UAAU,oBAAoBK,QAf7CC,uBACQC,EAAAA,EAAAA,IAAOhB,GACbiB,OAAOC,SAASC,OAAO,cACzB,EAYmEpB,UACrDR,EAAAA,EAAAA,IAAC6B,EAAM,CAAArB,UAAEsB,EAAAA,EAAAA,GAAE,oBAIjB9B,EAAAA,EAAAA,IAAA,OAAKkB,UAAU,2BAA0BV,SAAEA,WAKrD,CAlCSJ,EAAYD,YAAA,eAoCrB,MAAM0B,GAASE,EAAAA,EAAAA,GAAO,OAAM,CAAAC,OAAA,YAAbD,CAAc,cACdE,GAAKA,EAAEC,MAAMC,eAAa,KAGzC,G,6nBCpCA,MAAMC,UAAgCC,EAAAA,UAAwBC,cAAA,SAAAC,YAAAC,EAAAA,EAAAA,GAAA,aAC7C,CACbC,cAAe,QAChBD,EAAAA,EAAAA,GAAA,4BAEqB,KACpBE,KAAKC,SAAS,CAACF,eAAe,GAAM,KACrCD,EAAAA,EAAAA,GAAA,qBAMcI,IACbA,EAAEC,iBACF,MAAM,OAACC,GAAUJ,KAAK3C,MAEtB2B,OAAOC,SAASC,OAAQ,eAAckB,EAAOC,SAAS,GACvD,CATDC,qBACEC,EAAAA,EAAAA,KAAgBnB,EAAAA,EAAAA,GAAE,0BACpB,CASAoB,SACE,MAAM,OAACJ,GAAUJ,KAAK3C,OAChB,cAAC0C,GAAiBC,KAAKS,MAE7B,OAAIV,GAEAzC,EAAAA,EAAAA,IAACI,EAAAA,EAAY,CAACE,SAAS,QAAOE,UAC5BS,EAAAA,EAAAA,IAACmC,EAAY,CAAA5C,SAAA,EACXR,EAAAA,EAAAA,IAACqD,EAAmB,CAAC/B,KAAK,SAC1BtB,EAAAA,EAAAA,IAACsD,EAAY,CAAA9C,UAAEsB,EAAAA,EAAAA,GAAE,mBACjB9B,EAAAA,EAAAA,IAACuD,EAAU,CAAA/C,UAAEsB,EAAAA,EAAAA,GAAE,0CACf9B,EAAAA,EAAAA,IAACwD,EAAmB,CAAAhD,UACjBsB,EAAAA,EAAAA,GAAE,oEAQXb,EAAAA,EAAAA,IAACb,EAAAA,EAAY,CAACE,SAAS,QAAOE,SAAA,EAC5BR,EAAAA,EAAAA,IAACqD,EAAmB,CAAC/B,KAAK,SAC1BtB,EAAAA,EAAAA,IAACsD,EAAY,CAAC,eAAa,eAAc9C,UAAEsB,EAAAA,EAAAA,GAAE,sBAC7C9B,EAAAA,EAAAA,IAACuD,EAAU,CAAA/C,UACRiD,EAAAA,EAAAA,IAAI,2DAA4D,CAC/DV,MAAOD,EAAOC,WAGlB/C,EAAAA,EAAAA,IAAC0D,EAAAA,EAAI,CACHC,gBAAc,EACdC,YAAc,kBAAiBd,EAAOC,sBACtCc,UAAU,OACVC,aAAahC,EAAAA,EAAAA,GAAE,mBACfiC,gBAAiBrB,KAAKsB,oBACtBC,cAAevB,KAAKM,kBACpBkB,SAAUxB,KAAKyB,aAAa3D,UAE5BR,EAAAA,EAAAA,IAACoE,EAAgB,CACfC,KAAK,QACLC,QAAQ,EACRC,OAAOzC,EAAAA,EAAAA,GAAE,iBACT0C,YAAY,yBAKtB,EAlEIpC,EAAuBjC,YAAA,0BAqE7B,MAAMiD,GAAerB,EAAAA,EAAAA,GAAO,MAAK,CAAAC,OAAA,aAAZD,CAAa,wFAKd0C,EAAAA,EAAAA,GAAM,GAAE,KAGtBpB,GAAsBtB,EAAAA,EAAAA,GAAO2C,EAAAA,GAAa,CAAA1C,OAAA,aAApBD,CAAqB,mBAC7B0C,EAAAA,EAAAA,GAAM,GAAE,KAGtBnB,GAAevB,EAAAA,EAAAA,GAAO,KAAI,CAAAC,OAAA,aAAXD,CAAY,kBACd0C,EAAAA,EAAAA,GAAM,GAAE,KAGrBlB,GAAaxB,EAAAA,EAAAA,GAAO,IAAG,CAAAC,OAAA,aAAVD,CAAW,CAAAsC,KAAA,UAAAM,OAAA,oBAIxBnB,GAAsBzB,EAAAA,EAAAA,GAAOwB,EAAU,CAAAvB,OAAA,aAAjBD,CAAkB,CAAAsC,KAAA,UAAAM,OAAA,oBAIxCP,GAAmBrC,EAAAA,EAAAA,GAAOjC,EAAAA,EAAU,CAAAkC,OAAA,aAAjBD,CAAkB,gBAC1B0C,EAAAA,EAAAA,GAAM,GAAE,oBAIzB,G","sources":["webpack:///./app/components/forms/fields/emailField.tsx","webpack:///./app/components/narrowLayout.tsx","webpack:///./app/views/organizationJoinRequest/index.tsx"],"sourcesContent":["import InputField, {InputFieldProps} from './inputField';\n\nexport interface EmailFieldProps extends Omit<InputFieldProps, 'type'> {}\n\nfunction EmailField(props: EmailFieldProps) {\n  return <InputField {...props} type=\"email\" />;\n}\n\nexport default EmailField;\n","import {useEffect} from 'react';\nimport styled from '@emotion/styled';\n\nimport {logout} from 'sentry/actionCreators/account';\nimport {IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport useApi from 'sentry/utils/useApi';\n\ntype Props = {\n  children: React.ReactNode;\n  maxWidth?: string;\n  showLogout?: boolean;\n};\n\nfunction NarrowLayout({maxWidth, showLogout, children}: Props) {\n  const api = useApi();\n\n  useEffect(() => {\n    document.body.classList.add('narrow');\n\n    return () => document.body.classList.remove('narrow');\n  }, []);\n\n  async function handleLogout() {\n    await logout(api);\n    window.location.assign('/auth/login');\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"pattern-bg\" />\n      <div className=\"container\" style={{maxWidth}}>\n        <div className=\"box box-modal\">\n          <div className=\"box-header\">\n            <a href=\"/\">\n              <IconSentry size=\"lg\" />\n            </a>\n            {showLogout && (\n              <a className=\"logout pull-right\" onClick={handleLogout}>\n                <Logout>{t('Sign out')}</Logout>\n              </a>\n            )}\n          </div>\n          <div className=\"box-content with-padding\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Logout = styled('span')`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n\nexport default NarrowLayout;\n","import {Component} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport EmailField from 'sentry/components/forms/fields/emailField';\nimport Form from 'sentry/components/forms/form';\nimport NarrowLayout from 'sentry/components/narrowLayout';\nimport {IconMegaphone} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\ntype Props = RouteComponentProps<{orgId: string}, {}>;\n\ntype State = {\n  submitSuccess: boolean | null;\n};\n\nclass OrganizationJoinRequest extends Component<Props, State> {\n  state: State = {\n    submitSuccess: null,\n  };\n\n  handleSubmitSuccess = () => {\n    this.setState({submitSuccess: true});\n  };\n\n  handleSubmitError() {\n    addErrorMessage(t('Request to join failed'));\n  }\n\n  handleCancel = e => {\n    e.preventDefault();\n    const {params} = this.props;\n\n    window.location.assign(`/auth/login/${params.orgId}/`);\n  };\n\n  render() {\n    const {params} = this.props;\n    const {submitSuccess} = this.state;\n\n    if (submitSuccess) {\n      return (\n        <NarrowLayout maxWidth=\"550px\">\n          <SuccessModal>\n            <StyledIconMegaphone size=\"xxl\" />\n            <StyledHeader>{t('Request Sent')}</StyledHeader>\n            <StyledText>{t('Your request to join has been sent.')}</StyledText>\n            <ReceiveEmailMessage>\n              {t('You will receive an email when your request is approved.')}\n            </ReceiveEmailMessage>\n          </SuccessModal>\n        </NarrowLayout>\n      );\n    }\n\n    return (\n      <NarrowLayout maxWidth=\"650px\">\n        <StyledIconMegaphone size=\"xxl\" />\n        <StyledHeader data-test-id=\"join-request\">{t('Request to Join')}</StyledHeader>\n        <StyledText>\n          {tct('Ask the admins if you can join the [orgId] organization.', {\n            orgId: params.orgId,\n          })}\n        </StyledText>\n        <Form\n          requireChanges\n          apiEndpoint={`/organizations/${params.orgId}/join-request/`}\n          apiMethod=\"POST\"\n          submitLabel={t('Request to Join')}\n          onSubmitSuccess={this.handleSubmitSuccess}\n          onSubmitError={this.handleSubmitError}\n          onCancel={this.handleCancel}\n        >\n          <StyledEmailField\n            name=\"email\"\n            inline={false}\n            label={t('Email Address')}\n            placeholder=\"name@example.com\"\n          />\n        </Form>\n      </NarrowLayout>\n    );\n  }\n}\n\nconst SuccessModal = styled('div')`\n  display: grid;\n  justify-items: center;\n  text-align: center;\n  padding-top: 10px;\n  padding-bottom: ${space(4)};\n`;\n\nconst StyledIconMegaphone = styled(IconMegaphone)`\n  padding-bottom: ${space(3)};\n`;\n\nconst StyledHeader = styled('h3')`\n  margin-bottom: ${space(1)};\n`;\n\nconst StyledText = styled('p')`\n  margin-bottom: 0;\n`;\n\nconst ReceiveEmailMessage = styled(StyledText)`\n  max-width: 250px;\n`;\n\nconst StyledEmailField = styled(EmailField)`\n  padding-top: ${space(2)};\n  padding-left: 0;\n`;\n\nexport default OrganizationJoinRequest;\n"],"names":["EmailField","props","_jsx","InputField","type","displayName","NarrowLayout","_ref","maxWidth","showLogout","children","api","useApi","useEffect","document","body","classList","add","remove","_jsxs","className","style","href","IconSentry","size","onClick","async","logout","window","location","assign","Logout","t","_styled","target","p","theme","fontSizeLarge","OrganizationJoinRequest","Component","constructor","arguments","_defineProperty","submitSuccess","this","setState","e","preventDefault","params","orgId","handleSubmitError","addErrorMessage","render","state","SuccessModal","StyledIconMegaphone","StyledHeader","StyledText","ReceiveEmailMessage","tct","Form","requireChanges","apiEndpoint","apiMethod","submitLabel","onSubmitSuccess","handleSubmitSuccess","onSubmitError","onCancel","handleCancel","StyledEmailField","name","inline","label","placeholder","space","IconMegaphone","styles"],"sourceRoot":""}