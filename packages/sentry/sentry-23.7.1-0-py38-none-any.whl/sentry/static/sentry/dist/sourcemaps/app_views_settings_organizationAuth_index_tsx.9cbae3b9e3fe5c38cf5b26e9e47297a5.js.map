{"version":3,"file":"chunks/app_views_settings_organizationAuth_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/panels/panelHeader.tsx","webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/deprecatedAsyncView.tsx","webpack:///./app/views/settings/organization/permissionAlert.tsx","webpack:///./app/views/settings/organizationAuth/providerItem.tsx","webpack:///./app/views/settings/organizationAuth/organizationAuthList.tsx","webpack:///./app/views/settings/organizationAuth/index.tsx"],"sourcesContent":["import {css} from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport {space} from 'sentry/styles/space';\n\ntype Props = {\n  /**\n   * Do not add padding to left and right of the header\n   */\n  disablePadding?: boolean;\n  /**\n   * Usually we place controls at the right of a panel header, to make the\n   * spacing between the edges correct we will want less padding on the right.\n   * Use this when the panel has something such as buttons living there.\n   */\n  hasButtons?: boolean;\n  /**\n   * Use light text\n   */\n  lightText?: boolean;\n};\n\nconst getPadding = ({disablePadding, hasButtons}: Props) => css`\n  padding: ${hasButtons ? space(1) : space(2)} ${disablePadding ? 0 : space(2)};\n`;\n\nconst PanelHeader = styled('div')<Props>`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ${p => (p.lightText ? p.theme.gray300 : p.theme.gray400)};\n  font-size: ${p => p.theme.fontSizeSmall};\n  font-weight: 600;\n  text-transform: uppercase;\n  border-bottom: 1px solid ${p => p.theme.border};\n  border-radius: calc(${p => p.theme.panelBorderRadius} - 1px)\n    calc(${p => p.theme.panelBorderRadius} - 1px) 0 0;\n  background: ${p => p.theme.backgroundSecondary};\n  line-height: 1;\n  position: relative;\n  ${getPadding};\n`;\n\nexport default PanelHeader;\n","function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import DeprecatedAsyncComponent from 'sentry/components/deprecatedAsyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\nexport type AsyncViewState = DeprecatedAsyncComponent['state'];\nexport type AsyncViewProps = DeprecatedAsyncComponent['props'];\n\n/**\n * @deprecated use useApiQuery instead.\n *\n * Read the dev docs page on network requests for more information [1].\n *\n * [1]: https://develop.sentry.dev/frontend/network-requests/\n */\nexport default class DeprecatedAsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends DeprecatedAsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {ReactNode} from 'react';\n\nimport Access from 'sentry/components/acl/access';\nimport {Alert} from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\nimport {Scope} from 'sentry/types';\n\ntype Props = React.ComponentPropsWithoutRef<typeof Alert> & {\n  access?: Scope[];\n  message?: ReactNode;\n};\n\nfunction PermissionAlert({\n  access = ['org:write'],\n  message = t(\n    'These settings can only be edited by users with the organization owner or manager role.'\n  ),\n  ...props\n}: Props) {\n  return (\n    <Access access={access}>\n      {({hasAccess}) =>\n        !hasAccess && (\n          <Alert data-test-id=\"org-permission-alert\" type=\"warning\" showIcon {...props}>\n            {message}\n          </Alert>\n        )\n      }\n    </Access>\n  );\n}\n\nexport default PermissionAlert;\n","import styled from '@emotion/styled';\n\nimport Access from 'sentry/components/acl/access';\nimport Feature from 'sentry/components/acl/feature';\nimport FeatureDisabled from 'sentry/components/acl/featureDisabled';\nimport {Button} from 'sentry/components/button';\nimport {Hovercard} from 'sentry/components/hovercard';\nimport PanelItem from 'sentry/components/panels/panelItem';\nimport Tag from 'sentry/components/tag';\nimport {IconLock} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {AuthProvider} from 'sentry/types';\nimport {FeatureDisabledHooks} from 'sentry/types/hooks';\nimport {descopeFeatureName} from 'sentry/utils';\n\ntype RenderInstallButtonProps = {\n  hasFeature: boolean;\n  /**\n   * We pass the provider so that it may be passed into any hook provided\n   * callbacks.\n   */\n  provider: AuthProvider;\n};\n\ntype LockedFeatureProps = {\n  features: string[];\n  provider: AuthProvider;\n  className?: string;\n};\n\ntype FeatureRenderProps = {\n  features: string[];\n  hasFeature: boolean;\n  renderDisabled: (p: LockedFeatureProps) => React.ReactNode;\n  renderInstallButton: (p: RenderInstallButtonProps) => React.ReactNode;\n  children?: (p: FeatureRenderProps) => React.ReactNode;\n};\n\ntype Props = {\n  active: boolean;\n  provider: AuthProvider;\n  onConfigure?: (providerKey: string, e: React.MouseEvent) => void;\n};\n\nfunction ProviderItem({provider, active, onConfigure}: Props) {\n  const handleConfigure = (e: React.MouseEvent) => {\n    onConfigure?.(provider.key, e);\n  };\n\n  const renderDisabledLock = (p: LockedFeatureProps) => (\n    <LockedFeature provider={p.provider} features={p.features} />\n  );\n\n  const defaultRenderInstallButton = ({hasFeature}: RenderInstallButtonProps) => (\n    <Access access={['org:write']}>\n      {({hasAccess}) => (\n        <Button\n          type=\"submit\"\n          name=\"provider\"\n          size=\"sm\"\n          value={provider.key}\n          disabled={!hasFeature || !hasAccess}\n          onClick={handleConfigure}\n        >\n          {t('Configure')}\n        </Button>\n      )}\n    </Access>\n  );\n\n  // TODO(epurkhiser): We should probably use a more explicit hook name,\n  // instead of just the feature names (sso-basic, sso-saml2, etc).\n  const featureKey = provider.requiredFeature;\n  const hookName = featureKey\n    ? (`feature-disabled:${descopeFeatureName(featureKey)}` as keyof FeatureDisabledHooks)\n    : null;\n\n  const featureProps = hookName ? {hookName} : {};\n\n  const getProviderDescription = providerName => {\n    if (providerName === 'SAML2') {\n      return t(\n        'your preferred SAML2 compliant provider like Ping Identity, Google SAML, Keycloak, or VMware Identity Manager'\n      );\n    }\n\n    if (providerName === 'Google') {\n      return t('Google (OAuth)');\n    }\n\n    return providerName;\n  };\n\n  return (\n    <Feature\n      {...featureProps}\n      features={[featureKey].filter(f => f)}\n      renderDisabled={({children, ...props}) =>\n        typeof children === 'function' &&\n        // TODO(ts): the Feature component isn't correctly templatized to allow\n        // for custom props in the renderDisabled function\n        children({...props, renderDisabled: renderDisabledLock as any})\n      }\n    >\n      {({\n        hasFeature,\n        features,\n        renderDisabled,\n        renderInstallButton,\n      }: FeatureRenderProps) => (\n        <PanelItem center>\n          <ProviderInfo>\n            <ProviderLogo\n              className={`provider-logo ${provider.name\n                .replace(/\\s/g, '-')\n                .toLowerCase()}`}\n            />\n            <div>\n              <ProviderName>{provider.name}</ProviderName>\n              <ProviderDescription>\n                {t(\n                  'Enable your organization to sign in with %s.',\n                  getProviderDescription(provider.name)\n                )}\n              </ProviderDescription>\n            </div>\n          </ProviderInfo>\n\n          <FeatureBadge>\n            {!hasFeature && renderDisabled({provider, features})}\n          </FeatureBadge>\n\n          <div>\n            {active ? (\n              <ActiveIndicator />\n            ) : (\n              (renderInstallButton ?? defaultRenderInstallButton)({provider, hasFeature})\n            )}\n          </div>\n        </PanelItem>\n      )}\n    </Feature>\n  );\n}\n\nexport default ProviderItem;\n\nconst ProviderInfo = styled('div')`\n  flex: 1;\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  gap: ${space(2)};\n`;\n\nconst ProviderLogo = styled('div')`\n  height: 36px;\n  width: 36px;\n  border-radius: 3px;\n  margin-right: 0;\n  top: auto;\n`;\n\nconst ProviderName = styled('div')`\n  font-weight: bold;\n`;\n\nconst ProviderDescription = styled('div')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  color: ${p => p.theme.subText};\n`;\n\nconst FeatureBadge = styled('div')`\n  flex: 1;\n`;\n\nconst ActiveIndicator = styled('div')`\n  background: ${p => p.theme.green300};\n  color: ${p => p.theme.white};\n  padding: ${space(1)} ${space(1.5)};\n  border-radius: 2px;\n  font-size: 0.8em;\n`;\n\nActiveIndicator.defaultProps = {\n  children: t('Active'),\n};\n\nconst DisabledHovercard = styled(Hovercard)`\n  width: 350px;\n`;\n\nfunction LockedFeature({provider, features, className}: LockedFeatureProps) {\n  return (\n    <DisabledHovercard\n      containerClassName={className}\n      body={\n        <FeatureDisabled\n          features={features}\n          hideHelpToggle\n          message={t('%s SSO is disabled.', provider.name)}\n          featureName={t('SSO Auth')}\n        />\n      }\n    >\n      <Tag role=\"status\" icon={<IconLock isSolid />}>\n        {t('disabled')}\n      </Tag>\n    </DisabledHovercard>\n  );\n}\n","import EmptyMessage from 'sentry/components/emptyMessage';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport Panel from 'sentry/components/panels/panel';\nimport PanelAlert from 'sentry/components/panels/panelAlert';\nimport PanelBody from 'sentry/components/panels/panelBody';\nimport PanelHeader from 'sentry/components/panels/panelHeader';\nimport {t, tct} from 'sentry/locale';\nimport {AuthProvider, Organization} from 'sentry/types';\nimport {descopeFeatureName} from 'sentry/utils';\nimport getCsrfToken from 'sentry/utils/getCsrfToken';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport PermissionAlert from 'sentry/views/settings/organization/permissionAlert';\n\nimport ProviderItem from './providerItem';\n\nconst PROVIDER_POPULARITY: Record<string, number> = {\n  google: 0,\n  github: 1,\n  okta: 2,\n  'active-directory': 3,\n  saml2: 4,\n  onelogin: 5,\n  rippling: 6,\n  auth0: 7,\n  jumpcloud: 8,\n};\n\ntype Props = {\n  organization: Organization;\n  providerList: AuthProvider[];\n  activeProvider?: AuthProvider;\n};\n\nfunction OrganizationAuthList({organization, providerList, activeProvider}: Props) {\n  const features = organization.features;\n\n  // Sort provider list twice: first, by popularity,\n  // and then a second time, to sort unavailable providers for the current plan to the end of the list.\n  const sortedByPopularity = (providerList ?? []).sort((a, b) => {\n    if (!(a.key in PROVIDER_POPULARITY)) {\n      return -1;\n    }\n    if (!(b.key in PROVIDER_POPULARITY)) {\n      return 1;\n    }\n    if (PROVIDER_POPULARITY[a.key] === PROVIDER_POPULARITY[b.key]) {\n      return 0;\n    }\n    return PROVIDER_POPULARITY[a.key] > PROVIDER_POPULARITY[b.key] ? 1 : -1;\n  });\n\n  const list = sortedByPopularity.sort((a, b) => {\n    const aEnabled = features.includes(descopeFeatureName(a.requiredFeature));\n    const bEnabled = features.includes(descopeFeatureName(b.requiredFeature));\n    if (aEnabled === bEnabled) {\n      return 0;\n    }\n    return aEnabled ? -1 : 1;\n  });\n\n  const warn2FADisable =\n    organization.require2FA &&\n    list.some(({requiredFeature}) =>\n      features.includes(descopeFeatureName(requiredFeature))\n    );\n\n  return (\n    <div className=\"sso\">\n      <SettingsPageHeader title=\"Authentication\" />\n      <PermissionAlert />\n      <Panel>\n        <PanelHeader>{t('Choose a provider')}</PanelHeader>\n        <PanelBody>\n          {!activeProvider && (\n            <PanelAlert type=\"info\">\n              {tct(\n                'Get started with Single Sign-on for your organization by selecting a provider. Read more in our [link:SSO documentation].',\n                {\n                  link: (\n                    <ExternalLink href=\"https://docs.sentry.io/product/accounts/sso/\" />\n                  ),\n                }\n              )}\n            </PanelAlert>\n          )}\n\n          {warn2FADisable && (\n            <PanelAlert type=\"warning\">\n              {t('Require 2FA will be disabled if you enable SSO.')}\n            </PanelAlert>\n          )}\n\n          <form\n            action={`/organizations/${organization.slug}/auth/configure/`}\n            method=\"POST\"\n          >\n            <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={getCsrfToken()} />\n            <input type=\"hidden\" name=\"init\" value=\"1\" />\n\n            {list.map(provider => (\n              <ProviderItem\n                key={provider.key}\n                provider={provider}\n                active={!!activeProvider && provider.key === activeProvider.key}\n              />\n            ))}\n            {list.length === 0 && (\n              <EmptyMessage>\n                {t('No authentication providers are available.')}\n              </EmptyMessage>\n            )}\n          </form>\n        </PanelBody>\n      </Panel>\n    </div>\n  );\n}\n\nexport default withOrganization(OrganizationAuthList);\n","import {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {t} from 'sentry/locale';\nimport {AuthProvider, Organization} from 'sentry/types';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport DeprecatedAsyncView from 'sentry/views/deprecatedAsyncView';\n\nimport OrganizationAuthList from './organizationAuthList';\n\ntype Props = DeprecatedAsyncView['props'] & {\n  organization: Organization;\n};\n\ntype State = DeprecatedAsyncView['state'] & {\n  provider: AuthProvider | null;\n  providerList: AuthProvider[] | null;\n};\n\nclass OrganizationAuth extends DeprecatedAsyncView<Props, State> {\n  componentDidUpdate() {\n    const {organization} = this.props;\n    const access = organization.access;\n\n    if (this.state.provider && access.includes('org:write')) {\n      // If SSO provider is configured, keep showing loading while we redirect\n      // to django configuration view\n      // XXX: This does not need to be normalized for customer-domains because we're going\n      // to a django rendered view.\n      const path = `/organizations/${organization.slug}/auth/configure/`;\n\n      // Use replace so we don't go back to the /settings/auth and hit this path again.\n      window.location.replace(path);\n    }\n  }\n\n  getEndpoints(): ReturnType<DeprecatedAsyncView['getEndpoints']> {\n    const {organization} = this.props;\n    return [\n      ['providerList', `/organizations/${organization.slug}/auth-providers/`],\n      ['provider', `/organizations/${organization.slug}/auth-provider/`],\n    ];\n  }\n\n  getTitle() {\n    return routeTitleGen(t('Auth Settings'), this.props.organization.slug, false);\n  }\n\n  /**\n   * TODO(epurkhiser): This does not work right now as we still fallback to the\n   * old SSO auth configuration page\n   */\n  handleSendReminders = (_provider: AuthProvider) => {\n    const {organization} = this.props;\n    this.setState({sendRemindersBusy: true});\n\n    this.api.request(\n      `/organizations/${organization.slug}/auth-provider/send-reminders/`,\n      {\n        method: 'POST',\n        data: {},\n        success: () => addSuccessMessage(t('Sent reminders to members')),\n        error: () => addErrorMessage(t('Failed to send reminders')),\n        complete: () => this.setState({sendRemindersBusy: false}),\n      }\n    );\n  };\n\n  /**\n   * TODO(epurkhiser): This does not work right now as we still fallback to the\n   * old SSO auth configuration page\n   */\n  handleConfigure = (provider: AuthProvider) => {\n    const {organization} = this.props;\n    this.setState({busy: true});\n\n    this.api.request(`/organizations/${organization.slug}/auth-provider/`, {\n      method: 'POST',\n      data: {provider, init: true},\n      success: data => {\n        // Redirect to auth provider URL\n        if (data && data.auth_url) {\n          window.location.href = data.auth_url;\n        }\n      },\n      error: () => {\n        this.setState({busy: false});\n      },\n    });\n  };\n\n  /**\n   * TODO(epurkhiser): This does not work right now as we still fallback to the\n   * old SSO auth configuration page\n   */\n  handleDisableProvider = (provider: AuthProvider) => {\n    const {organization} = this.props;\n    this.setState({busy: true});\n\n    this.api.request(`/organizations/${organization.slug}/auth-provider/`, {\n      method: 'DELETE',\n      data: {provider},\n      success: () => {\n        this.setState({provider: null, busy: false});\n      },\n      error: () => {\n        this.setState({busy: false});\n      },\n    });\n  };\n\n  renderBody() {\n    const {providerList, provider} = this.state;\n\n    if (providerList === null) {\n      return null;\n    }\n\n    if (this.props.organization.access.includes('org:write') && provider) {\n      // If SSO provider is configured, keep showing loading while we redirect\n      // to django configuration view\n      return this.renderLoading();\n    }\n\n    const activeProvider = providerList?.find(p => p.key === provider?.key);\n\n    return (\n      <OrganizationAuthList activeProvider={activeProvider} providerList={providerList} />\n    );\n  }\n}\n\nexport default withOrganization(OrganizationAuth);\n"],"names":["getPadding","_ref","disablePadding","hasButtons","css","space","_styled","target","p","lightText","theme","gray300","gray400","fontSizeSmall","border","panelBorderRadius","backgroundSecondary","routeName","orgSlug","projectSlug","arguments","length","undefined","tmplBase","tmpl","DeprecatedAsyncView","DeprecatedAsyncComponent","getTitle","render","_jsx","SentryDocumentTitle","title","this","children","renderComponent","displayName","PermissionAlert","access","message","t","props","Access","_ref2","hasAccess","Alert","type","showIcon","ProviderItem","provider","active","onConfigure","handleConfigure","e","key","renderDisabledLock","LockedFeature","features","defaultRenderInstallButton","hasFeature","_ref3","Button","name","size","value","disabled","onClick","featureKey","requiredFeature","hookName","descopeFeatureName","featureProps","Feature","filter","f","renderDisabled","_ref4","_ref5","renderInstallButton","_jsxs","PanelItem","center","ProviderInfo","ProviderLogo","className","replace","toLowerCase","ProviderName","ProviderDescription","providerName","FeatureBadge","ActiveIndicator","styles","subText","green300","white","defaultProps","DisabledHovercard","Hovercard","_ref6","containerClassName","body","FeatureDisabled","hideHelpToggle","featureName","Tag","role","icon","IconLock","isSolid","PROVIDER_POPULARITY","google","github","okta","saml2","onelogin","rippling","auth0","jumpcloud","OrganizationAuthList","organization","providerList","activeProvider","list","sort","a","b","aEnabled","includes","warn2FADisable","require2FA","some","SettingsPageHeader","Panel","PanelHeader","PanelBody","PanelAlert","tct","link","ExternalLink","href","action","slug","method","getCsrfToken","map","EmptyMessage","withOrganization","OrganizationAuth","constructor","_defineProperty","_provider","setState","sendRemindersBusy","api","request","data","success","addSuccessMessage","error","addErrorMessage","complete","busy","init","auth_url","window","location","componentDidUpdate","state","path","getEndpoints","routeTitleGen","renderBody","renderLoading","find"],"sourceRoot":""}