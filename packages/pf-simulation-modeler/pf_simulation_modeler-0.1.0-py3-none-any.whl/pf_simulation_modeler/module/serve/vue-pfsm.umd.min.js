(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["pfsm"]=t():e["pfsm"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fae3")}({ec27:function(e,t,i){"use strict";i("fe80")},fae3:function(e,t,i){"use strict";if(i.r(t),i.d(t,"install",(function(){return O})),"undefined"!==typeof window){var n=window.document.currentScript,a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(i.p=a[1])}var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[i("v-row",{staticClass:"fill-height flex-nowrap"},[i("v-col",{staticClass:"fill-height d-flex flex-column",attrs:{cols:"12",sm:"4"}},[i("v-toolbar",{staticClass:"flex-grow-0",attrs:{dense:"",flat:""}},[i("v-text-field",{attrs:{label:"Search","prepend-icon":"mdi-magnify"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),i("v-btn",{staticClass:"ml-2 align-self-start",attrs:{outlined:"",small:"",icon:""},on:{click:e.newFile}},[i("v-icon",[e._v(" mdi-plus")])],1)],1),i("v-divider"),i("v-list",[i("v-list-item-group",{attrs:{value:e.value?e.value.id:""},on:{change:e.selectFile}},[e._l(e.files,(function(t,n){return[e.searchMatch(t)?i("v-list-item",{key:t.id,attrs:{value:t.id}},[i("div",{staticClass:"d-flex flex-column align-start py-2"},[i("v-icon",{staticClass:"pr-2"},[e._v(" "+e._s(e.iconFromType(t.type))+" ")]),t.dateUploaded?i("span",{staticClass:"text-caption font-weight-thin"},[e._v(" "+e._s(new Date(t.dateUploaded).toLocaleDateString())+" ")]):e._e(),i("span",{staticClass:"text-caption font-weight-thin"},[e._v(" "+e._s(t.category)+" ")])],1),i("v-list-item-content",{staticClass:"pl-2"},[i("v-list-item-title",[e._v(e._s(t.name))]),i("v-list-item-subtitle",[e._v(" "+e._s(t.description)+" ")])],1),i("v-icon",{staticClass:"ml-2",on:{click:function(i){return e.removeFile(t.id)}}},[e._v(" mdi-delete ")])],1):e._e(),i("v-divider",{key:"divider-"+n})]}))],2)],1)],1),i("v-col",{staticStyle:{"border-left":"1px solid grey"},attrs:{cols:"12",sm:"8"}},[e.value?e.value.id?i("v-container",{staticClass:"fill-height"},[i("v-row",{staticClass:"justify-start flex-nowrap align-self-start"},[i("v-col",{staticClass:"align-center",attrs:{cols:"12",sm:"7"}},[i("v-text-field",{attrs:{label:"Name",outlined:""},model:{value:e.formContent.name,callback:function(t){e.$set(e.formContent,"name",t)},expression:"formContent.name"}}),i("DragAndDropFiles",{staticClass:"flex-grow-1 text-caption mx-auto",attrs:{disabled:e.formContent.useLocalFile,file:e.file},on:{uploaded:e.uploaded}}),i("v-divider",{staticStyle:{margin:"1rem"}}),i("v-checkbox",{attrs:{label:"Specify a local file on the server"},model:{value:e.formContent.useLocalFile,callback:function(t){e.$set(e.formContent,"useLocalFile",t)},expression:"formContent.useLocalFile"}}),i("v-text-field",{attrs:{label:"File path on server",disabled:!e.formContent.useLocalFile,outlined:""},model:{value:e.formContent.localFile,callback:function(t){e.$set(e.formContent,"localFile",t)},expression:"formContent.localFile"}}),e.error?i("v-alert",{attrs:{dense:"",outlined:"",type:"error"}},[e._v(e._s(e.error))]):e._e()],1),i("v-col",{attrs:{cols:"12",sm:"5"}},[i("v-select",{attrs:{label:"Category",items:e.fileCategories,filled:""},model:{value:e.formContent.category,callback:function(t){e.$set(e.formContent,"category",t)},expression:"formContent.category"}}),i("v-row",{staticClass:"flex-nowrap"},[i("v-list",{staticClass:"text-caption",attrs:{dense:""}},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",[e._v(" Origin")])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",[e._v(" Uploaded")])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",[e._v(" Modified")])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",[e._v(" Type")])],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-list-item-subtitle",[e._v(" Size")])],1)],1)],1),i("v-list",{staticClass:"text-caption font-weight-bold",attrs:{dense:""}},[i("v-list-item",[e._v(" "+e._s(e.origin)+" ")]),i("v-list-item",[e._v(" "+e._s(e.dateUploaded)+" ")]),i("v-list-item",[e._v(" "+e._s(e.dateModified)+" ")]),i("v-list-item",[e._v(" "+e._s(e.type)+" ")]),i("v-list-item",[e._v(" "+e._s(e.size)+" ")])],1)],1)],1)],1),i("v-row",{staticClass:"pa-4 grey lighten-3"},[i("v-textarea",{attrs:{label:"Description"},model:{value:e.formContent.description,callback:function(t){e.$set(e.formContent,"description",t)},expression:"formContent.description"}})],1),i("v-row",{staticClass:"mt-auto pt-8"},[i("v-btn",{staticClass:"white--text",attrs:{text:"",elevation:"2",color:"grey"},on:{click:e.downloadSelectedFile}},[e._v(" Download ")]),i("v-btn",{staticClass:"ml-auto mr-2 white--text",attrs:{text:"",elevation:"2",color:"red"},on:{click:e.resetSelectedFile}},[e._v(" Cancel ")]),i("v-btn",{attrs:{text:"",elevation:"2",color:"primary"},on:{click:e.save}},[e._v(" "+e._s("Save")+" ")])],1)],1):e._e():i("div",{staticClass:"font-weight-medium flex-column d-flex justify-center align-center\n        fill-height"},[e.hasFiles?i("span",[e._v("No file selected. Select one or ")]):i("span",[e._v("No files in database ")]),i("a",{on:{click:e.newFile}},[e._v(" (Add a file) ")])])],1)],1)],1)},s=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.file?i("div",{class:["dropZone-uploaded",e.disabled?"dropZone-disabled":""]},[i("div",{staticClass:"dropZone-uploaded-info"},[i("span",{staticClass:"dropZone-title"},[e._v("Uploaded")]),i("button",{staticClass:"btn btn-primary removeFile",attrs:{type:"button"},on:{click:e.removeFile}},[e._v(" Remove File ")])])]):i("div",{class:["dropZone",e.dragging?"dropZone-over":"",e.disabled?"dropZone-disabled":""],on:{dragenter:function(t){e.dragging=!0},dragleave:function(t){e.dragging=!1}}},[i("div",{staticClass:"dropZone-info",on:{drag:e.onChange}},[i("span",{staticClass:"dropZone-title"},[e._v("Drop file or click to upload")])]),i("input",{attrs:{disabled:e.disabled,type:"file"},on:{change:e.onChange}})])},r=[],c={name:"DragNDropFiles",props:["file","disabled"],data:()=>({dragging:!1}),methods:{onChange(e){var t=e.target.files||e.dataTransfer.files;this.dragging=!1,this.disabled||t.length&&this.createFile(t[0])},createFile(e){this.$emit("uploaded",e)},removeFile(){this.createFile(void 0)}},computed:{extension(){return this.file?this.file.name.split(".").pop():""}}},d=c;i("ec27");function u(e,t,i,n,a,l,s,o){var r,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),l&&(c._scopeId="data-v-"+l),s?(r=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=r):a&&(r=o?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),r)if(c.functional){c._injectStyles=r;var d=c.render;c.render=function(e,t){return r.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,r):[r]}return{exports:e,options:c}}var f=u(d,o,r,!1,null,null,null),v=f.exports,p={name:"FileDatabase",components:{DragAndDropFiles:v},props:["files","fileCategories","value","error"],data(){return{searchQuery:"",fileStats:{},file:null,formContent:this.value||{}}},methods:{iconFromType(e){return"zip"===e?"mdi-folder-zip":"folder"===e?"mdi-folder":"mdi-file"},searchMatch(e){if(""===this.searchQuery)return!0;const t=new RegExp(this.searchQuery),i=[e.name,e.description,e.category,e.type];for(var n=0;n<i.length;n++)if(i[n]&&i[n].search(t)>-1)return!0;return!1},uploaded(e){this.fileStats=e?{size:e.size,origin:e.name,dateModified:e.lastModified,dateUploaded:Number(new Date),type:"application/zip"===e.type?"zip":"file"}:{},this.file=e},selectFile(e){this.trame.trigger("updateFile",["selectFile",e])},removeFile(e){this.trame.trigger("updateFile",["removeFile",e])},downloadSelectedFile(){this.trame.trigger("updateFile",["downloadSelectedFile",this.value.id])},resetSelectedFile(){this.file=null,this.fileStats={}},newFile(){this.fileStats={};let e="unnamed file",t=1;const i=Object.values(this.files);while(i.find(i=>i.name===e+" "+t))t++;e=e+" "+t,this.$emit("input",{name:e,description:"",origin:null,size:null,dateModified:null,dateUploaded:null,type:null,gridSize:null,category:null})},save(){const{useLocalFile:e,copyLocalFile:t,localFile:i,origin:n,dateModified:a,dateUploaded:l,type:s,size:o,...r}=this.formContent;if(!e&&this.file)this.trame.trigger("uploadFile",[this.value.id,this.file]),this.resetSelectedFile();else if(e&&i){const e={copyLocalFile:t,localFile:i,type:"file"};this.trame.trigger("uploadLocalFile",[this.value.id,e])}this.$emit("input",{...r})},cancel(){this.formContent={...this.value||{}},this.resetSelectedFile()}},computed:{origin(){return this.fileStats.origin||this.formContent.origin},dateUploaded(){const e=this.fileStats.dateUploaded||this.formContent.dateUploaded;return e?new Date(e).toLocaleDateString():e},dateModified(){const e=this.fileStats.dateModified||this.formContent.dateModified;return e?new Date(e).toLocaleDateString():e},type(){return this.fileStats.type||this.formContent.type},size(){return this.fileStats.size||this.formContent.size},hasFiles(){return Object.keys(this.files).length>0}},watch:{value(){this.cancel()}},inject:["trame"]},m=p,h=u(m,l,s,!1,null,null,null),g=h.exports,C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pa-6 fill-height",staticStyle:{overflow:"hide"}},[i("v-container",{staticClass:"mt-8"},[i("v-row",{staticClass:"justify-center"},[i("div",{staticClass:"text-h4"},[e._v("What do you want to Model?")])]),i("v-row",{staticClass:"justify-center"},[i("div",{staticClass:"pt-2 text-subtitle-2 grey--text"},[e._v(" These shortcuts will fill in a few keys before you start. ")])]),i("v-row",{staticClass:"justify-center align-center pt-6"},[i("div",{staticClass:"text-h5 pr-4"},[e._v("Features")]),i("v-checkbox",{staticClass:"pa-4",attrs:{label:"Wells"},on:{change:e.updateFormContent},model:{value:e.formContent.wells,callback:function(t){e.$set(e.formContent,"wells",t)},expression:"formContent.wells"}}),i("v-checkbox",{staticClass:"pa-4",attrs:{label:"Climate"},on:{change:e.updateFormContent},model:{value:e.formContent.climate,callback:function(t){e.$set(e.formContent,"climate",t)},expression:"formContent.climate"}}),i("v-checkbox",{staticClass:"pa-4",attrs:{label:"Contaminants"},on:{change:e.updateFormContent},model:{value:e.formContent.contaminants,callback:function(t){e.$set(e.formContent,"contaminants",t)},expression:"formContent.contaminants"}})],1),i("v-row",{staticClass:"justify-center align-center"},[i("div",{staticClass:"text-h5 pr-4"},[e._v("Saturation")]),i("v-radio-group",{staticClass:"pa-4",attrs:{row:""},on:{change:e.updateFormContent},model:{value:e.formContent.saturated,callback:function(t){e.$set(e.formContent,"saturated",t)},expression:"formContent.saturated"}},[i("v-radio",{attrs:{value:"Variably Saturated",label:"Variably Saturated"}}),i("v-radio",{attrs:{value:"Fully Saturated",label:"Fully Saturated"}})],1)],1)],1)],1)},y=[],b={name:"SimulationType",props:["value"],data(){return{formContent:{...this.value||{}}}},methods:{updateFormContent(){this.$emit("input",{...this.formContent})}}},_=b,x=u(_,C,y,!1,null,null,null),w=x.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-flex align-center"},[i("div",{staticClass:"pr-2"},[i("v-btn",{attrs:{outlined:"",small:"",icon:"",disabled:!e.canMoveBackward},on:{click:e.moveBackward}},[i("v-icon",[e._v(" mdi-chevron-left ")])],1)],1),i("div",{staticStyle:{"padding-top":"26px"}},[i("v-select",{staticStyle:{width:"15em"},attrs:{outlined:"",items:e.views,value:e.value,dense:""},on:{change:function(t){return e.$emit("input",t)}}})],1),i("div",{staticClass:"pl-2"},[i("v-btn",{attrs:{outlined:"",small:"",icon:"",color:"primary",disabled:!e.canMoveForward},on:{click:e.moveForward}},[i("v-icon",[e._v(" mdi-chevron-right ")])],1)],1)])},S=[],k={name:"NavigationDropDown",props:["value","views"],data:()=>({}),computed:{canMoveForward(){const e=this.views.indexOf(this.value);return-1!==e&&e<this.views.length-1},canMoveBackward(){const e=this.views.indexOf(this.value);return-1!==e&&e>0}},methods:{moveBackward(){const e=this.views.indexOf(this.value);this.$emit("input",this.views[e-1])},moveForward(){const e=this.views.indexOf(this.value);this.$emit("input",this.views[e+1])}}},$=k,j=u($,F,S,!1,null,null,null),D=j.exports,M={PfFileDatabase:g,PfSimulationType:w,PfNavigationDropDown:D};function O(e){Object.keys(M).forEach(t=>{e.component(t,M[t])})}},fe80:function(e,t,i){}})}));
//# sourceMappingURL=vue-pfsm.umd.min.js.map