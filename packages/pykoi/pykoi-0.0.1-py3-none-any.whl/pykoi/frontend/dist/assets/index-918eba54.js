(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function H(){}const Gn=e=>e;function bt(e,t){for(const n in t)e[n]=t[n];return e}function Jn(e){return e()}function Ot(){return Object.create(null)}function ne(e){e.forEach(Jn)}function Fe(e){return typeof e=="function"}function B(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Cr(e){return Object.keys(e).length===0}function zr(e,...t){if(e==null)return H;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function D(e,t,n){e.$$.on_destroy.push(zr(t,n))}function ge(e,t,n){return e.set(n),t}function Kn(e){return e&&Fe(e.destroy)?e.destroy:H}const Xn=typeof window<"u";let Yn=Xn?()=>window.performance.now():()=>Date.now(),Ct=Xn?e=>requestAnimationFrame(e):H;const Ne=new Set;function Zn(e){Ne.forEach(t=>{t.c(e)||(Ne.delete(t),t.f())}),Ne.size!==0&&Ct(Zn)}function er(e){let t;return Ne.size===0&&Ct(Zn),{promise:new Promise(n=>{Ne.add(t={c:e,f:n})}),abort(){Ne.delete(t)}}}function b(e,t){e.appendChild(t)}function tr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function xr(e){const t=N("style");return Er(tr(e),t),t.sheet}function Er(e,t){return b(e.head||e,t),t.sheet}function F(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function x(){return P(" ")}function he(){return P("")}function W(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Rr(e){return Array.from(e.childNodes)}function V(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ye(e,t){e.value=t??""}function fe(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ze(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function nr(e){const t=e.querySelector(":checked");return t&&t.__value}let je;function Fr(){if(je===void 0){je=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{je=!0}}return je}function Le(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=N("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Fr();let l;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=W(window,"message",o=>{o.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{l=W(r.contentWindow,"resize",t),t()}),b(e,r),()=>{(i||l&&r.contentWindow)&&l(),E(r)}}function Lr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}function Pt(e,t){return new e(t)}const et=new Map;let tt=0;function Hr(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Or(e,t){const n={stylesheet:xr(t),rules:{}};return et.set(e,n),n}function Tt(e,t,n,r,i,l,o,s=0){const a=16.666/r;let u=`{
`;for(let g=0;g<=1;g+=a){const w=t+(n-t)*l(g);u+=g*100+`%{${o(w,1-w)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,h=`__svelte_${Hr(c)}_${s}`,_=tr(e),{stylesheet:d,rules:p}=et.get(_)||Or(_,e);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const v=e.style.animation||"";return e.style.animation=`${v?`${v}, `:""}${h} ${r}ms linear ${i}ms 1 both`,tt+=1,h}function Pr(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?l=>l.indexOf(t)<0:l=>l.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),tt-=i,tt||Tr())}function Tr(){Ct(()=>{tt||(et.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)}),et.clear())})}let Te;function Pe(e){Te=e}function Dr(){if(!Te)throw new Error("Function called outside component initialization");return Te}function ft(e){Dr().$$.on_mount.push(e)}const Me=[],Dt=[];let qe=[];const Vt=[],Vr=Promise.resolve();let yt=!1;function Ir(){yt||(yt=!0,Vr.then(rr))}function Y(e){qe.push(e)}const ht=new Set;let ke=0;function rr(){if(ke!==0)return;const e=Te;do{try{for(;ke<Me.length;){const t=Me[ke];ke++,Pe(t),Wr(t.$$)}}catch(t){throw Me.length=0,ke=0,t}for(Pe(null),Me.length=0,ke=0;Dt.length;)Dt.pop()();for(let t=0;t<qe.length;t+=1){const n=qe[t];ht.has(n)||(ht.add(n),n())}qe.length=0}while(Me.length);for(;Vt.length;)Vt.pop()();yt=!1,ht.clear(),Pe(e)}function Wr(e){if(e.fragment!==null){e.update(),ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}function Br(e){const t=[],n=[];qe.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),qe=t}let Oe;function jr(){return Oe||(Oe=Promise.resolve(),Oe.then(()=>{Oe=null})),Oe}function dt(e,t,n){e.dispatchEvent(Lr(`${t?"intro":"outro"}${n}`))}const Ke=new Set;let ae;function Se(){ae={r:0,c:[],p:ae}}function Ce(){ae.r||ne(ae.c),ae=ae.p}function O(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function T(e,t,n,r){if(e&&e.o){if(Ke.has(e))return;Ke.add(e),ae.c.push(()=>{Ke.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Qr={duration:0};function It(e,t,n,r){const i={direction:"both"};let l=t(e,n,i),o=r?0:1,s=null,a=null,u=null;function c(){u&&Pr(e,u)}function h(d,p){const v=d.b-o;return p*=Math.abs(v),{a:o,b:d.b,d:v,duration:p,start:d.start,end:d.start+p,group:d.group}}function _(d){const{delay:p=0,duration:v=300,easing:g=Gn,tick:w=H,css:m}=l||Qr,M={start:Yn()+p,b:d};d||(M.group=ae,ae.r+=1),s||a?a=M:(m&&(c(),u=Tt(e,o,d,v,p,g,m)),d&&w(0,1),s=h(M,v),Y(()=>dt(e,d,"start")),er(A=>{if(a&&A>a.start&&(s=h(a,v),a=null,dt(e,s.b,"start"),m&&(c(),u=Tt(e,o,s.b,s.duration,0,g,l.css))),s){if(A>=s.end)w(o=s.b,1-o),dt(e,s.b,"end"),a||(s.b?c():--s.group.r||ne(s.group.c)),s=null;else if(A>=s.start){const S=A-s.start;o=s.a+s.d*g(S/s.duration),w(o,1-o)}}return!!(s||a)}))}return{run(d){Fe(l)?jr().then(()=>{l=l(i),_(d)}):_(d)},end(){c(),s=a=null}}}function ir(e,t){e.d(1),t.delete(e.key)}function lr(e,t,n,r,i,l,o,s,a,u,c,h){let _=e.length,d=l.length,p=_;const v={};for(;p--;)v[e[p].key]=p;const g=[],w=new Map,m=new Map,M=[];for(p=d;p--;){const k=h(i,l,p),$=n(k);let y=o.get($);y?r&&M.push(()=>y.p(k,t)):(y=u($,k),y.c()),w.set($,g[p]=y),$ in v&&m.set($,Math.abs(p-v[$]))}const A=new Set,S=new Set;function C(k){O(k,1),k.m(s,c),o.set(k.key,k),c=k.first,d--}for(;_&&d;){const k=g[d-1],$=e[_-1],y=k.key,q=$.key;k===$?(c=k.first,_--,d--):w.has(q)?!o.has(y)||A.has(y)?C(k):S.has(q)?_--:m.get(y)>m.get(q)?(S.add(y),C(k)):(A.add(q),_--):(a($,o),_--)}for(;_--;){const k=e[_];w.has(k.key)||a(k,o)}for(;d;)C(g[d-1]);return ne(M),g}function Ur(e,t){const n={},r={},i={$$scope:1};let l=e.length;for(;l--;){const o=e[l],s=t[l];if(s){for(const a in o)a in s||(r[a]=1);for(const a in s)i[a]||(n[a]=s[a],i[a]=1);e[l]=s}else for(const a in o)i[a]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Gr(e){return typeof e=="object"&&e!==null?e:{}}function X(e){e&&e.c()}function j(e,t,n,r){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),r||Y(()=>{const o=e.$$.on_mount.map(Jn).filter(Fe);e.$$.on_destroy?e.$$.on_destroy.push(...o):ne(o),e.$$.on_mount=[]}),l.forEach(Y)}function Q(e,t){const n=e.$$;n.fragment!==null&&(Br(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Jr(e,t){e.$$.dirty[0]===-1&&(Me.push(e),Ir(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function G(e,t,n,r,i,l,o,s=[-1]){const a=Te;Pe(e);const u=e.$$={fragment:null,ctx:[],props:l,update:H,not_equal:i,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ot(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(h,_,...d)=>{const p=d.length?d[0]:_;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Jr(e,h)),_}):[],u.update(),c=!0,ne(u.before_update),u.fragment=r?r(u.ctx):!1,t.target){if(t.hydrate){const h=Rr(t.target);u.fragment&&u.fragment.l(h),h.forEach(E)}else u.fragment&&u.fragment.c();t.intro&&O(e.$$.fragment),j(e,t.target,t.anchor,t.customElement),rr()}Pe(a)}class J{$destroy(){Q(this,1),this.$destroy=H}$on(t,n){if(!Fe(n))return H;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Cr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $e=[];function pe(e,t=H){let n;const r=new Set;function i(s){if(B(e,s)&&(e=s,n)){const a=!$e.length;for(const u of r)u[1](),$e.push(u,e);if(a){for(let u=0;u<$e.length;u+=2)$e[u][0]($e[u+1]);$e.length=0}}}function l(s){i(s(e))}function o(s,a=H){const u=[s,a];return r.add(u),r.size===1&&(n=t(i)||H),s(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}function or(e){const t=e-1;return t*t*t+1}function Wt(e){return Object.prototype.toString.call(e)==="[object Date]"}function wt(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,l)=>wt(e[l],i));return i=>r.map(l=>l(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Wt(e)&&Wt(t)){e=e.getTime(),t=t.getTime();const l=t-e;return o=>new Date(e+o*l)}const r=Object.keys(t),i={};return r.forEach(l=>{i[l]=wt(e[l],t[l])}),l=>{const o={};return r.forEach(s=>{o[s]=i[s](l)}),o}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function zt(e,t={}){const n=pe(e);let r,i=e;function l(o,s){if(e==null)return n.set(e=o),Promise.resolve();i=o;let a=r,u=!1,{delay:c=0,duration:h=400,easing:_=Gn,interpolate:d=wt}=bt(bt({},t),s);if(h===0)return a&&(a.abort(),a=null),n.set(e=i),Promise.resolve();const p=Yn()+c;let v;return r=er(g=>{if(g<p)return!0;u||(v=d(e,o),typeof h=="function"&&(h=h(e,o)),u=!0),a&&(a.abort(),a=null);const w=g-p;return w>h?(n.set(e=o),!1):(n.set(e=v(_(w/h))),!0)}),r.promise}return{set:l,update:(o,s)=>l(o(i,e),s),subscribe:n.subscribe}}const Z=pe([]),_t=pe([]),se=pe("all"),Bt=pe({"n/a":1,up:1,down:1}),Kr=["Who","What","How","Why","Where","Does","Can","N/A"],kt=zt(Kr.map(e=>({question:e,count:0})));var $t="http://www.w3.org/1999/xhtml";const jt={svg:"http://www.w3.org/2000/svg",xhtml:$t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),jt.hasOwnProperty(t)?{space:jt[t],local:e}:e}function Xr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$t&&t.documentElement.namespaceURI===$t?t.createElement(e):t.createElementNS(n,e)}}function Yr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ar(e){var t=sr(e);return(t.local?Yr:Xr)(t)}function Zr(){}function ur(e){return e==null?Zr:function(){return this.querySelector(e)}}function ei(e){typeof e!="function"&&(e=ur(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,s=r[i]=new Array(o),a,u,c=0;c<o;++c)(a=l[c])&&(u=e.call(a,a.__data__,c,l))&&("__data__"in a&&(u.__data__=a.__data__),s[c]=u);return new te(r,this._parents)}function ti(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ni(){return[]}function ri(e){return e==null?ni:function(){return this.querySelectorAll(e)}}function ii(e){return function(){return ti(e.apply(this,arguments))}}function li(e){typeof e=="function"?e=ii(e):e=ri(e);for(var t=this._groups,n=t.length,r=[],i=[],l=0;l<n;++l)for(var o=t[l],s=o.length,a,u=0;u<s;++u)(a=o[u])&&(r.push(e.call(a,a.__data__,u,o)),i.push(a));return new te(r,i)}function oi(e){return function(){return this.matches(e)}}function fr(e){return function(t){return t.matches(e)}}var si=Array.prototype.find;function ai(e){return function(){return si.call(this.children,e)}}function ui(){return this.firstElementChild}function fi(e){return this.select(e==null?ui:ai(typeof e=="function"?e:fr(e)))}var ci=Array.prototype.filter;function hi(){return Array.from(this.children)}function di(e){return function(){return ci.call(this.children,e)}}function _i(e){return this.selectAll(e==null?hi:di(typeof e=="function"?e:fr(e)))}function gi(e){typeof e!="function"&&(e=oi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,s=r[i]=[],a,u=0;u<o;++u)(a=l[u])&&e.call(a,a.__data__,u,l)&&s.push(a);return new te(r,this._parents)}function cr(e){return new Array(e.length)}function pi(){return new te(this._enter||this._groups.map(cr),this._parents)}function nt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nt.prototype={constructor:nt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function mi(e){return function(){return e}}function vi(e,t,n,r,i,l){for(var o=0,s,a=t.length,u=l.length;o<u;++o)(s=t[o])?(s.__data__=l[o],r[o]=s):n[o]=new nt(e,l[o]);for(;o<a;++o)(s=t[o])&&(i[o]=s)}function bi(e,t,n,r,i,l,o){var s,a,u=new Map,c=t.length,h=l.length,_=new Array(c),d;for(s=0;s<c;++s)(a=t[s])&&(_[s]=d=o.call(a,a.__data__,s,t)+"",u.has(d)?i[s]=a:u.set(d,a));for(s=0;s<h;++s)d=o.call(e,l[s],s,l)+"",(a=u.get(d))?(r[s]=a,a.__data__=l[s],u.delete(d)):n[s]=new nt(e,l[s]);for(s=0;s<c;++s)(a=t[s])&&u.get(_[s])===a&&(i[s]=a)}function yi(e){return e.__data__}function wi(e,t){if(!arguments.length)return Array.from(this,yi);var n=t?bi:vi,r=this._parents,i=this._groups;typeof e!="function"&&(e=mi(e));for(var l=i.length,o=new Array(l),s=new Array(l),a=new Array(l),u=0;u<l;++u){var c=r[u],h=i[u],_=h.length,d=ki(e.call(c,c&&c.__data__,u,r)),p=d.length,v=s[u]=new Array(p),g=o[u]=new Array(p),w=a[u]=new Array(_);n(c,h,v,g,w,d,t);for(var m=0,M=0,A,S;m<p;++m)if(A=v[m]){for(m>=M&&(M=m+1);!(S=g[M])&&++M<p;);A._next=S||null}}return o=new te(o,r),o._enter=s,o._exit=a,o}function ki(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $i(){return new te(this._exit||this._groups.map(cr),this._parents)}function Mi(e,t,n){var r=this.enter(),i=this,l=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?l.remove():n(l),r&&i?r.merge(i).order():i}function Ai(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,l=r.length,o=Math.min(i,l),s=new Array(i),a=0;a<o;++a)for(var u=n[a],c=r[a],h=u.length,_=s[a]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(_[p]=d);for(;a<i;++a)s[a]=n[a];return new te(s,this._parents)}function Ni(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,l=r[i],o;--i>=0;)(o=r[i])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function qi(e){e||(e=Si);function t(h,_){return h&&_?e(h.__data__,_.__data__):!h-!_}for(var n=this._groups,r=n.length,i=new Array(r),l=0;l<r;++l){for(var o=n[l],s=o.length,a=i[l]=new Array(s),u,c=0;c<s;++c)(u=o[c])&&(a[c]=u);a.sort(t)}return new te(i,this._parents).order()}function Si(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ci(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zi(){return Array.from(this)}function xi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length;i<l;++i){var o=r[i];if(o)return o}return null}function Ei(){let e=0;for(const t of this)++e;return e}function Ri(){return!this.node()}function Fi(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],l=0,o=i.length,s;l<o;++l)(s=i[l])&&e.call(s,s.__data__,l,i);return this}function Li(e){return function(){this.removeAttribute(e)}}function Hi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oi(e,t){return function(){this.setAttribute(e,t)}}function Pi(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ti(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Di(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Vi(e,t){var n=sr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Hi:Li:typeof t=="function"?n.local?Di:Ti:n.local?Pi:Oi)(n,t))}function hr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ii(e){return function(){this.style.removeProperty(e)}}function Wi(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bi(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ji(e,t,n){return arguments.length>1?this.each((t==null?Ii:typeof t=="function"?Bi:Wi)(e,t,n??"")):Qi(this.node(),e)}function Qi(e,t){return e.style.getPropertyValue(t)||hr(e).getComputedStyle(e,null).getPropertyValue(t)}function Ui(e){return function(){delete this[e]}}function Gi(e,t){return function(){this[e]=t}}function Ji(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ki(e,t){return arguments.length>1?this.each((t==null?Ui:typeof t=="function"?Ji:Gi)(e,t)):this.node()[e]}function dr(e){return e.trim().split(/^|\s+/)}function xt(e){return e.classList||new _r(e)}function _r(e){this._node=e,this._names=dr(e.getAttribute("class")||"")}_r.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gr(e,t){for(var n=xt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pr(e,t){for(var n=xt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Xi(e){return function(){gr(this,e)}}function Yi(e){return function(){pr(this,e)}}function Zi(e,t){return function(){(t.apply(this,arguments)?gr:pr)(this,e)}}function el(e,t){var n=dr(e+"");if(arguments.length<2){for(var r=xt(this.node()),i=-1,l=n.length;++i<l;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Zi:t?Xi:Yi)(n,t))}function tl(){this.textContent=""}function nl(e){return function(){this.textContent=e}}function rl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function il(e){return arguments.length?this.each(e==null?tl:(typeof e=="function"?rl:nl)(e)):this.node().textContent}function ll(){this.innerHTML=""}function ol(e){return function(){this.innerHTML=e}}function sl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function al(e){return arguments.length?this.each(e==null?ll:(typeof e=="function"?sl:ol)(e)):this.node().innerHTML}function ul(){this.nextSibling&&this.parentNode.appendChild(this)}function fl(){return this.each(ul)}function cl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hl(){return this.each(cl)}function dl(e){var t=typeof e=="function"?e:ar(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _l(){return null}function gl(e,t){var n=typeof e=="function"?e:ar(e),r=t==null?_l:typeof t=="function"?t:ur(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pl(){var e=this.parentNode;e&&e.removeChild(this)}function ml(){return this.each(pl)}function vl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yl(e){return this.select(e?bl:vl)}function wl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kl(e){return function(t){e.call(this,t,this.__data__)}}function $l(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Ml(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,l;n<i;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++r]=l;++r?t.length=r:delete this.__on}}}function Al(e,t,n){return function(){var r=this.__on,i,l=kl(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=t;return}}this.addEventListener(e.type,l,n),i={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(i):this.__on=[i]}}function Nl(e,t,n){var r=$l(e+""),i,l=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,c;a<u;++a)for(i=0,c=s[a];i<l;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=t?Al:Ml,i=0;i<l;++i)this.each(s(r[i],t,n));return this}function mr(e,t,n){var r=hr(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ql(e,t){return function(){return mr(this,e,t)}}function Sl(e,t){return function(){return mr(this,e,t.apply(this,arguments))}}function Cl(e,t){return this.each((typeof t=="function"?Sl:ql)(e,t))}function*zl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length,o;i<l;++i)(o=r[i])&&(yield o)}var xl=[null];function te(e,t){this._groups=e,this._parents=t}function El(){return this}te.prototype={constructor:te,select:ei,selectAll:li,selectChild:fi,selectChildren:_i,filter:gi,data:wi,enter:pi,exit:$i,join:Mi,merge:Ai,selection:El,order:Ni,sort:qi,call:Ci,nodes:zi,node:xi,size:Ei,empty:Ri,each:Fi,attr:Vi,style:ji,property:Ki,classed:el,text:il,html:al,raise:fl,lower:hl,append:dl,insert:gl,remove:ml,clone:yl,datum:wl,on:Nl,dispatch:Cl,[Symbol.iterator]:zl};function rt(e){return typeof e=="string"?new te([[document.querySelector(e)]],[document.documentElement]):new te([[e]],xl)}function Qt(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function Ut(e){let t,n,r,i,l,o;function s(...u){return e[8](e[15],...u)}function a(...u){return e[9](e[15],...u)}return{c(){t=N("div"),n=N("button"),n.textContent="👍",r=x(),i=N("button"),i.textContent="👎",f(n,"class","small-button thumbs-up svelte-9ap43o"),f(i,"class","small-button thumbs-down svelte-9ap43o"),f(t,"class","feedback-buttons svelte-9ap43o")},m(u,c){F(u,t,c),b(t,n),b(t,r),b(t,i),l||(o=[W(n,"click",s),W(i,"click",a)],l=!0)},p(u,c){e=u},d(u){u&&E(t),l=!1,ne(o)}}}function Gt(e,t){let n,r,i,l,o,s,a,u,c,h=t[13].question+"",_,d,p,v,g,w,m,M=t[13].answer+"",A,S,C,k,$,y,q=t[0]&&Ut(t);return{key:e,first:null,c(){n=N("div"),r=N("div"),i=N("div"),l=x(),o=N("div"),s=N("div"),a=N("h5"),a.textContent="Question:",u=x(),c=N("p"),_=P(h),d=x(),p=N("div"),v=N("div"),g=N("h5"),g.textContent="Response:",w=x(),m=N("p"),A=P(M),S=x(),q&&q.c(),C=x(),f(i,"class","avatar"),f(a,"class","bold svelte-9ap43o"),f(s,"class","question svelte-9ap43o"),f(g,"class","bold svelte-9ap43o"),f(v,"class","answer svelte-9ap43o"),f(p,"class","answers svelte-9ap43o"),f(o,"class","message-content svelte-9ap43o"),f(r,"class","chat-message-center svelte-9ap43o"),f(n,"class","chat-message svelte-9ap43o"),this.first=n},m(z,L){F(z,n,L),b(n,r),b(r,i),b(r,l),b(r,o),b(o,s),b(s,a),b(s,u),b(s,c),b(c,_),b(o,d),b(o,p),b(p,v),b(v,g),b(v,w),b(v,m),b(m,A),b(v,S),q&&q.m(v,null),b(n,C),$||(y=Kn(k=Fl.call(null,n,t[15]===t[4].length-1)),$=!0)},p(z,L){t=z,L&16&&h!==(h=t[13].question+"")&&V(_,h),L&16&&M!==(M=t[13].answer+"")&&V(A,M),t[0]?q?q.p(t,L):(q=Ut(t),q.c(),q.m(v,null)):q&&(q.d(1),q=null),k&&Fe(k.update)&&L&16&&k.update.call(null,t[15]===t[4].length-1)},d(z){z&&E(n),q&&q.d(),$=!1,y()}}}function Rl(e){let t,n,r,i,l,o,s=[],a=new Map,u,c,h,_,d,p,v=(e[2]?e[3]:"Send")+"",g,w,m,M,A,S,C=e[4];const k=$=>$[15];for(let $=0;$<C.length;$+=1){let y=Qt(e,C,$),q=k(y);a.set(q,s[$]=Gt(q,y))}return{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-9ap43o">Vote Feedback Instructions</h5> 
    <p class="svelte-9ap43o">Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-9ap43o">👍</span>
      button. If the repsonse is not satisfactory, click on the
      <span class="inline-button red svelte-9ap43o">👎</span> button.</p> 
    <button class="svelte-9ap43o">Download Data</button>`,r=x(),i=N("div"),l=N("section"),o=N("div");for(let $=0;$<s.length;$+=1)s[$].c();u=x(),c=N("div"),h=N("form"),_=N("input"),d=x(),p=N("button"),g=P(v),m=x(),M=N("p"),M.textContent="Note - may produce inaccurate information.",f(n,"class","instructions svelte-9ap43o"),f(o,"class","chat-log svelte-9ap43o"),f(l,"class","chatbox svelte-9ap43o"),f(_,"class","chat-input-textarea svelte-9ap43o"),f(_,"placeholder","Type Question Here"),f(p,"class",w="btnyousend "+(e[1]===""?"":"active")+" svelte-9ap43o"),f(p,"type","submit"),f(h,"class","chat-input-form svelte-9ap43o"),f(M,"class","message svelte-9ap43o"),f(c,"class","chat-input-holder svelte-9ap43o"),f(i,"class","ranked-chat svelte-9ap43o"),f(t,"class","ranked-feedback-container svelte-9ap43o")},m($,y){F($,t,y),b(t,n),b(t,r),b(t,i),b(i,l),b(l,o);for(let q=0;q<s.length;q+=1)s[q]&&s[q].m(o,null);b(i,u),b(i,c),b(c,h),b(h,_),Ye(_,e[1]),b(h,d),b(h,p),b(p,g),b(c,m),b(c,M),A||(S=[W(_,"input",e[10]),W(h,"submit",e[5])],A=!0)},p($,[y]){y&81&&(C=$[4],s=lr(s,y,k,1,$,C,a,o,ir,Gt,null,Qt)),y&2&&_.value!==$[1]&&Ye(_,$[1]),y&12&&v!==(v=($[2]?$[3]:"Send")+"")&&V(g,v),y&2&&w!==(w="btnyousend "+($[1]===""?"":"active")+" svelte-9ap43o")&&f(p,"class",w)},i:H,o:H,d($){$&&E(t);for(let y=0;y<s.length;y+=1)s[y].d();A=!1,ne(S)}}}function Fl(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Ll(e){const t=await fetch("/chat/qa_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function Hl(e,t,n){let r,i;D(e,Z,g=>n(4,i=g));let{feedback:l=!1}=t,o="",s="",a=!1;ft(()=>{u()});async function u(){const M=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(A=>({id:A[0],question:A[1],answer:A[2],vote_status:A[3]}));ge(Z,i=[...M],i)}const c=async g=>{g.preventDefault(),o=s,n(1,s=""),n(2,a=!0);let w={id:i.length+1,question:o,answer:"Loading...",vote_status:"na"};ge(Z,i=[...i,w],i);const m=await fetch(`/chat/${o}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o})});if(m.ok){const M=await m.json();w.answer=M.answer,Z.update(A=>(A[A.length-1]=w,A))}else{const M=await m.text();alert(M)}n(2,a=!1)};let h=0;setInterval(()=>{n(7,h=(h+1)%4)},200);function _(g,w,m){const M=i[m];M.vote=w;const A={id:m+1,vote_status:w};Ll(A),rt(g.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),rt(g.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}const d=(g,w)=>_(w,"up",g),p=(g,w)=>_(w,"down",g);function v(){s=this.value,n(1,s)}return e.$$set=g=>{"feedback"in g&&n(0,l=g.feedback)},e.$$.update=()=>{e.$$.dirty&128&&n(3,r=".".repeat(h).padEnd(3))},[l,s,a,r,i,c,_,h,d,p,v]}class vr extends J{constructor(t){super(),G(this,t,Hl,Rl,B,{feedback:0})}}function Jt(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function Kt(e,t){let n,r,i,l,o,s,a,u,c,h=t[14].question+"",_,d,p,v,g,w,m,M=t[14].up_ranking_answer+"",A,S,C,k,$,y,q=t[14].low_ranking_answer+"",z,L,I,le,He;function ve(...K){return t[7](t[14],t[16],...K)}function be(...K){return t[8](t[14],t[16],...K)}function ye(...K){return t[9](t[14],t[16],...K)}function re(...K){return t[10](t[14],t[16],...K)}return{key:e,first:null,c(){n=N("div"),r=N("div"),i=N("div"),l=x(),o=N("div"),s=N("div"),a=N("h5"),a.textContent="Question:",u=x(),c=N("p"),_=P(h),d=x(),p=N("div"),v=N("div"),g=N("h5"),g.textContent="Response 1:",w=x(),m=N("p"),A=P(M),S=x(),C=N("div"),k=N("h5"),k.textContent="Response 2:",$=x(),y=N("p"),z=P(q),L=x(),f(i,"class","avatar"),f(a,"class","bold svelte-au920n"),f(s,"class","question svelte-au920n"),f(g,"class","bold underline svelte-au920n"),f(v,"class","answer svelte-au920n"),f(k,"class","bold underline svelte-au920n"),f(C,"class","answer svelte-au920n"),f(p,"class","answers svelte-au920n"),f(o,"class","message-content svelte-au920n"),f(r,"class","chat-message-center svelte-au920n"),f(n,"class","chat-message svelte-au920n"),this.first=n},m(K,we){F(K,n,we),b(n,r),b(r,i),b(r,l),b(r,o),b(o,s),b(s,a),b(s,u),b(s,c),b(c,_),b(o,d),b(o,p),b(p,v),b(v,g),b(v,w),b(v,m),b(m,A),b(p,S),b(p,C),b(C,k),b(C,$),b(C,y),b(y,z),b(n,L),le||(He=[W(v,"click",ve),W(v,"keydown",be),W(C,"click",ye),W(C,"keydown",re),Kn(I=Pl.call(null,n,t[16]===t[3].length-1))],le=!0)},p(K,we){t=K,we&8&&h!==(h=t[14].question+"")&&V(_,h),we&8&&M!==(M=t[14].up_ranking_answer+"")&&V(A,M),we&8&&q!==(q=t[14].low_ranking_answer+"")&&V(z,q),I&&Fe(I.update)&&we&8&&I.update.call(null,t[16]===t[3].length-1)},d(K){K&&E(n),le=!1,ne(He)}}}function Ol(e){let t,n,r,i,l,o,s=[],a=new Map,u,c,h,_,d,p,v=(e[1]?e[2]:"Send")+"",g,w,m,M,A,S,C=e[3];const k=$=>$[16];for(let $=0;$<C.length;$+=1){let y=Jt(e,C,$),q=k(y);a.set(q,s[$]=Kt(q,y))}return{c(){t=N("div"),n=N("div"),n.innerHTML=`<h5 class="underline bold svelte-au920n">Ranked Feedback Instructions</h5> 
    <p class="svelte-au920n">Ask a question and click on the better of the two responses. The better
      response will be outlined in <span class="green svelte-au920n">green</span>, the worse
      response outlined in <span class="red svelte-au920n">red</span>. This data will be
      automatically fed to RLHF.</p> 
    <button class="svelte-au920n">Download Data</button>`,r=x(),i=N("div"),l=N("section"),o=N("div");for(let $=0;$<s.length;$+=1)s[$].c();u=x(),c=N("div"),h=N("form"),_=N("input"),d=x(),p=N("button"),g=P(v),m=x(),M=N("p"),M.textContent="Note - may produce inaccurate information.",f(n,"class","instructions svelte-au920n"),f(o,"class","chat-log svelte-au920n"),f(l,"class","chatbox svelte-au920n"),f(_,"class","chat-input-textarea svelte-au920n"),f(_,"placeholder","Type Message Here"),f(p,"class",w="btnyousend "+(e[0]===""?"":"active")+" svelte-au920n"),f(p,"type","submit"),f(h,"class","chat-input-form svelte-au920n"),f(M,"class","message svelte-au920n"),f(c,"class","chat-input-holder svelte-au920n"),f(i,"class","ranked-chat svelte-au920n"),f(t,"class","ranked-feedback-container svelte-au920n")},m($,y){F($,t,y),b(t,n),b(t,r),b(t,i),b(i,l),b(l,o);for(let q=0;q<s.length;q+=1)s[q]&&s[q].m(o,null);b(i,u),b(i,c),b(c,h),b(h,_),Ye(_,e[0]),b(h,d),b(h,p),b(p,g),b(c,m),b(c,M),A||(S=[W(_,"input",e[11]),W(h,"submit",e[4])],A=!0)},p($,[y]){y&40&&(C=$[3],s=lr(s,y,k,1,$,C,a,o,ir,Kt,null,Jt)),y&1&&_.value!==$[0]&&Ye(_,$[0]),y&6&&v!==(v=($[1]?$[2]:"Send")+"")&&V(g,v),y&1&&w!==(w="btnyousend "+($[0]===""?"":"active")+" svelte-au920n")&&f(p,"class",w)},i:H,o:H,d($){$&&E(t);for(let y=0;y<s.length;y+=1)s[y].d();A=!1,ne(S)}}}function Pl(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Tl(e){const t=await fetch("/chat/ranking_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();alert(n)}}function Dl(e,t,n){let r,i;D(e,_t,g=>n(3,i=g));let l="",o="",s=!1;ft(()=>{});const a=async g=>{g.preventDefault(),l=o,n(0,o=""),n(1,s=!0);let w={question:l,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};ge(_t,i=[...i,w],i);const m=await fetch(`/chat/ranking_table/${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l})});if(m.ok){const M=await m.json();w.up_ranking_answer=M.answer[0],w.low_ranking_answer=M.answer[1],_t.update(A=>(A[A.length-1]=w,A))}else{const M=await m.text();alert(M)}n(1,s=!1)};let u=0;setInterval(()=>{n(6,u=(u+1)%4)},200);function c(g,w,m,M){const A=i[m],S={1:"up_ranking_answer",2:"low_ranking_answer"},C={question:A.question,up_ranking_answer:A[S[M]],low_ranking_answer:A[S[M%2+1]]};Tl(C),rt(g.currentTarget.parentNode).selectAll("div").style("outline","2px solid var(--red)").style("border","1px solid var(--red)"),rt(g.currentTarget).style("outline","2px solid var(--green)").style("border","1px solid var(--green)")}const h=(g,w,m)=>c(m,g,w,1),_=(g,w,m)=>c(m,g,w,1),d=(g,w,m)=>c(m,g,w,2),p=(g,w,m)=>c(m,g,w,2);function v(){o=this.value,n(0,o)}return e.$$.update=()=>{e.$$.dirty&64&&n(2,r=".".repeat(u).padEnd(3))},[o,s,r,i,a,c,u,h,_,d,p,v]}class Vl extends J{constructor(t){super(),G(this,t,Dl,Ol,B,{})}}function Xt(e){let t,n;return t=new vr({}),{c(){X(t.$$.fragment)},m(r,i){j(t,r,i),n=!0},i(r){n||(O(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){Q(t,r)}}}function Yt(e){let t,n;return t=new vr({props:{feedback:!0}}),{c(){X(t.$$.fragment)},m(r,i){j(t,r,i),n=!0},i(r){n||(O(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){Q(t,r)}}}function Zt(e){let t,n;return t=new Vl({}),{c(){X(t.$$.fragment)},m(r,i){j(t,r,i),n=!0},i(r){n||(O(t.$$.fragment,r),n=!0)},o(r){T(t.$$.fragment,r),n=!1},d(r){Q(t,r)}}}function Il(e){let t,n,r,i,l=!e[0]&&Xt(),o=e[0]==="vote"&&Yt(),s=e[0]==="rank"&&Zt();return{c(){l&&l.c(),t=x(),o&&o.c(),n=x(),s&&s.c(),r=he()},m(a,u){l&&l.m(a,u),F(a,t,u),o&&o.m(a,u),F(a,n,u),s&&s.m(a,u),F(a,r,u),i=!0},p(a,[u]){a[0]?l&&(Se(),T(l,1,1,()=>{l=null}),Ce()):l?u&1&&O(l,1):(l=Xt(),l.c(),O(l,1),l.m(t.parentNode,t)),a[0]==="vote"?o?u&1&&O(o,1):(o=Yt(),o.c(),O(o,1),o.m(n.parentNode,n)):o&&(Se(),T(o,1,1,()=>{o=null}),Ce()),a[0]==="rank"?s?u&1&&O(s,1):(s=Zt(),s.c(),O(s,1),s.m(r.parentNode,r)):s&&(Se(),T(s,1,1,()=>{s=null}),Ce())},i(a){i||(O(l),O(o),O(s),i=!0)},o(a){T(l),T(o),T(s),i=!1},d(a){l&&l.d(a),a&&E(t),o&&o.d(a),a&&E(n),s&&s.d(a),a&&E(r)}}}function Wl(e,t,n){let{feedback:r}=t;return e.$$set=i=>{"feedback"in i&&n(0,r=i.feedback)},[r]}class Bl extends J{constructor(t){super(),G(this,t,Wl,Il,B,{feedback:0})}}function en(e,t,n){const r=e.slice();return r[2]=t[n],r}function tn(e){let t,n=e[2]+"",r,i;return{c(){t=N("option"),r=P(n),t.__value=i=e[2],t.value=t.__value},m(l,o){F(l,t,o),b(t,r)},p(l,o){o&1&&n!==(n=l[2]+"")&&V(r,n),o&1&&i!==(i=l[2])&&(t.__value=i,t.value=t.__value)},d(l){l&&E(t)}}}function jl(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=tn(en(e,n,i));return{c(){t=N("select");for(let i=0;i<r.length;i+=1)r[i].c()},m(i,l){F(i,t,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(t,null)},p(i,[l]){if(l&1){n=i[0];let o;for(o=0;o<n.length;o+=1){const s=en(i,n,o);r[o]?r[o].p(s,l):(r[o]=tn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:H,o:H,d(i){i&&E(t),ee(r,i)}}}function Ql(e,t,n){let{data_endpoint:r}=t,i=[];return ft(async()=>{const l=await fetch(`/data/${r}`);n(0,i=await l.json())}),e.$$set=l=>{"data_endpoint"in l&&n(1,r=l.data_endpoint)},[i,r]}class Ul extends J{constructor(t){super(),G(this,t,Ql,jl,B,{data_endpoint:1})}}function Xe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function br(e){let t,n,r;e.length!==2?(t=Xe,n=(s,a)=>Xe(e(s),a),r=(s,a)=>e(s)-a):(t=e===Xe||e===Gl?e:Jl,n=e,r=e);function i(s,a,u=0,c=s.length){if(u<c){if(t(a,a)!==0)return c;do{const h=u+c>>>1;n(s[h],a)<0?u=h+1:c=h}while(u<c)}return u}function l(s,a,u=0,c=s.length){if(u<c){if(t(a,a)!==0)return c;do{const h=u+c>>>1;n(s[h],a)<=0?u=h+1:c=h}while(u<c)}return u}function o(s,a,u=0,c=s.length){const h=i(s,a,u,c-1);return h>u&&r(s[h-1],a)>-r(s[h],a)?h-1:h}return{left:i,center:o,right:l}}function Jl(){return 0}function Kl(e){return e===null?NaN:+e}const Xl=br(Xe),Yl=Xl.right;br(Kl).center;const yr=Yl;function Zl(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function gt(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let l of e)(l=t(l,++i,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}class nn extends Map{constructor(t,n=no){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rn(this,t))}has(t){return super.has(rn(this,t))}set(t,n){return super.set(eo(this,t),n)}delete(t){return super.delete(to(this,t))}}function rn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function eo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function to({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function no(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ro(e){return e}var io=Array.prototype,lo=io.slice;function pt(e){return()=>e}const oo=Math.sqrt(50),so=Math.sqrt(10),ao=Math.sqrt(2);function it(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),o=l>=oo?10:l>=so?5:l>=ao?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?it(e,t,n*2):[s,a,u]}function wr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,l,o]=r?it(t,e,n):it(e,t,n);if(!(l>=i))return[];const s=l-i+1,a=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)a[u]=(l-u)/-o;else for(let u=0;u<s;++u)a[u]=(l-u)*o;else if(o<0)for(let u=0;u<s;++u)a[u]=(i+u)/-o;else for(let u=0;u<s;++u)a[u]=(i+u)*o;return a}function xe(e,t,n){return t=+t,e=+e,n=+n,it(e,t,n)[2]}function uo(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?xe(t,e,n):xe(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function fo(e,t,n){let r;for(;;){const i=xe(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function co(e){return Math.max(1,Math.ceil(Math.log(Zl(e))/Math.LN2)+1)}function kr(){var e=ro,t=gt,n=co;function r(i){Array.isArray(i)||(i=Array.from(i));var l,o=i.length,s,a,u=new Array(o);for(l=0;l<o;++l)u[l]=e(i[l],l,i);var c=t(u),h=c[0],_=c[1],d=n(u,h,_);if(!Array.isArray(d)){const M=_,A=+d;if(t===gt&&([h,_]=fo(h,_,A)),d=wr(h,_,A),d[0]<=h&&(a=xe(h,_,A)),d[d.length-1]>=_)if(M>=_&&t===gt){const S=xe(h,_,A);isFinite(S)&&(S>0?_=(Math.floor(_/S)+1)*S:S<0&&(_=(Math.ceil(_*-S)+1)/-S))}else d.pop()}for(var p=d.length,v=0,g=p;d[v]<=h;)++v;for(;d[g-1]>_;)--g;(v||g<p)&&(d=d.slice(v,g),p=g-v);var w=new Array(p+1),m;for(l=0;l<=p;++l)m=w[l]=[],m.x0=l>0?d[l-1]:h,m.x1=l<p?d[l]:_;if(isFinite(a)){if(a>0)for(l=0;l<o;++l)(s=u[l])!=null&&h<=s&&s<=_&&w[Math.min(p,Math.floor((s-h)/a))].push(i[l]);else if(a<0){for(l=0;l<o;++l)if((s=u[l])!=null&&h<=s&&s<=_){const M=Math.floor((h-s)*a);w[Math.min(p,M+(d[M]<=s))].push(i[l])}}}else for(l=0;l<o;++l)(s=u[l])!=null&&h<=s&&s<=_&&w[yr(d,s,0,p)].push(i[l]);return w}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:pt(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:pt([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:pt(Array.isArray(i)?lo.call(i):i),r):n},r}function Ee(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ho(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(i);++r<i;)l[r]=e+r*n;return l}function _o(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Re(e){return e=lt(Math.abs(e)),e?e[1]:NaN}function go(e,t){return function(n,r){for(var i=n.length,l=[],o=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>r&&(s=Math.max(1,r-a)),l.push(n.substring(i-=s,i+s)),!((a+=s+1)>r));)s=e[o=(o+1)%e.length];return l.reverse().join(t)}}function po(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ot(e){if(!(t=mo.exec(e)))throw new Error("invalid format: "+e);var t;return new Et({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ot.prototype=Et.prototype;function Et(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $r;function bo(e,t){var n=lt(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-($r=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return l===o?r:l>o?r+new Array(l-o+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+lt(e,Math.max(0,t+l-1))[0]}function ln(e,t){var n=lt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const on={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_o,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ln(e*100,t),r:ln,s:bo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sn(e){return e}var an=Array.prototype.map,un=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yo(e){var t=e.grouping===void 0||e.thousands===void 0?sn:go(an.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?sn:po(an.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ot(h);var _=h.fill,d=h.align,p=h.sign,v=h.symbol,g=h.zero,w=h.width,m=h.comma,M=h.precision,A=h.trim,S=h.type;S==="n"?(m=!0,S="g"):on[S]||(M===void 0&&(M=12),A=!0,S="g"),(g||_==="0"&&d==="=")&&(g=!0,_="0",d="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=v==="$"?r:/[%p]/.test(S)?o:"",$=on[S],y=/[defgprs%]/.test(S);M=M===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(z){var L=C,I=k,le,He,ve;if(S==="c")I=$(z)+I,z="";else{z=+z;var be=z<0||1/z<0;if(z=isNaN(z)?a:$(Math.abs(z),M),A&&(z=vo(z)),be&&+z==0&&p!=="+"&&(be=!1),L=(be?p==="("?p:s:p==="-"||p==="("?"":p)+L,I=(S==="s"?un[8+$r/3]:"")+I+(be&&p==="("?")":""),y){for(le=-1,He=z.length;++le<He;)if(ve=z.charCodeAt(le),48>ve||ve>57){I=(ve===46?i+z.slice(le+1):z.slice(le))+I,z=z.slice(0,le);break}}}m&&!g&&(z=t(z,1/0));var ye=L.length+z.length+I.length,re=ye<w?new Array(w-ye+1).join(_):"";switch(m&&g&&(z=t(re+z,re.length?w-I.length:1/0),re=""),d){case"<":z=L+z+I+re;break;case"=":z=L+re+z+I;break;case"^":z=re.slice(0,ye=re.length>>1)+L+z+I+re.slice(ye);break;default:z=re+L+z+I;break}return l(z)}return q.toString=function(){return h+""},q}function c(h,_){var d=u((h=ot(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Re(_)/3)))*3,v=Math.pow(10,-p),g=un[8+p/3];return function(w){return d(v*w)+g}}return{format:u,formatPrefix:c}}var Qe,me,Mr;wo({thousands:",",grouping:[3],currency:["$",""]});function wo(e){return Qe=yo(e),me=Qe.format,Mr=Qe.formatPrefix,Qe}function ko(e){return Math.max(0,-Re(Math.abs(e)))}function $o(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Re(t)/3)))*3-Re(Math.abs(e)))}function Mo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Re(t)-Re(e))+1}function Rt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const fn=Symbol("implicit");function ct(){var e=new nn,t=[],n=[],r=fn;function i(l){let o=e.get(l);if(o===void 0){if(r!==fn)return r;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new nn;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return ct(t,n).unknown(r)},Rt.apply(i,arguments),i}function Ft(){var e=ct().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,l,o,s=!1,a=0,u=0,c=.5;delete e.unknown;function h(){var _=t().length,d=i<r,p=d?i:r,v=d?r:i;l=(v-p)/Math.max(1,_-a+u*2),s&&(l=Math.floor(l)),p+=(v-p-l*(_-a))*c,o=l*(1-a),s&&(p=Math.round(p),o=Math.round(o));var g=ho(_).map(function(w){return p+l*w});return n(d?g.reverse():g)}return e.domain=function(_){return arguments.length?(t(_),h()):t()},e.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(_){return arguments.length?(s=!!_,h()):s},e.padding=function(_){return arguments.length?(a=Math.min(1,u=+_),h()):a},e.paddingInner=function(_){return arguments.length?(a=Math.min(1,_),h()):a},e.paddingOuter=function(_){return arguments.length?(u=+_,h()):u},e.align=function(_){return arguments.length?(c=Math.max(0,Math.min(1,_)),h()):c},e.copy=function(){return Ft(t(),[r,i]).round(s).paddingInner(a).paddingOuter(u).align(c)},Rt.apply(h(),arguments)}function Lt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ar(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function We(){}var De=.7,st=1/De,ze="\\s*([+-]?\\d+)\\s*",Ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ao=/^#([0-9a-f]{3,8})$/,No=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),qo=new RegExp(`^rgb\\(${oe},${oe},${oe}\\)$`),So=new RegExp(`^rgba\\(${ze},${ze},${ze},${Ve}\\)$`),Co=new RegExp(`^rgba\\(${oe},${oe},${oe},${Ve}\\)$`),zo=new RegExp(`^hsl\\(${Ve},${oe},${oe}\\)$`),xo=new RegExp(`^hsla\\(${Ve},${oe},${oe},${Ve}\\)$`),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lt(We,Ie,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hn,formatHex:hn,formatHex8:Eo,formatHsl:Ro,formatRgb:dn,toString:dn});function hn(){return this.rgb().formatHex()}function Eo(){return this.rgb().formatHex8()}function Ro(){return Nr(this).formatHsl()}function dn(){return this.rgb().formatRgb()}function Ie(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ao.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_n(t):n===3?new U(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ue(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ue(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=No.exec(e))?new U(t[1],t[2],t[3],1):(t=qo.exec(e))?new U(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=So.exec(e))?Ue(t[1],t[2],t[3],t[4]):(t=Co.exec(e))?Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zo.exec(e))?mn(t[1],t[2]/100,t[3]/100,1):(t=xo.exec(e))?mn(t[1],t[2]/100,t[3]/100,t[4]):cn.hasOwnProperty(e)?_n(cn[e]):e==="transparent"?new U(NaN,NaN,NaN,0):null}function _n(e){return new U(e>>16&255,e>>8&255,e&255,1)}function Ue(e,t,n,r){return r<=0&&(e=t=n=NaN),new U(e,t,n,r)}function Fo(e){return e instanceof We||(e=Ie(e)),e?(e=e.rgb(),new U(e.r,e.g,e.b,e.opacity)):new U}function Mt(e,t,n,r){return arguments.length===1?Fo(e):new U(e,t,n,r??1)}function U(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lt(U,Mt,Ar(We,{brighter(e){return e=e==null?st:Math.pow(st,e),new U(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new U(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new U(_e(this.r),_e(this.g),_e(this.b),at(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gn,formatHex:gn,formatHex8:Lo,formatRgb:pn,toString:pn}));function gn(){return`#${de(this.r)}${de(this.g)}${de(this.b)}`}function Lo(){return`#${de(this.r)}${de(this.g)}${de(this.b)}${de((isNaN(this.opacity)?1:this.opacity)*255)}`}function pn(){const e=at(this.opacity);return`${e===1?"rgb(":"rgba("}${_e(this.r)}, ${_e(this.g)}, ${_e(this.b)}${e===1?")":`, ${e})`}`}function at(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _e(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function de(e){return e=_e(e),(e<16?"0":"")+e.toString(16)}function mn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ie(e,t,n,r)}function Nr(e){if(e instanceof ie)return new ie(e.h,e.s,e.l,e.opacity);if(e instanceof We||(e=Ie(e)),!e)return new ie;if(e instanceof ie)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,s=l-i,a=(l+i)/2;return s?(t===l?o=(n-r)/s+(n<r)*6:n===l?o=(r-t)/s+2:o=(t-n)/s+4,s/=a<.5?l+i:2-l-i,o*=60):s=a>0&&a<1?0:o,new ie(o,s,a,e.opacity)}function Ho(e,t,n,r){return arguments.length===1?Nr(e):new ie(e,t,n,r??1)}function ie(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lt(ie,Ho,Ar(We,{brighter(e){return e=e==null?st:Math.pow(st,e),new ie(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?De:Math.pow(De,e),new ie(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new U(mt(e>=240?e-240:e+120,i,r),mt(e,i,r),mt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ie(vn(this.h),Ge(this.s),Ge(this.l),at(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=at(this.opacity);return`${e===1?"hsl(":"hsla("}${vn(this.h)}, ${Ge(this.s)*100}%, ${Ge(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vn(e){return e=(e||0)%360,e<0?e+360:e}function Ge(e){return Math.max(0,Math.min(1,e||0))}function mt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ht=e=>()=>e;function Oo(e,t){return function(n){return e+n*t}}function Po(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function To(e){return(e=+e)==1?qr:function(t,n){return n-t?Po(t,n,e):Ht(isNaN(t)?n:t)}}function qr(e,t){var n=t-e;return n?Oo(e,n):Ht(isNaN(e)?t:e)}const bn=function e(t){var n=To(t);function r(i,l){var o=n((i=Mt(i)).r,(l=Mt(l)).r),s=n(i.g,l.g),a=n(i.b,l.b),u=qr(i.opacity,l.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Do(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function Vo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Io(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=Be(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(s){for(o=0;o<r;++o)l[o]=i[o](s);return l}}function Wo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ut(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bo(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Be(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var At=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(At.source,"g");function jo(e){return function(){return e}}function Qo(e){return function(t){return e(t)+""}}function Uo(e,t){var n=At.lastIndex=vt.lastIndex=0,r,i,l,o=-1,s=[],a=[];for(e=e+"",t=t+"";(r=At.exec(e))&&(i=vt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),s[o]?s[o]+=l:s[++o]=l),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:ut(r,i)})),n=vt.lastIndex;return n<t.length&&(l=t.slice(n),s[o]?s[o]+=l:s[++o]=l),s.length<2?a[0]?Qo(a[0].x):jo(t):(t=a.length,function(u){for(var c=0,h;c<t;++c)s[(h=a[c]).i]=h.x(u);return s.join("")})}function Be(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ht(t):(n==="number"?ut:n==="string"?(r=Ie(t))?(t=r,bn):Uo:t instanceof Ie?bn:t instanceof Date?Wo:Vo(t)?Do:Array.isArray(t)?Io:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bo:ut)(e,t)}function Go(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Jo(e){return function(){return e}}function Ko(e){return+e}var yn=[0,1];function Ae(e){return e}function Nt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jo(isNaN(t)?NaN:.5)}function Xo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Yo(e,t,n){var r=e[0],i=e[1],l=t[0],o=t[1];return i<r?(r=Nt(i,r),l=n(o,l)):(r=Nt(r,i),l=n(l,o)),function(s){return l(r(s))}}function Zo(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Nt(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(s){var a=yr(e,s,1,r)-1;return l[a](i[a](s))}}function es(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ts(){var e=yn,t=yn,n=Be,r,i,l,o=Ae,s,a,u;function c(){var _=Math.min(e.length,t.length);return o!==Ae&&(o=Xo(e[0],e[_-1])),s=_>2?Zo:Yo,a=u=null,h}function h(_){return _==null||isNaN(_=+_)?l:(a||(a=s(e.map(r),t,n)))(r(o(_)))}return h.invert=function(_){return o(i((u||(u=s(t,e.map(r),ut)))(_)))},h.domain=function(_){return arguments.length?(e=Array.from(_,Ko),c()):e.slice()},h.range=function(_){return arguments.length?(t=Array.from(_),c()):t.slice()},h.rangeRound=function(_){return t=Array.from(_),n=Go,c()},h.clamp=function(_){return arguments.length?(o=_?!0:Ae,c()):o!==Ae},h.interpolate=function(_){return arguments.length?(n=_,c()):n},h.unknown=function(_){return arguments.length?(l=_,h):l},function(_,d){return r=_,i=d,c()}}function ns(){return ts()(Ae,Ae)}function rs(e,t,n,r){var i=uo(e,t,n),l;switch(r=ot(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=$o(i,o))&&(r.precision=l),Mr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=Mo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=ko(i))&&(r.precision=l-(r.type==="%")*2);break}}return me(r)}function is(e){var t=e.domain;return e.ticks=function(n){var r=t();return wr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return rs(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,o=r[i],s=r[l],a,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=l,l=u);c-- >0;){if(u=xe(o,s,n),u===a)return r[i]=o,r[l]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function ue(){var e=ns();return e.copy=function(){return es(e,ue())},Rt.apply(e,arguments),is(e)}function Je(e){return function(){return e}}function ls(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qt(e,t){if((o=e.length)>1)for(var n=1,r,i,l=e[t[0]],o,s=l.length;n<o;++n)for(i=l,l=e[t[n]],r=0;r<s;++r)l[r][1]+=l[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function St(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function os(e,t){return e[t]}function ss(e){const t=[];return t.key=e,t}function as(){var e=Je([]),t=St,n=qt,r=os;function i(l){var o=Array.from(e.apply(this,arguments),ss),s,a=o.length,u=-1,c;for(const h of l)for(s=0,++u;s<a;++s)(o[s][u]=[0,+r(h,o[s].key,u,l)]).data=h;for(s=0,c=ls(t(o));s<a;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Je(Array.from(l)),i):e},i.value=function(l){return arguments.length?(r=typeof l=="function"?l:Je(+l),i):r},i.order=function(l){return arguments.length?(t=l==null?St:typeof l=="function"?l:Je(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(n=l??qt,i):n},i}function wn(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function kn(e,t,n){const r=e.slice();r[24]=t[n];const i=r[4][r[21].key];return r[25]=i,r}function $n(e){let t,n,r,i,l,o,s,a,u,c,h,_,d,p,v=e[21].key+"",g,w,m=e[11](e[25]/e[2])+"",M,A,S,C,k,$;return{c(){t=R("rect"),u=R("line"),p=R("text"),g=P(v),w=R("tspan"),M=P(m),S=x(),f(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),f(t,"y",r=e[8](e[24].data.xVal)),f(t,"x",i=e[7](e[24][0])),f(t,"stroke","var(--black)"),f(t,"width",l=e[7](e[24][1])-e[7](e[24][0])),f(t,"fill",o=e[10](e[21].key)),f(t,"opacity",s=e[5]==="all"||e[5]===e[23]?"1":"0.25"),f(t,"height",a=e[8].bandwidth()),f(u,"class","line svelte-tg5p7i"),f(u,"x1",c=e[7](e[24][0])),f(u,"x2",h=e[7](e[24][0])),f(u,"y1",_=e[8](e[24].data.xVal)-ce),f(u,"y2",d=e[8].bandwidth()+e[8](e[24].data.xVal)+ce),f(u,"stroke","black"),f(w,"x",A=(e[7](e[24][0])+e[7](e[24][1]))/2),f(w,"dy","16"),f(w,"text-anchor","middle"),f(p,"class","horizontal-bar-text svelte-tg5p7i"),f(p,"y",C=e[8].bandwidth()/2),f(p,"x",k=(e[7](e[24][0])+e[7](e[24][1]))/2),f(p,"opacity",$=e[5]==="all"||e[5]===e[23]?"1":"0.25"),f(p,"text-anchor","middle")},m(y,q){F(y,t,q),F(y,u,q),F(y,p,q),b(p,g),b(p,w),b(w,M),b(p,S)},p(y,q){q&32&&n!==(n="horizontal-bar-rect "+(y[5]===y[23]?"selected":"unselected")+" svelte-tg5p7i")&&f(t,"class",n),q&320&&r!==(r=y[8](y[24].data.xVal))&&f(t,"y",r),q&192&&i!==(i=y[7](y[24][0]))&&f(t,"x",i),q&192&&l!==(l=y[7](y[24][1])-y[7](y[24][0]))&&f(t,"width",l),q&64&&o!==(o=y[10](y[21].key))&&f(t,"fill",o),q&32&&s!==(s=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&f(t,"opacity",s),q&256&&a!==(a=y[8].bandwidth())&&f(t,"height",a),q&192&&c!==(c=y[7](y[24][0]))&&f(u,"x1",c),q&192&&h!==(h=y[7](y[24][0]))&&f(u,"x2",h),q&320&&_!==(_=y[8](y[24].data.xVal)-ce)&&f(u,"y1",_),q&320&&d!==(d=y[8].bandwidth()+y[8](y[24].data.xVal)+ce)&&f(u,"y2",d),q&64&&v!==(v=y[21].key+"")&&V(g,v),q&84&&m!==(m=y[11](y[25]/y[2])+"")&&V(M,m),q&192&&A!==(A=(y[7](y[24][0])+y[7](y[24][1]))/2)&&f(w,"x",A),q&256&&C!==(C=y[8].bandwidth()/2)&&f(p,"y",C),q&192&&k!==(k=(y[7](y[24][0])+y[7](y[24][1]))/2)&&f(p,"x",k),q&32&&$!==($=y[5]==="all"||y[5]===y[23]?"1":"0.25")&&f(p,"opacity",$)},d(y){y&&E(t),y&&E(u),y&&E(p)}}}function Mn(e){let t,n,r,i,l,o,s,a,u=e[21],c=[];for(let d=0;d<u.length;d+=1)c[d]=$n(kn(e,u,d));function h(){return e[17](e[23],e[21])}function _(){return e[18](e[23],e[21])}return{c(){t=R("g");for(let d=0;d<c.length;d+=1)c[d].c();n=R("line"),f(n,"class","line svelte-tg5p7i"),f(n,"x1",r=e[3]-e[9].right),f(n,"x2",i=e[3]-e[9].right),f(n,"y1",l=e[8]("A")-ce),f(n,"y2",o=e[8].bandwidth()+e[8]("A")+ce),f(n,"stroke","black"),f(t,"class","series svelte-tg5p7i"),f(t,"role","button"),f(t,"tabindex","0")},m(d,p){F(d,t,p);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(t,null);b(t,n),s||(a=[W(t,"click",h),W(t,"keypress",_)],s=!0)},p(d,p){if(e=d,p&3572){u=e[21];let v;for(v=0;v<u.length;v+=1){const g=kn(e,u,v);c[v]?c[v].p(g,p):(c[v]=$n(g),c[v].c(),c[v].m(t,n))}for(;v<c.length;v+=1)c[v].d(1);c.length=u.length}p&8&&r!==(r=e[3]-e[9].right)&&f(n,"x1",r),p&8&&i!==(i=e[3]-e[9].right)&&f(n,"x2",i),p&256&&l!==(l=e[8]("A")-ce)&&f(n,"y1",l),p&256&&o!==(o=e[8].bandwidth()+e[8]("A")+ce)&&f(n,"y2",o)},d(d){d&&E(t),ee(c,d),s=!1,ne(a)}}}function us(e){let t,n,r,i,l,o=e[6],s=[];for(let a=0;a<o.length;a+=1)s[a]=Mn(wn(e,o,a));return{c(){t=N("div"),t.innerHTML="<p>Feedback Distribution</p>",n=x(),r=N("div"),i=R("svg");for(let a=0;a<s.length;a+=1)s[a].c();f(i,"width",e[1]),f(i,"height",e[0]),f(r,"id","stackedrect-holder"),f(r,"class","svelte-tg5p7i"),Y(()=>e[19].call(r))},m(a,u){F(a,t,u),F(a,n,u),F(a,r,u),b(r,i);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(i,null);l=Le(r,e[19].bind(r))},p(a,[u]){if(u&8188){o=a[6];let c;for(c=0;c<o.length;c+=1){const h=wn(a,o,c);s[c]?s[c].p(h,u):(s[c]=Mn(h),s[c].c(),s[c].m(i,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=o.length}u&2&&f(i,"width",a[1]),u&1&&f(i,"height",a[0])},i:H,o:H,d(a){a&&E(t),a&&E(n),a&&E(r),ee(s,a),l()}}}const ce=5;function fs(e,t,n){let r,i,l,o,s,a,u,c,h,_,d;D(e,se,$=>n(15,h=$)),D(e,Bt,$=>n(4,_=$)),D(e,Z,$=>n(16,d=$));let p=300,v=300;const g={up:2,down:1,"n/a":0,all:"all"},w={top:10,bottom:10,left:25,right:5},m=ct().range(["var(--yellow)","var(--red)","var(--green)"]),M=me(".0%");function A($,y){r===$?n(5,r="all"):n(5,r=$),ge(se,h=r==="all"?"all":y,h)}const S=($,y)=>A($,y.key),C=($,y)=>A($,y.key);function k(){v=this.offsetWidth,p=this.offsetHeight,n(1,v),n(0,p)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,r=g[h]),e.$$.dirty&2&&n(3,i=v-w.left-w.right),e.$$.dirty&1&&n(14,l=p-w.top-w.bottom),e.$$.dirty&65552&&d.forEach($=>{ge(Bt,_[$.vote_status]++,_)}),e.$$.dirty&16&&n(2,o=_.up+_.down+_["n/a"]),e.$$.dirty&16384&&n(8,s=Ft().rangeRound([w.top,l-w.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,a=ue().rangeRound([w.left,i-w.right]).domain([0,o])),e.$$.dirty&8208&&n(6,c=u([_]))},n(13,u=as().keys(["n/a","down","up"]).order(St).offset(qt)),[p,v,o,i,_,r,c,a,s,w,m,M,A,u,l,h,d,S,C,k]}class cs extends J{constructor(t){super(),G(this,t,fs,us,B,{})}}function hs(e,{delay:t=0,duration:n=400,easing:r=or,axis:i="y"}={}){const l=getComputedStyle(e),o=+l.opacity,s=i==="y"?"height":"width",a=parseFloat(l[s]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),h=parseFloat(l[`padding${c[0]}`]),_=parseFloat(l[`padding${c[1]}`]),d=parseFloat(l[`margin${c[0]}`]),p=parseFloat(l[`margin${c[1]}`]),v=parseFloat(l[`border${c[0]}Width`]),g=parseFloat(l[`border${c[1]}Width`]);return{delay:t,duration:n,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*o};${s}: ${w*a}px;padding-${u[0]}: ${w*h}px;padding-${u[1]}: ${w*_}px;margin-${u[0]}: ${w*d}px;margin-${u[1]}: ${w*p}px;border-${u[0]}-width: ${w*v}px;border-${u[1]}-width: ${w*g}px;`}}function ds(e){let t,n,r,i,l,o,s,a,u,c,h,_=e[3][e[2]]+"",d,p;return{c(){t=N("div"),n=N("div"),r=P("Q: "),i=P(e[0]),l=x(),o=N("div"),s=P("A: "),a=P(e[1]),u=x(),c=N("div"),h=P("Rating: "),d=P(_),f(n,"class","question svelte-szi0e"),f(o,"class","answer svelte-szi0e"),f(c,"class",p="feedback "+e[2]+" svelte-szi0e"),f(t,"class","qa-card svelte-szi0e")},m(v,g){F(v,t,g),b(t,n),b(n,r),b(n,i),b(t,l),b(t,o),b(o,s),b(o,a),b(t,u),b(t,c),b(c,h),b(c,d)},p(v,[g]){g&1&&V(i,v[0]),g&2&&V(a,v[1]),g&4&&_!==(_=v[3][v[2]]+"")&&V(d,_),g&4&&p!==(p="feedback "+v[2]+" svelte-szi0e")&&f(c,"class",p)},i:H,o:H,d(v){v&&E(t)}}}function _s(e,t,n){let{question:r="What is gradient descent?"}=t,{answer:i="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:l="Good: 👍"}=t;const o={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"};return e.$$set=s=>{"question"in s&&n(0,r=s.question),"answer"in s&&n(1,i=s.answer),"feedback"in s&&n(2,l=s.feedback)},[r,i,l,o]}class gs extends J{constructor(t){super(),G(this,t,_s,ds,B,{question:0,answer:1,feedback:2})}}function ps(e){let t={Who:0,What:0,How:0,Why:0,Where:0,Does:0,Can:0,"N/A":0};for(let r=0;r<e.length;r++){let i=e[r].question.split(" ")[0];i in t?t[i]++:t["N/A"]++}return Object.keys(t).map(r=>({question:r,count:t[r]}))}function Sr(e){return e.map(t=>{const n=t.question.split(" ").length,r=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+r,vote:t.vote}})}function An(e,t,n){const r=e.slice();return r[5]=t[n].question,r[6]=t[n].answer,r[7]=t[n].vote_status,r}function Nn(e){let t,n,r,i,l;return n=new gs({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=N("div"),X(n.$$.fragment),r=x()},m(o,s){F(o,t,s),j(n,t,null),b(t,r),l=!0},p(o,s){const a={};s&1&&(a.question=o[5]),s&1&&(a.answer=o[6]),s&1&&(a.feedback=o[7]),n.$set(a)},i(o){l||(O(n.$$.fragment,o),o&&Y(()=>{l&&(i||(i=It(t,e[1],{duration:300},!0)),i.run(1))}),l=!0)},o(o){T(n.$$.fragment,o),o&&(i||(i=It(t,e[1],{duration:300},!1)),i.run(0)),l=!1},d(o){o&&E(t),Q(n),o&&i&&i.end()}}}function ms(e){let t,n,r=e[0],i=[];for(let o=0;o<r.length;o+=1)i[o]=Nn(An(e,r,o));const l=o=>T(i[o],1,1,()=>{i[o]=null});return{c(){t=N("div");for(let o=0;o<i.length;o+=1)i[o].c();f(t,"class","qa-container svelte-1xv9cfi")},m(o,s){F(o,t,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(t,null);n=!0},p(o,[s]){if(s&1){r=o[0];let a;for(a=0;a<r.length;a+=1){const u=An(o,r,a);i[a]?(i[a].p(u,s),O(i[a],1)):(i[a]=Nn(u),i[a].c(),O(i[a],1),i[a].m(t,null))}for(Se(),a=r.length;a<i.length;a+=1)l(a);Ce()}},i(o){if(!n){for(let s=0;s<r.length;s+=1)O(i[s]);n=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)T(i[s]);n=!1},d(o){o&&E(t),ee(i,o)}}}function vs(e,t,n){let r,i,l,o;D(e,kt,a=>n(4,i=a)),D(e,se,a=>n(2,l=a)),D(e,Z,a=>n(3,o=a));const s=(a,{delay:u=0,duration:c=1e3,easing:h=or})=>hs(a,{delay:u,duration:c,easing:h});return e.$$.update=()=>{e.$$.dirty&12&&n(0,r=l==="all"?o:o.filter(a=>a.vote_status===l)),e.$$.dirty&1&&console.log("qadata",r),e.$$.dirty&1&&ge(kt,i=ps(r),i)},[r,s,l,o]}class bs extends J{constructor(t){super(),G(this,t,vs,ms,B,{})}}function qn(e,t,n){const r=e.slice();return r[15]=t[n],r}function Sn(e,t,n){const r=e.slice();return r[18]=t[n],r}function Cn(e,t,n){const r=e.slice();return r[18]=t[n],r}function zn(e){let t,n,r,i,l=e[18]+"",o,s;return{c(){t=R("g"),n=R("line"),i=R("text"),o=P(l),f(n,"class","axis-tick svelte-1oikip4"),f(n,"x1","0"),f(n,"x2","0"),f(n,"y1",0),f(n,"y2",r=-e[2]+e[10].bottom+e[10].top),f(n,"stroke","var(--squidink)"),f(n,"stroke-dasharray","4"),f(i,"class","axis-text svelte-1oikip4"),f(i,"y","15"),f(i,"text-anchor","middle"),f(t,"transform",s=`translate(${e[8](e[18])+e[8].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(a,u){F(a,t,u),b(t,n),b(t,i),b(i,o)},p(a,u){u&4&&r!==(r=-a[2]+a[10].bottom+a[10].top)&&f(n,"y2",r),u&32&&l!==(l=a[18]+"")&&V(o,l),u&292&&s!==(s=`translate(${a[8](a[18])+a[8].bandwidth()/2} ${a[2]-a[10].bottom})`)&&f(t,"transform",s)},d(a){a&&E(t)}}}function xn(e){let t,n,r,i;return{c(){t=R("g"),n=R("line"),f(n,"class","axis-tick svelte-1oikip4"),f(n,"x1",0),f(n,"x2",r=e[3]-e[10].right-e[10].left),f(n,"y1","0"),f(n,"y2","0"),f(n,"stroke","black"),f(t,"transform",i=`translate(${e[10].left} ${e[7](e[18])+0})`)},m(l,o){F(l,t,o),b(t,n)},p(l,o){o&8&&r!==(r=l[3]-l[10].right-l[10].left)&&f(n,"x2",r),o&128&&i!==(i=`translate(${l[10].left} ${l[7](l[18])+0})`)&&f(t,"transform",i)},d(l){l&&E(t)}}}function En(e){let t,n,r,i,l,o,s,a,u=Math.round(e[11](e[15].count))+"",c,h,_;return{c(){t=R("g"),n=R("rect"),a=R("text"),c=P(u),f(n,"x",r=e[8](e[15].question)),f(n,"y",i=e[7](e[15].count)),f(n,"height",l=e[2]-e[7](e[15].count)-e[10].bottom),f(n,"fill",o=e[6](e[15].count)),f(n,"fill-opacity","0.95"),f(n,"width",s=e[8].bandwidth()),f(n,"class","svelte-1oikip4"),f(a,"class","axis-text svelte-1oikip4"),f(a,"x",h=e[8](e[15].question)+e[8].bandwidth()/2),f(a,"y",_=e[7](e[15].count)-5),f(a,"text-anchor","middle"),f(t,"class","series")},m(d,p){F(d,t,p),b(t,n),b(t,a),b(a,c)},p(d,p){p&288&&r!==(r=d[8](d[15].question))&&f(n,"x",r),p&160&&i!==(i=d[7](d[15].count))&&f(n,"y",i),p&164&&l!==(l=d[2]-d[7](d[15].count)-d[10].bottom)&&f(n,"height",l),p&96&&o!==(o=d[6](d[15].count))&&f(n,"fill",o),p&256&&s!==(s=d[8].bandwidth())&&f(n,"width",s),p&32&&u!==(u=Math.round(d[11](d[15].count))+"")&&V(c,u),p&288&&h!==(h=d[8](d[15].question)+d[8].bandwidth()/2)&&f(a,"x",h),p&160&&_!==(_=d[7](d[15].count)-5)&&f(a,"y",_)},d(d){d&&E(t)}}}function ys(e){let t,n,r,i,l,o,s=e[9][e[4]]+"",a,u,c,h,_,d,p,v,g,w=e[5].map(Rn),m=[];for(let k=0;k<w.length;k+=1)m[k]=zn(Cn(e,w,k));let M=e[7].ticks(),A=[];for(let k=0;k<M.length;k+=1)A[k]=xn(Sn(e,M,k));let S=e[5],C=[];for(let k=0;k<S.length;k+=1)C[k]=En(qn(e,S,k));return{c(){t=N("div"),n=R("svg");for(let k=0;k<m.length;k+=1)m[k].c();r=he();for(let k=0;k<A.length;k+=1)A[k].c();i=he();for(let k=0;k<C.length;k+=1)C[k].c();l=R("text"),o=P("Question Type: "),a=P(s),c=R("line"),p=R("line"),f(l,"class","chart-title svelte-1oikip4"),f(l,"y",e[10].top/2+1),f(l,"x",u=(e[3]+e[10].left)/2),f(l,"text-anchor","middle"),f(c,"class","axis-line svelte-1oikip4"),f(c,"x1",e[10].left),f(c,"x2",h=e[3]-e[10].right),f(c,"y1",_=e[2]-e[10].bottom),f(c,"y2",d=e[2]-e[10].bottom),f(p,"class","axis-line svelte-1oikip4"),f(p,"x1",e[10].left),f(p,"x2",e[10].left),f(p,"y1",e[10].top),f(p,"y2",v=e[2]-e[10].bottom),f(p,"opacity","0"),f(n,"width",e[1]),f(n,"height",e[0]),f(t,"id","stackedrect-holder"),f(t,"class","svelte-1oikip4"),Y(()=>e[13].call(t))},m(k,$){F(k,t,$),b(t,n);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(n,null);b(n,r);for(let y=0;y<A.length;y+=1)A[y]&&A[y].m(n,null);b(n,i);for(let y=0;y<C.length;y+=1)C[y]&&C[y].m(n,null);b(n,l),b(l,o),b(l,a),b(n,c),b(n,p),g=Le(t,e[13].bind(t))},p(k,[$]){if($&1316){w=k[5].map(Rn);let y;for(y=0;y<w.length;y+=1){const q=Cn(k,w,y);m[y]?m[y].p(q,$):(m[y]=zn(q),m[y].c(),m[y].m(n,r))}for(;y<m.length;y+=1)m[y].d(1);m.length=w.length}if($&1160){M=k[7].ticks();let y;for(y=0;y<M.length;y+=1){const q=Sn(k,M,y);A[y]?A[y].p(q,$):(A[y]=xn(q),A[y].c(),A[y].m(n,i))}for(;y<A.length;y+=1)A[y].d(1);A.length=M.length}if($&3556){S=k[5];let y;for(y=0;y<S.length;y+=1){const q=qn(k,S,y);C[y]?C[y].p(q,$):(C[y]=En(q),C[y].c(),C[y].m(n,l))}for(;y<C.length;y+=1)C[y].d(1);C.length=S.length}$&16&&s!==(s=k[9][k[4]]+"")&&V(a,s),$&8&&u!==(u=(k[3]+k[10].left)/2)&&f(l,"x",u),$&8&&h!==(h=k[3]-k[10].right)&&f(c,"x2",h),$&4&&_!==(_=k[2]-k[10].bottom)&&f(c,"y1",_),$&4&&d!==(d=k[2]-k[10].bottom)&&f(c,"y2",d),$&4&&v!==(v=k[2]-k[10].bottom)&&f(p,"y2",v),$&2&&f(n,"width",k[1]),$&1&&f(n,"height",k[0])},i:H,o:H,d(k){k&&E(t),ee(m,k),ee(A,k),ee(C,k),g()}}}const Rn=e=>e.question;function ws(e,t,n){let r,i,l,o,s,a,u,c;D(e,se,m=>n(4,u=m)),D(e,kt,m=>n(5,c=m));const h={up:"Good 👍",down:"Bad 👎","n/a":"No Rating",all:"All"},_={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let d=300,p=300,v={top:35,bottom:10,left:25,right:5};const g=me(".1f");function w(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,r=p-v.left-v.right),e.$$.dirty&1&&n(2,i=d-v.top-v.bottom),e.$$.dirty&40&&n(8,l=Ft().rangeRound([v.left,r-v.right]).padding(.05).domain(c.map(m=>m.question))),e.$$.dirty&36&&n(7,o=ue().rangeRound([i-v.bottom,v.top]).domain([0,Ee(c,m=>m.count)])),e.$$.dirty&32&&n(12,s=Ee(c,m=>m.count)),e.$$.dirty&4112&&n(6,a=ue().domain([0,s]).range(["white",_[u]]).interpolate(Be))},[d,p,i,r,u,c,a,o,l,h,v,g,s,w]}class ks extends J{constructor(t){super(),G(this,t,ws,ys,B,{})}}function Fn(e,t,n){const r=e.slice();r[19]=t[n];const i=r[7](r[19].x1)-r[7](r[19].x0);return r[20]=i,r}function Ln(e,t,n){const r=e.slice();return r[23]=t[n],r}function Hn(e){let t,n,r,i,l=e[23]+"",o,s;return{c(){t=R("g"),n=R("line"),i=R("text"),o=P(l),f(n,"class","axis-tick svelte-kz2qh6"),f(n,"x1","0"),f(n,"x2","0"),f(n,"y1",0),f(n,"y2",r=-e[2]+e[9].bottom+e[9].top),f(n,"stroke","var(--squidink)"),f(n,"stroke-dasharray","4"),f(i,"class","axis-text svelte-kz2qh6"),f(i,"y","15"),f(i,"text-anchor","middle"),f(t,"transform",s=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),f(t,"class","svelte-kz2qh6")},m(a,u){F(a,t,u),b(t,n),b(t,i),b(i,o)},p(a,u){u&4&&r!==(r=-a[2]+a[9].bottom+a[9].top)&&f(n,"y2",r),u&128&&l!==(l=a[23]+"")&&V(o,l),u&132&&s!==(s=`translate(${a[7](a[23])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&f(t,"transform",s)},d(a){a&&E(t)}}}function On(e){let t,n,r,i,l,o,s;return{c(){t=R("g"),n=R("rect"),f(n,"x",r=e[7](e[19].x0)+1),f(n,"width",i=e[20]),f(n,"y",l=e[6](e[19].length)),f(n,"height",o=e[6](0)-e[6](e[19].length)),f(n,"fill",s=e[8][e[5]]),f(n,"class","svelte-kz2qh6"),f(t,"class","histogram-bin svelte-kz2qh6")},m(a,u){F(a,t,u),b(t,n)},p(a,u){u&136&&r!==(r=a[7](a[19].x0)+1)&&f(n,"x",r),u&136&&i!==(i=a[20])&&f(n,"width",i),u&72&&l!==(l=a[6](a[19].length))&&f(n,"y",l),u&72&&o!==(o=a[6](0)-a[6](a[19].length))&&f(n,"height",o),u&32&&s!==(s=a[8][a[5]])&&f(n,"fill",s)},d(a){a&&E(t)}}}function $s(e){let t,n,r,i,l,o,s,a,u,c,h,_=e[7].ticks(),d=[];for(let g=0;g<_.length;g+=1)d[g]=Hn(Ln(e,_,g));let p=e[3],v=[];for(let g=0;g<p.length;g+=1)v[g]=On(Fn(e,p,g));return{c(){t=N("div"),n=R("svg");for(let g=0;g<d.length;g+=1)d[g].c();r=he();for(let g=0;g<v.length;g+=1)v[g].c();i=R("text"),l=P("Answer Length"),s=R("line"),f(i,"class","chart-title svelte-kz2qh6"),f(i,"y",e[9].top/2+5),f(i,"x",o=(e[4]+e[9].left)/2),f(i,"text-anchor","middle"),f(s,"class","axis-line svelte-kz2qh6"),f(s,"x1",e[9].left),f(s,"x2",a=e[4]-e[9].right),f(s,"y1",u=e[2]-e[9].bottom),f(s,"y2",c=e[2]-e[9].bottom),f(n,"width",e[1]),f(n,"height",e[0]),f(n,"class","svelte-kz2qh6"),f(t,"class","histogram-container svelte-kz2qh6"),Y(()=>e[14].call(t))},m(g,w){F(g,t,w),b(t,n);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(n,null);b(n,r);for(let m=0;m<v.length;m+=1)v[m]&&v[m].m(n,null);b(n,i),b(i,l),b(n,s),h=Le(t,e[14].bind(t))},p(g,[w]){if(w&644){_=g[7].ticks();let m;for(m=0;m<_.length;m+=1){const M=Ln(g,_,m);d[m]?d[m].p(M,w):(d[m]=Hn(M),d[m].c(),d[m].m(n,r))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}if(w&488){p=g[3];let m;for(m=0;m<p.length;m+=1){const M=Fn(g,p,m);v[m]?v[m].p(M,w):(v[m]=On(M),v[m].c(),v[m].m(n,i))}for(;m<v.length;m+=1)v[m].d(1);v.length=p.length}w&16&&o!==(o=(g[4]+g[9].left)/2)&&f(i,"x",o),w&16&&a!==(a=g[4]-g[9].right)&&f(s,"x2",a),w&4&&u!==(u=g[2]-g[9].bottom)&&f(s,"y1",u),w&4&&c!==(c=g[2]-g[9].bottom)&&f(s,"y2",c),w&2&&f(n,"width",g[1]),w&1&&f(n,"height",g[0])},i:H,o:H,d(g){g&&E(t),ee(d,g),ee(v,g),h()}}}let Pn=100;function Ms(e,t,n){let r,i,l,o,s,a,u,c,h,_;D(e,se,M=>n(5,h=M)),D(e,Z,M=>n(13,_=M));const d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let p=300,v=300,g={top:15,bottom:10,left:25,right:5};me(".1f");let w=Array.from({length:Pn},(M,A)=>A);function m(){v=this.offsetWidth,p=this.offsetHeight,n(1,v),n(0,p)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,r=h==="all"?_:_.filter(M=>M.vote_status===h)),e.$$.dirty&4096&&n(11,i=Sr(r)),e.$$.dirty&2&&n(4,l=v-g.left-g.right),e.$$.dirty&1&&n(2,o=p-g.top-g.bottom),e.$$.dirty&2048&&n(3,s=kr().thresholds(w).value(M=>M.answer)(i)),e.$$.dirty&16&&n(7,a=ue().domain([3,Pn]).range([g.left,l-g.right])),e.$$.dirty&12&&n(6,u=ue().domain([0,Ee(s,M=>M.length)]).range([o-g.bottom,g.top])),e.$$.dirty&2048&&n(10,c=Ee(i,M=>M.length)),e.$$.dirty&1056&&ue().domain([0,c]).range(["white",d[h]]).interpolate(Be)},[p,v,o,s,l,h,u,a,d,g,c,i,r,_,m]}class As extends J{constructor(t){super(),G(this,t,Ms,$s,B,{})}}function Tn(e,t,n){const r=e.slice();r[18]=t[n];const i=r[7](r[18].x1)-r[7](r[18].x0);return r[19]=i,r}function Dn(e,t,n){const r=e.slice();return r[22]=t[n],r}function Vn(e){let t,n,r,i,l=e[22]+"",o,s;return{c(){t=R("g"),n=R("line"),i=R("text"),o=P(l),f(n,"class","axis-tick svelte-kz2qh6"),f(n,"x1","0"),f(n,"x2","0"),f(n,"y1",0),f(n,"y2",r=-e[2]+e[9].bottom+e[9].top),f(n,"stroke","var(--squidink)"),f(n,"stroke-dasharray","4"),f(i,"class","axis-text svelte-kz2qh6"),f(i,"y","15"),f(i,"text-anchor","middle"),f(t,"transform",s=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),f(t,"class","svelte-kz2qh6")},m(a,u){F(a,t,u),b(t,n),b(t,i),b(i,o)},p(a,u){u&4&&r!==(r=-a[2]+a[9].bottom+a[9].top)&&f(n,"y2",r),u&128&&l!==(l=a[22]+"")&&V(o,l),u&132&&s!==(s=`translate(${a[7](a[22])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&f(t,"transform",s)},d(a){a&&E(t)}}}function In(e){let t,n,r,i,l,o,s;return{c(){t=R("g"),n=R("rect"),f(n,"x",r=e[7](e[18].x0)+1),f(n,"width",i=e[19]),f(n,"y",l=e[6](e[18].length)),f(n,"height",o=e[6](0)-e[6](e[18].length)),f(n,"fill",s=e[8][e[5]]),f(n,"class","svelte-kz2qh6"),f(t,"class","histogram-bin svelte-kz2qh6")},m(a,u){F(a,t,u),b(t,n)},p(a,u){u&136&&r!==(r=a[7](a[18].x0)+1)&&f(n,"x",r),u&136&&i!==(i=a[19])&&f(n,"width",i),u&72&&l!==(l=a[6](a[18].length))&&f(n,"y",l),u&72&&o!==(o=a[6](0)-a[6](a[18].length))&&f(n,"height",o),u&32&&s!==(s=a[8][a[5]])&&f(n,"fill",s)},d(a){a&&E(t)}}}function Ns(e){let t,n,r,i,l,o,s,a,u,c,h,_=e[7].ticks(),d=[];for(let g=0;g<_.length;g+=1)d[g]=Vn(Dn(e,_,g));let p=e[3],v=[];for(let g=0;g<p.length;g+=1)v[g]=In(Tn(e,p,g));return{c(){t=N("div"),n=R("svg");for(let g=0;g<d.length;g+=1)d[g].c();r=he();for(let g=0;g<v.length;g+=1)v[g].c();i=R("text"),l=P("Question Length"),s=R("line"),f(i,"class","chart-title svelte-kz2qh6"),f(i,"y",e[9].top/2+5),f(i,"x",o=(e[4]+e[9].left)/2),f(i,"text-anchor","middle"),f(s,"class","axis-line svelte-kz2qh6"),f(s,"x1",e[9].left),f(s,"x2",a=e[4]-e[9].right),f(s,"y1",u=e[2]-e[9].bottom),f(s,"y2",c=e[2]-e[9].bottom),f(n,"width",e[1]),f(n,"height",e[0]),f(n,"class","svelte-kz2qh6"),f(t,"class","histogram-container svelte-kz2qh6"),Y(()=>e[13].call(t))},m(g,w){F(g,t,w),b(t,n);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(n,null);b(n,r);for(let m=0;m<v.length;m+=1)v[m]&&v[m].m(n,null);b(n,i),b(i,l),b(n,s),h=Le(t,e[13].bind(t))},p(g,[w]){if(w&644){_=g[7].ticks();let m;for(m=0;m<_.length;m+=1){const M=Dn(g,_,m);d[m]?d[m].p(M,w):(d[m]=Vn(M),d[m].c(),d[m].m(n,r))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}if(w&488){p=g[3];let m;for(m=0;m<p.length;m+=1){const M=Tn(g,p,m);v[m]?v[m].p(M,w):(v[m]=In(M),v[m].c(),v[m].m(n,i))}for(;m<v.length;m+=1)v[m].d(1);v.length=p.length}w&16&&o!==(o=(g[4]+g[9].left)/2)&&f(i,"x",o),w&16&&a!==(a=g[4]-g[9].right)&&f(s,"x2",a),w&4&&u!==(u=g[2]-g[9].bottom)&&f(s,"y1",u),w&4&&c!==(c=g[2]-g[9].bottom)&&f(s,"y2",c),w&2&&f(n,"width",g[1]),w&1&&f(n,"height",g[0])},i:H,o:H,d(g){g&&E(t),ee(d,g),ee(v,g),h()}}}let Wn=100;function qs(e,t,n){let r,i,l,o,s,a,u,c,h;D(e,se,m=>n(5,c=m)),D(e,Z,m=>n(12,h=m));const _={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let d=300,p=300,v={top:15,bottom:10,left:25,right:5},g=Array.from({length:Wn},(m,M)=>M);ct().range(["var(--yellow)","var(--red)","var(--green)"]);function w(){p=this.offsetWidth,d=this.offsetHeight,n(1,p),n(0,d)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,r=c==="all"?h:h.filter(m=>m.vote_status===c)),e.$$.dirty&2048&&n(10,i=Sr(r)),e.$$.dirty&2&&n(4,l=p-v.left-v.right),e.$$.dirty&1&&n(2,o=d-v.top-v.bottom),e.$$.dirty&1024&&n(3,s=kr().thresholds(g).value(m=>m.question)(i)),e.$$.dirty&16&&n(7,a=ue().domain([3,Wn]).range([v.left,l-v.right])),e.$$.dirty&12&&n(6,u=ue().domain([0,Ee(s,m=>m.length)]).range([o-v.bottom,v.top])),e.$$.dirty&1024&&Ee(i,m=>m.length)},[d,p,o,s,l,c,u,a,_,v,i,r,h,w]}class Ss extends J{constructor(t){super(),G(this,t,qs,Ns,B,{})}}function Cs(e){let t,n,r,i,l,o,s,a,u,c,h,_,d,p=Math.round(e[5](e[3]))+"",v,g,w,m,M,A,S,C;return{c(){t=N("div"),n=N("div"),r=N("p"),r.textContent="Questions",i=x(),l=N("select"),o=N("option"),o.textContent="All",s=N("option"),s.textContent="Good",a=N("option"),a.textContent="Bad",u=N("option"),u.textContent="N/A",c=x(),h=N("div"),_=R("svg"),d=R("text"),v=P(p),M=x(),A=N("p"),A.textContent="number of responses",f(r,"class","card-text svelte-1pknxov"),o.__value="all",o.value=o.__value,f(o,"class","svelte-1pknxov"),s.__value="up",s.value=s.__value,f(s,"class","svelte-1pknxov"),a.__value="down",a.value=a.__value,f(a,"class","svelte-1pknxov"),u.__value="n/a",u.value=u.__value,f(u,"class","svelte-1pknxov"),f(l,"id","feedback-dropdown"),f(l,"name","feedback-dropdown"),fe(l,"background",e[6][e[0]]),f(l,"class","svelte-1pknxov"),e[0]===void 0&&Y(()=>e[9].call(l)),f(n,"class","svelte-1pknxov"),f(d,"dominant-baseline","middle"),f(d,"x",g=e[2]/2),f(d,"y",w=e[1]/2),f(d,"text-anchor","middle"),f(d,"class","svelte-1pknxov"),f(_,"width",e[2]),f(_,"height",e[1]),f(_,"class","svelte-1pknxov"),f(h,"class","svelte-1pknxov"),Y(()=>e[10].call(h)),f(A,"class","small svelte-1pknxov"),f(t,"class","card-container svelte-1pknxov"),fe(t,"background",e[6][e[0]])},m(k,$){F(k,t,$),b(t,n),b(n,r),b(n,i),b(n,l),b(l,o),b(l,s),b(l,a),b(l,u),Ze(l,e[0],!0),b(t,c),b(t,h),b(h,_),b(_,d),b(d,v),m=Le(h,e[10].bind(h)),b(t,M),b(t,A),S||(C=W(l,"change",e[9]),S=!0)},p(k,[$]){$&1&&fe(l,"background",k[6][k[0]]),$&1&&Ze(l,k[0]),$&8&&p!==(p=Math.round(k[5](k[3]))+"")&&V(v,p),$&4&&g!==(g=k[2]/2)&&f(d,"x",g),$&2&&w!==(w=k[1]/2)&&f(d,"y",w),$&4&&f(_,"width",k[2]),$&2&&f(_,"height",k[1]),$&1&&fe(t,"background",k[6][k[0]])},i:H,o:H,d(k){k&&E(t),m(),S=!1,C()}}}function zs(e,t){return t==="all"?e.length:e.filter(r=>r.vote_status===t).length}function xs(e,t,n){let r,i,l,o;D(e,se,p=>n(0,i=p)),D(e,Z,p=>n(8,l=p));let s,a,u=zt(0);D(e,u,p=>n(3,o=p));const c=me(".1f"),h={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function _(){i=nr(this),se.set(i)}function d(){a=this.clientWidth,s=this.clientHeight,n(2,a),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=zs(l,i)),e.$$.dirty&128&&console.log("fbc",r),e.$$.dirty&128&&u.set(r)},[i,s,a,o,u,c,h,r,l,_,d]}class Es extends J{constructor(t){super(),G(this,t,xs,Cs,B,{})}}function Rs(e){let t,n,r,i,l,o,s,a,u,c,h,_,d,p=e[5](e[3])+"",v,g,w,m,M,A,S,C;return{c(){t=N("div"),n=N("div"),r=N("p"),r.textContent="Questions",i=x(),l=N("select"),o=N("option"),o.textContent="All",s=N("option"),s.textContent="Good",a=N("option"),a.textContent="Bad",u=N("option"),u.textContent="N/A",c=x(),h=N("div"),_=R("svg"),d=R("text"),v=P(p),M=x(),A=N("p"),A.textContent="percentage of responses",f(r,"class","card-text svelte-mchgj2"),o.__value="all",o.value=o.__value,s.__value="up",s.value=s.__value,a.__value="down",a.value=a.__value,u.__value="n/a",u.value=u.__value,f(l,"id","feedback-dropdown"),f(l,"name","feedback-dropdown"),fe(l,"background",e[6][e[0]]),f(l,"class","svelte-mchgj2"),e[0]===void 0&&Y(()=>e[9].call(l)),f(d,"dominant-baseline","middle"),f(d,"x",g=e[2]/2),f(d,"y",w=e[1]/2),f(d,"text-anchor","middle"),f(d,"class","svelte-mchgj2"),f(_,"width",e[2]),f(_,"height",e[1]),f(_,"class","svelte-mchgj2"),Y(()=>e[10].call(h)),f(A,"class","small svelte-mchgj2"),f(t,"class","card-container svelte-mchgj2"),fe(t,"background",e[6][e[0]])},m(k,$){F(k,t,$),b(t,n),b(n,r),b(n,i),b(n,l),b(l,o),b(l,s),b(l,a),b(l,u),Ze(l,e[0],!0),b(t,c),b(t,h),b(h,_),b(_,d),b(d,v),m=Le(h,e[10].bind(h)),b(t,M),b(t,A),S||(C=W(l,"change",e[9]),S=!0)},p(k,[$]){$&1&&fe(l,"background",k[6][k[0]]),$&1&&Ze(l,k[0]),$&8&&p!==(p=k[5](k[3])+"")&&V(v,p),$&4&&g!==(g=k[2]/2)&&f(d,"x",g),$&2&&w!==(w=k[1]/2)&&f(d,"y",w),$&4&&f(_,"width",k[2]),$&2&&f(_,"height",k[1]),$&1&&fe(t,"background",k[6][k[0]])},i:H,o:H,d(k){k&&E(t),m(),S=!1,C()}}}function Fs(e,t){const n=e.length;return t==="all"?1:e.filter(i=>i.vote_status===t).length/n}function Ls(e,t,n){let r,i,l,o;D(e,se,p=>n(0,i=p)),D(e,Z,p=>n(8,l=p));let s,a,u=zt(0);D(e,u,p=>n(3,o=p));const c=me(".1%"),h={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function _(){i=nr(this),se.set(i)}function d(){a=this.clientWidth,s=this.clientHeight,n(2,a),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=Fs(l,i)),e.$$.dirty&128&&u.set(r)},[i,s,a,o,u,c,h,r,l,_,d]}class Hs extends J{constructor(t){super(),G(this,t,Ls,Rs,B,{})}}function Os(e){let t,n,r,i,l,o,s,a,u,c,h,_,d,p,v,g,w,m,M,A,S,C,k,$,y,q,z;return l=new Es({}),a=new Hs({}),h=new cs({}),p=new ks({props:{feedback:"Bad"}}),w=new Ss({}),A=new As({}),q=new bs({}),{c(){t=N("div"),n=N("div"),r=N("div"),i=N("div"),X(l.$$.fragment),o=x(),s=N("div"),X(a.$$.fragment),u=x(),c=N("div"),X(h.$$.fragment),_=x(),d=N("div"),X(p.$$.fragment),v=x(),g=N("div"),X(w.$$.fragment),m=x(),M=N("div"),X(A.$$.fragment),S=x(),C=N("div"),k=N("div"),k.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,$=x(),y=N("div"),X(q.$$.fragment),f(i,"class","card-1 svelte-14znspc"),f(s,"class","card-2"),f(r,"class","left-text svelte-14znspc"),f(c,"class","left-confidence svelte-14znspc"),f(d,"class","left-question svelte-14znspc"),f(g,"class","left-filter svelte-14znspc"),f(M,"class","left-filter2"),f(n,"class","feedback-left svelte-14znspc"),f(k,"class","right-chart svelte-14znspc"),f(y,"class","right-table svelte-14znspc"),f(C,"class","feedback-right svelte-14znspc"),f(t,"class","feedback-container svelte-14znspc")},m(L,I){F(L,t,I),b(t,n),b(n,r),b(r,i),j(l,i,null),b(r,o),b(r,s),j(a,s,null),b(n,u),b(n,c),j(h,c,null),b(n,_),b(n,d),j(p,d,null),b(n,v),b(n,g),j(w,g,null),b(n,m),b(n,M),j(A,M,null),b(t,S),b(t,C),b(C,k),b(C,$),b(C,y),j(q,y,null),z=!0},p:H,i(L){z||(O(l.$$.fragment,L),O(a.$$.fragment,L),O(h.$$.fragment,L),O(p.$$.fragment,L),O(w.$$.fragment,L),O(A.$$.fragment,L),O(q.$$.fragment,L),z=!0)},o(L){T(l.$$.fragment,L),T(a.$$.fragment,L),T(h.$$.fragment,L),T(p.$$.fragment,L),T(w.$$.fragment,L),T(A.$$.fragment,L),T(q.$$.fragment,L),z=!1},d(L){L&&E(t),Q(l),Q(a),Q(h),Q(p),Q(w),Q(A),Q(q)}}}function Ps(e,t,n){let r;D(e,Z,l=>n(0,r=l)),ft(()=>{i()});async function i(){const a=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(u=>({id:u[0],question:u[1],answer:u[2],vote_status:u[3]}));ge(Z,r=[...a],r)}return[]}class Ts extends J{constructor(t){super(),G(this,t,Ps,Os,B,{})}}function Bn(e,t,n){const r=e.slice();return r[7]=t[n],r}function jn(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Qn(Bn(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=he()},m(i,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,l);F(i,t,l)},p(i,l){if(l&33){n=i[0];let o;for(o=0;o<n.length;o+=1){const s=Bn(i,n,o);r[o]?r[o].p(s,l):(r[o]=Qn(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){ee(r,i),i&&E(t)}}}function Qn(e){let t,n=e[7].svelte_component+"",r,i,l,o;function s(){return e[6](e[7])}return{c(){t=N("button"),r=P(n),f(t,"aria-label",i=`Load ${e[7].svelte_component} component`)},m(a,u){F(a,t,u),b(t,r),l||(o=W(t,"click",s),l=!0)},p(a,u){e=a,u&1&&n!==(n=e[7].svelte_component+"")&&V(r,n),u&1&&i!==(i=`Load ${e[7].svelte_component} component`)&&f(t,"aria-label",i)},d(a){a&&E(t),l=!1,o()}}}function Un(e){let t,n,r;const i=[e[1].props];var l=e[4][e[1].svelte_component];function o(s){let a={};for(let u=0;u<i.length;u+=1)a=bt(a,i[u]);return{props:a}}return l&&(t=Pt(l,o())),{c(){t&&X(t.$$.fragment),n=he()},m(s,a){t&&j(t,s,a),F(s,n,a),r=!0},p(s,a){const u=a&2?Ur(i,[Gr(s[1].props)]):{};if(a&2&&l!==(l=s[4][s[1].svelte_component])){if(t){Se();const c=t;T(c.$$.fragment,1,0,()=>{Q(c,1)}),Ce()}l?(t=Pt(l,o()),X(t.$$.fragment),O(t.$$.fragment,1),j(t,n.parentNode,n)):t=null}else l&&t.$set(u)},i(s){r||(t&&O(t.$$.fragment,s),r=!0)},o(s){t&&T(t.$$.fragment,s),r=!1},d(s){s&&E(n),t&&Q(t,s)}}}function Ds(e){let t,n,r,i=e[0].length>1&&jn(e),l=e[1]&&Un(e);return{c(){i&&i.c(),t=x(),l&&l.c(),n=he()},m(o,s){i&&i.m(o,s),F(o,t,s),l&&l.m(o,s),F(o,n,s),r=!0},p(o,[s]){o[0].length>1?i?i.p(o,s):(i=jn(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),o[1]?l?(l.p(o,s),s&2&&O(l,1)):(l=Un(o),l.c(),O(l,1),l.m(n.parentNode,n)):l&&(Se(),T(l,1,1,()=>{l=null}),Ce())},i(o){r||(O(l),r=!0)},o(o){T(l),r=!1},d(o){i&&i.d(o),o&&E(t),l&&l.d(o),o&&E(n)}}}function Vs(e,t,n){let r,i;const l=pe([]);D(e,l,c=>n(0,r=c));const o=pe(null);D(e,o,c=>n(1,i=c));const s={Chatbot:Bl,Dropdown:Ul,Feedback:Ts},a=c=>{o.set(c)};return fetch("/components").then(c=>{if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return c.json()}).then(c=>{l.set(c),o.set(c[0])}).catch(c=>{console.log("Fetch request failed",c)}),[r,i,l,o,s,a,c=>a(c)]}class Is extends J{constructor(t){super(),G(this,t,Vs,Ds,B,{})}}new Is({target:document.getElementById("app")});
