"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[529],{767:(e,t,a)=>{a.r(t),a.d(t,{baseUrl:()=>T,default:()=>B});var n=a(9757),l=a(2898),o=a(2780),r=a(4868),i=a(6595),d=a(765),s=a(5144),c=a(9599),p=a(4887),u=a(2589),m=a(4344),g=(a(789),a(7976)),y=a.n(g);const h="SPECIALNULLVALUEDONOTSETEVER";var v=a(4370),f=a.n(v),_=a(8424),N=a.n(_),w=a(3102),k=a.n(w),E=a(1414),Z=a.n(E),C=a(3318),x=a.n(C),b=a(2672),S=a.n(b),I=a(2761),P={};function T(e){const t=e.split("/");return t[0]+"//"+t[2]}function j({arg:e,callUpdate:t,argValue:a,setArg:n,setNode:l,idx:o,optional:r=!1}){const s=(0,g.useRef)(null),c=a?a.mode:"File"===e.type?"input":"node",p=a?a.value:a,u=e=>{n&&n({mode:c,value:e})};return(0,g.useEffect)((()=>{a||"input"!=c&&!r||!n||u(h)}),[a,r,c,n]),(0,g.useEffect)((()=>{"input"===c&&s.current&&s.current.offsetTop&&s.current.clientHeight&&(console.log("OFFSET"),l((e=>{const t={...e.input_handles?e.input_handles:{},[o]:(s.current?.offsetTop??0)+20};return{...e,input_handles:t,num_inputs:Object.keys(t).length}})),t())}),[c,s]),(0,g.useEffect)((()=>{"node"===c&&(l((e=>{const t={...e.input_handles?e.input_handles:{}};return t[o]&&delete t[o],{...e,num_inputs:Object.keys(t).length,input_handles:t}})),t())}),[c]),"Option"===e.type?y().createElement(j,{arg:{name:e.name,ty:e.ty.inner,type:e.ty._type},callUpdate:t,argValue:a,setArg:n,setNode:l,idx:o,optional:!0}):y().createElement(A,{ref:s},y().createElement(O,{className:"nodrag",onClick:e=>{e.stopPropagation()},size:"small",value:c,onChange:e=>{"node"===e?(e=>{n&&n({mode:e,value:p})})(e.toString()):((e,t)=>{n&&n({mode:e,value:t})})(e.toString(),h)},options:[{label:y().createElement(i.Z,{title:"External Input",placement:"right"},y().createElement(U,null)),value:"input"},{label:y().createElement(i.Z,{title:"UI Popup",placement:"right"},y().createElement(F,null)),value:"ui",disabled:!0},{label:y().createElement(i.Z,{title:"Hardcode",placement:"right"},y().createElement(D,null)),value:"node",disabled:"File"===e.type}]}),y().createElement(L,null,e.name,r?null:y().createElement("span",{style:{color:"red"}},"*")),(()=>{switch(e.type){case"Choice":return y().createElement(V,{className:"nodrag",disabled:"node"!==c,value:p&&p!=h?p:void 0,options:e.ty.choices.map((e=>({value:e,label:e}))),onChange:e=>{u(e)}});case"Num":return y().createElement(G,{className:"nodrag",disabled:"node"!==c,min:e.ty.min_value??void 0,max:e.ty.max_value??void 0,value:p&&p!=h?p:void 0,onChange:e=>{e&&u(e)}});case"String":return e.ty.secret?y().createElement($,{className:"nodrag",disabled:"node"!==c,value:p&&p!=h?p:void 0,onChange:e=>{u(e.target.value)}}):y().createElement(R,{className:"nodrag",disabled:"node"!==c,value:p&&p!=h?p:void 0,onChange:e=>{u(e.target.value)}});case"Json":case"File":case"Dir":case"Func":case"Funcs":return null;case"Bool":return y().createElement(d.Z,{disabled:"node"!==c,onChange:e=>{u(e)},checked:p&&p!=h?p:e.ty.default});default:throw e.type,new Error("Unhandled argument type")}})())}P.styleTagTransform=S(),P.setAttributes=Z(),P.insert=k().bind(null,"head"),P.domAPI=N(),P.insertStyleElement=x(),f()(I.Z,P),I.Z&&I.Z.locals&&I.Z.locals;const B=function({callAfterUpdateInpOuts:e=(()=>{}),node:t,setNode:a}){const n=t.metadata,l=Array.isArray(t.data)&&t.data.length===n.args.length,o=l?t.data:Array(n.args.length).fill(null);return(0,g.useEffect)((()=>{l||(a((e=>({...e,data:Array(n.args.length).fill(null),operator:n.lambda?`${n.lambda}/operator/${n.operator}`:`${T(t.remote.url)}/operator/${n.operator}`,num_inputs:0,num_outputs:n.num_outputs}))),e())}),[t]),y().createElement(H,null,n.name?y().createElement(z,null,n.name):null,n.description?y().createElement(s.Z.Paragraph,null,n.description):null,n.args.map(((t,n)=>y().createElement(j,{arg:t,key:n,idx:n,callUpdate:e,argValue:o[n],setNode:a,setArg:l?e=>{a((t=>({...t,data:o.map(((t,a)=>a===n?e:t))})))}:void 0}))))};var A=(0,n.ZP)("div").withConfig({displayName:"BaseNode___StyledDiv",componentId:"sc-vkkiaj-0"})({display:"flex",width:"100%",flexDirection:"row",alignItems:"center","> :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"0",marginRight:"calc(0.5rem * var(--tw-space-x-reverse))",marginLeft:"calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))"}}),O=(0,n.ZP)(c.Z).withConfig({displayName:"BaseNode___StyledSegmented",componentId:"sc-vkkiaj-1"})({pointerEvents:"auto",cursor:"pointer"}),U=(0,n.ZP)(l.Z).withConfig({displayName:"BaseNode___StyledLoginOutlined",componentId:"sc-vkkiaj-2"})({paddingTop:"3px"}),F=(0,n.ZP)(o.Z).withConfig({displayName:"BaseNode___StyledPlayCircleOutlined",componentId:"sc-vkkiaj-3"})({paddingTop:"3px"}),D=(0,n.ZP)(r.Z).withConfig({displayName:"BaseNode___StyledPicCenterOutlined",componentId:"sc-vkkiaj-4"})({paddingTop:"3px"}),L=(0,n.ZP)(s.Z.Text).withConfig({displayName:"BaseNode___StyledTypographyText",componentId:"sc-vkkiaj-5"})({width:"fit-content",whiteSpace:"nowrap"}),V=(0,n.ZP)(p.Z).withConfig({displayName:"BaseNode___StyledSelect",componentId:"sc-vkkiaj-6"})({flexGrow:"1"}),G=(0,n.ZP)(u.Z).withConfig({displayName:"BaseNode___StyledInputNumber",componentId:"sc-vkkiaj-7"})({flexGrow:"1"}),$=(0,n.ZP)(m.Z.Password).withConfig({displayName:"BaseNode___StyledInputPassword",componentId:"sc-vkkiaj-8"})({flexGrow:"1"}),R=(0,n.ZP)(m.Z).withConfig({displayName:"BaseNode___StyledInput",componentId:"sc-vkkiaj-9"})({flexGrow:"1"}),H=(0,n.ZP)("div").withConfig({displayName:"BaseNode___StyledDiv2",componentId:"sc-vkkiaj-10"})({display:"flex",width:"24rem",flexDirection:"column","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0",marginTop:"calc(0.5rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(0.5rem * var(--tw-space-y-reverse))"}}),z=(0,n.ZP)(s.Z.Text).withConfig({displayName:"BaseNode___StyledTypographyText2",componentId:"sc-vkkiaj-11"})({fontWeight:"700"})},2761:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(2578),l=a.n(n),o=a(3417),r=a.n(o)()(l());r.push([e.id,"svg {\n  display: inline-block !important;\n  vertical-align: baseline !important;\n}\n",""]);const i=r}}]);